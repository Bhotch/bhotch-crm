{"ast":null,"code":"import _objectSpread from\"C:/Users/PC_User/Desktop/free-crm/bhotch-crm/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef,useMemo,useCallback}from'react';import{Loader2,AlertCircle,Map,MapPin,Navigation,Layers,Search,ChevronDown}from'lucide-react';import{loadGoogleMaps}from'../../services/googleMapsService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function GoogleMapComponent(_ref){let{leads,onLeadClick,showDemoData,mapType,showTraffic,searchAddress,onSearchComplete,selectedCustomer,onCustomerLocated}=_ref;const mapRef=useRef(null);const markersRef=useRef([]);const infoWindowRef=useRef(null);const trafficLayerRef=useRef(null);const[map,setMap]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[geocodedLeads,setGeocodedLeads]=useState([]);const[geocodingProgress,setGeocodingProgress]=useState(0);// Demo data for when no real leads exist\nconst demoLeads=useMemo(()=>[{id:'demo1',customerName:'John Smith',phoneNumber:'555-0123',address:'123 Main St, Ogden, UT',quality:'Hot',latitude:41.2230,longitude:-111.9738},{id:'demo2',customerName:'Sarah Johnson',phoneNumber:'555-0456',address:'456 Oak Ave, Salt Lake City, UT',quality:'Warm',latitude:40.7608,longitude:-111.8910},{id:'demo3',customerName:'Mike Wilson',phoneNumber:'555-0789',address:'789 Pine St, Provo, UT',quality:'Cold',latitude:40.2338,longitude:-111.6585},{id:'demo4',customerName:'Emily Davis',phoneNumber:'555-0321',address:'321 Elm Dr, West Valley, UT',quality:'Hot',latitude:40.6916,longitude:-112.0011},{id:'demo5',customerName:'Chris Brown',phoneNumber:'555-0654',address:'654 Cedar Ln, Layton, UT',quality:'Warm',latitude:41.0602,longitude:-111.9711}],[]);// Use demo data if showDemoData is true, otherwise use all leads (with and without coords)\nconst dataToShow=showDemoData?demoLeads:leads;// Separate leads with valid addresses for geocoding\nconst leadsWithAddresses=dataToShow.filter(lead=>lead.address&&lead.address.trim()!=='');const leadsWithoutAddresses=dataToShow.filter(lead=>!lead.address||lead.address.trim()==='');const getMarkerColor=useCallback(quality=>{switch(quality){case'Hot':return'#dc2626';case'Warm':return'#f59e0b';case'Cold':return'#3b82f6';default:return'#6b7280';}},[]);const createMarkerIcon=useCallback(quality=>{const color=getMarkerColor(quality);return{url:'data:image/svg+xml;charset=UTF-8,'+encodeURIComponent(\"<svg width=\\\"36\\\" height=\\\"36\\\" viewBox=\\\"0 0 36 36\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n          <path d=\\\"M18 2c-7.7 0-14 6.3-14 14 0 10.5 14 18 14 18s14-7.5 14-18c0-7.7-6.3-14-14-14z\\\" fill=\\\"\".concat(color,\"\\\" stroke=\\\"#ffffff\\\" stroke-width=\\\"2\\\"/>\\n          <circle cx=\\\"18\\\" cy=\\\"16\\\" r=\\\"6\\\" fill=\\\"#ffffff\\\"/>\\n          <circle cx=\\\"18\\\" cy=\\\"16\\\" r=\\\"3\\\" fill=\\\"\").concat(color,\"\\\"/>\\n        </svg>\")),scaledSize:new window.google.maps.Size(36,36),anchor:new window.google.maps.Point(18,36)};},[getMarkerColor]);useEffect(()=>{const initializeMap=async()=>{try{const google=await loadGoogleMaps();if(!mapRef.current)return;const mapStyles=[{featureType:\"poi.business\",stylers:[{visibility:\"off\"}]},{featureType:\"poi.park\",elementType:\"labels.text\",stylers:[{visibility:\"off\"}]}];const mapInstance=new google.maps.Map(mapRef.current,{center:{lat:40.7608,lng:-111.8910},// Salt Lake City center\nzoom:9,styles:mapStyles,mapTypeId:mapType,mapTypeControl:true,streetViewControl:true,fullscreenControl:true,zoomControl:true});// Initialize traffic layer\ntrafficLayerRef.current=new google.maps.TrafficLayer();if(showTraffic){trafficLayerRef.current.setMap(mapInstance);}infoWindowRef.current=new google.maps.InfoWindow();setMap(mapInstance);}catch(err){setError(err.message);}finally{setLoading(false);}};initializeMap();},[mapType,showTraffic]);// Update traffic layer visibility\nuseEffect(()=>{if(trafficLayerRef.current&&map){trafficLayerRef.current.setMap(showTraffic?map:null);}},[showTraffic,map]);// Handle address search when searchAddress changes\nuseEffect(()=>{if(!map||!window.google||!searchAddress)return;const geocoder=new window.google.maps.Geocoder();geocoder.geocode({address:searchAddress},(results,status)=>{if(status==='OK'&&results[0]){const location=results[0].geometry.location;map.setCenter(location);map.setZoom(15);// Add a marker for the searched address\nnew window.google.maps.Marker({position:location,map,title:searchAddress,icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:8,fillColor:'#4F46E5',fillOpacity:1,strokeColor:'#ffffff',strokeWeight:2}});}// Clear the search address after processing\nif(onSearchComplete)onSearchComplete();});},[map,searchAddress,onSearchComplete]);useEffect(()=>{window.viewLeadDetails=leadId=>{const lead=dataToShow.find(l=>l.id===leadId);if(lead&&onLeadClick)onLeadClick(lead);};return()=>{window.viewLeadDetails=null;};},[dataToShow,onLeadClick]);// Function to geocode a single address on demand\nconst geocodeSingleAddress=useCallback((address,callback)=>{if(!map||!window.google)return;const geocoder=new window.google.maps.Geocoder();geocoder.geocode({address},(results,status)=>{if(status==='OK'&&results[0]){const location=results[0].geometry.location;callback({lat:location.lat(),lng:location.lng(),success:true});}else{callback({success:false,error:status});}});},[map]);// Handle selected customer geocoding and map focusing\nuseEffect(()=>{if(!selectedCustomer||!map||!window.google)return;geocodeSingleAddress(selectedCustomer.address,result=>{if(result.success){const position={lat:result.lat,lng:result.lng};// Clear existing markers\nmarkersRef.current.forEach(marker=>marker.setMap(null));markersRef.current=[];// Center map on customer location\nmap.setCenter(position);map.setZoom(15);// Add marker for selected customer\nconst marker=new window.google.maps.Marker({position,map,title:selectedCustomer.customerName,icon:createMarkerIcon(selectedCustomer.quality),animation:window.google.maps.Animation.DROP});// Add info window\nmarker.addListener('click',()=>{const content=\"\\n            <div style=\\\"padding: 12px; min-width: 200px;\\\">\\n              <h3 style=\\\"margin: 0 0 8px 0; color: #1f2937; font-size: 16px; font-weight: 600;\\\">\\n                \".concat(selectedCustomer.customerName||'Unknown',\"\\n              </h3>\\n              <div style=\\\"margin-bottom: 8px;\\\">\\n                <strong style=\\\"color: #374151;\\\">Phone:</strong>\\n                <a href=\\\"tel:\").concat(selectedCustomer.phoneNumber,\"\\\" style=\\\"color: #3b82f6; text-decoration: none;\\\">\\n                  \").concat(selectedCustomer.phoneNumber||'N/A',\"\\n                </a>\\n              </div>\\n              <div style=\\\"margin-bottom: 8px;\\\">\\n                <strong style=\\\"color: #374151;\\\">Quality:</strong>\\n                <span style=\\\"background: \").concat(getMarkerColor(selectedCustomer.quality),\"20; color: \").concat(getMarkerColor(selectedCustomer.quality),\"; padding: 2px 6px; border-radius: 4px; font-size: 12px;\\\">\\n                  \").concat(selectedCustomer.quality,\"\\n                </span>\\n              </div>\\n              <div style=\\\"margin-bottom: 12px; color: #6b7280; font-size: 14px;\\\">\").concat(selectedCustomer.address,\"</div>\\n              <button onclick=\\\"window.viewLeadDetails('\").concat(selectedCustomer.id,\"')\\\"\\n                      style=\\\"background: #3b82f6; color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer; font-size: 14px; font-weight: 500;\\\">\\n                View Details\\n              </button>\\n            </div>\\n          \");infoWindowRef.current.setContent(content);infoWindowRef.current.open(map,marker);});markersRef.current.push(marker);if(onCustomerLocated){onCustomerLocated(_objectSpread(_objectSpread({},selectedCustomer),{},{lat:result.lat,lng:result.lng}));}}else{console.warn('Failed to geocode customer address:',selectedCustomer.address,result.error);}});},[selectedCustomer,map,geocodeSingleAddress,createMarkerIcon,getMarkerColor,onCustomerLocated]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"h-[70vh] w-full rounded-lg border border-gray-300 flex items-center justify-center bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(Loader2,{className:\"animate-spin h-10 w-10 text-blue-600 mx-auto mb-3\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-lg\",children:\"Loading Interactive Map...\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-sm mt-1\",children:\"Connecting to Google Maps\"})]})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"h-[70vh] w-full rounded-lg border border-red-300 flex items-center justify-center bg-red-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center max-w-md\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-12 w-12 text-red-600 mx-auto mb-3\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-red-800 mb-2\",children:\"Map Loading Failed\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600 mb-3\",children:error}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Please check your Google Maps API key configuration and internet connection.\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{ref:mapRef,className:\"h-[70vh] w-full rounded-lg overflow-hidden border border-gray-300 shadow-sm\"}),!showDemoData&&leadsWithoutAddresses.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 bg-yellow-50 border border-yellow-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-sm font-semibold text-yellow-800 mb-3 flex items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"w-4 h-4 mr-2\"}),\"Leads Without Address Data (\",leadsWithoutAddresses.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-3\",children:leadsWithoutAddresses.slice(0,4).map(lead=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-3 rounded border border-yellow-200 hover:shadow-sm transition-shadow cursor-pointer\",onClick:()=>onLeadClick&&onLeadClick(lead),children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900\",children:lead.customerName||'Unknown'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:lead.phoneNumber||'No phone'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"No address provided\"})]},lead.id))}),leadsWithoutAddresses.length>4&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 text-sm text-yellow-700\",children:[\"And \",leadsWithoutAddresses.length-4,\" more leads without addresses...\"]})]})]});}function MapView(_ref2){let{leads,onLeadClick,searchAddress,onSearchComplete}=_ref2;const[showDemoData,setShowDemoData]=useState(false);const[mapType,setMapType]=useState('roadmap');const[showTraffic,setShowTraffic]=useState(false);const[selectedCustomer,setSelectedCustomer]=useState(null);const[customerSearch,setCustomerSearch]=useState('');const[showCustomerDropdown,setShowCustomerDropdown]=useState(false);const leadsWithAddresses=useMemo(()=>leads.filter(lead=>lead.address&&lead.address.trim()!==''),[leads]);const hasRealData=leadsWithAddresses.length>0;// Filter customers based on search\nconst filteredCustomers=useMemo(()=>{if(!customerSearch)return leadsWithAddresses;return leadsWithAddresses.filter(lead=>{var _lead$customerName,_lead$firstName,_lead$lastName;return((_lead$customerName=lead.customerName)===null||_lead$customerName===void 0?void 0:_lead$customerName.toLowerCase().includes(customerSearch.toLowerCase()))||((_lead$firstName=lead.firstName)===null||_lead$firstName===void 0?void 0:_lead$firstName.toLowerCase().includes(customerSearch.toLowerCase()))||((_lead$lastName=lead.lastName)===null||_lead$lastName===void 0?void 0:_lead$lastName.toLowerCase().includes(customerSearch.toLowerCase()));});},[leadsWithAddresses,customerSearch]);const handleCustomerSelect=customer=>{setSelectedCustomer(customer);setCustomerSearch(customer.customerName||\"\".concat(customer.firstName||'',\" \").concat(customer.lastName||'').trim());setShowCustomerDropdown(false);};// Close dropdown when clicking outside\nuseEffect(()=>{const handleClickOutside=event=>{if(!event.target.closest('.customer-search-dropdown')){setShowCustomerDropdown(false);}};document.addEventListener('mousedown',handleClickOutside);return()=>document.removeEventListener('mousedown',handleClickOutside);},[]);const qualityStats=useMemo(()=>{const dataToAnalyze=showDemoData?[{quality:'Hot'},{quality:'Hot'},{quality:'Warm'},{quality:'Warm'},{quality:'Cold'}]:leads;return{hot:dataToAnalyze.filter(l=>l.quality==='Hot').length,warm:dataToAnalyze.filter(l=>l.quality==='Warm').length,cold:dataToAnalyze.filter(l=>l.quality==='Cold').length,total:dataToAnalyze.length,mapped:leadsWithAddresses.length};},[leads,leadsWithAddresses,showDemoData]);return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-3xl font-bold text-gray-900 flex items-center\",children:[/*#__PURE__*/_jsx(MapPin,{className:\"w-8 h-8 mr-3 text-blue-600\"}),\"Customer Locations\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-1\",children:\"Interactive map showing customer locations with lead quality indicators\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap items-center gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center bg-gray-100 rounded-lg p-1\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowDemoData(false),className:\"px-3 py-1 text-sm font-medium rounded-md transition-colors \".concat(!showDemoData?'bg-white text-gray-900 shadow-sm':'text-gray-600 hover:text-gray-900'),children:[\"Real Data (\",leads.length,\")\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowDemoData(true),className:\"px-3 py-1 text-sm font-medium rounded-md transition-colors \".concat(showDemoData?'bg-white text-gray-900 shadow-sm':'text-gray-600 hover:text-gray-900'),children:\"Demo Data (5)\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative customer-search-dropdown\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Search,{className:\"w-4 h-4 text-gray-400 absolute left-3 z-10\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search customer...\",value:customerSearch,onChange:e=>{setCustomerSearch(e.target.value);setShowCustomerDropdown(true);},onFocus:()=>setShowCustomerDropdown(true),className:\"pl-10 pr-10 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 w-64\"}),/*#__PURE__*/_jsx(ChevronDown,{className:\"w-4 h-4 text-gray-400 absolute right-3\"})]}),showCustomerDropdown&&filteredCustomers.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto z-20\",children:[filteredCustomers.slice(0,10).map(customer=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleCustomerSelect(customer),className:\"w-full text-left px-4 py-3 hover:bg-gray-50 border-b border-gray-100 last:border-b-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900\",children:customer.customerName||\"\".concat(customer.firstName||'',\" \").concat(customer.lastName||'').trim()||'Unknown'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500 truncate\",children:customer.address}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-400 mt-1\",children:/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex px-2 py-1 rounded-full text-xs font-medium \".concat(customer.quality==='Hot'?'bg-red-100 text-red-800':customer.quality==='Warm'?'bg-yellow-100 text-yellow-800':'bg-gray-100 text-gray-800'),children:customer.quality})})]},customer.id)),filteredCustomers.length>10&&/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-2 text-sm text-gray-500 bg-gray-50\",children:[\"And \",filteredCustomers.length-10,\" more results...\"]})]})]}),/*#__PURE__*/_jsxs(\"select\",{value:mapType,onChange:e=>setMapType(e.target.value),className:\"text-sm border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"roadmap\",children:\"Road Map\"}),/*#__PURE__*/_jsx(\"option\",{value:\"satellite\",children:\"Satellite\"}),/*#__PURE__*/_jsx(\"option\",{value:\"hybrid\",children:\"Hybrid\"}),/*#__PURE__*/_jsx(\"option\",{value:\"terrain\",children:\"Terrain\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowTraffic(!showTraffic),className:\"flex items-center px-3 py-2 text-sm font-medium rounded-lg border transition-colors \".concat(showTraffic?'bg-blue-50 border-blue-200 text-blue-700':'bg-white border-gray-300 text-gray-700 hover:bg-gray-50'),children:[/*#__PURE__*/_jsx(Navigation,{className:\"w-4 h-4 mr-2\"}),\"Traffic\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow p-4 border-l-4 border-red-500\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-red-500 rounded-full\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500\",children:\"Hot Leads\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:qualityStats.hot})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow p-4 border-l-4 border-yellow-500\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-yellow-500 rounded-full\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500\",children:\"Warm Leads\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:qualityStats.warm})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow p-4 border-l-4 border-blue-500\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-blue-500 rounded-full\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500\",children:\"Cold Leads\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:qualityStats.cold})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow p-4 border-l-4 border-gray-500\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(MapPin,{className:\"w-4 h-4 text-gray-600\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500\",children:\"Total Mapped\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:showDemoData?5:qualityStats.mapped})]})]})})]}),!hasRealData&&!showDemoData?/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-lg p-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(Map,{className:\"mx-auto h-20 w-20 text-gray-400 mb-6\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900 mb-3\",children:\"No Location Data Available\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6 max-w-md mx-auto\",children:\"Your leads don't have geocoded coordinates yet. Add addresses to your leads or use demo data to see the map in action.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row gap-3 justify-center\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowDemoData(true),className:\"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\",children:[/*#__PURE__*/_jsx(Map,{className:\"w-4 h-4 mr-2\"}),\"View Demo Data\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors\",children:[/*#__PURE__*/_jsx(Search,{className:\"w-4 h-4 mr-2\"}),\"Learn About Geocoding\"]})]})]})}):/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4 bg-gray-50 border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Interactive Map\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 text-sm text-gray-600\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-red-500 rounded-full mr-1\"}),\"Hot (\",qualityStats.hot,\")\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-yellow-500 rounded-full mr-1\"}),\"Warm (\",qualityStats.warm,\")\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-blue-500 rounded-full mr-1\"}),\"Cold (\",qualityStats.cold,\")\"]})]})]}),showDemoData&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-blue-600 bg-blue-50 px-3 py-1 rounded-full\",children:[/*#__PURE__*/_jsx(Layers,{className:\"w-4 h-4 mr-1\"}),\"Demo Mode\"]})]})}),/*#__PURE__*/_jsx(GoogleMapComponent,{leads:leads,onLeadClick:onLeadClick,showDemoData:showDemoData,mapType:mapType,showTraffic:showTraffic,searchAddress:searchAddress,onSearchComplete:onSearchComplete,selectedCustomer:selectedCustomer,onCustomerLocated:customer=>console.log('Customer located:',customer)})]})]});}export default MapView;","map":{"version":3,"names":["React","useState","useEffect","useRef","useMemo","useCallback","Loader2","AlertCircle","Map","MapPin","Navigation","Layers","Search","ChevronDown","loadGoogleMaps","jsx","_jsx","jsxs","_jsxs","GoogleMapComponent","_ref","leads","onLeadClick","showDemoData","mapType","showTraffic","searchAddress","onSearchComplete","selectedCustomer","onCustomerLocated","mapRef","markersRef","infoWindowRef","trafficLayerRef","map","setMap","loading","setLoading","error","setError","geocodedLeads","setGeocodedLeads","geocodingProgress","setGeocodingProgress","demoLeads","id","customerName","phoneNumber","address","quality","latitude","longitude","dataToShow","leadsWithAddresses","filter","lead","trim","leadsWithoutAddresses","getMarkerColor","createMarkerIcon","color","url","encodeURIComponent","concat","scaledSize","window","google","maps","Size","anchor","Point","initializeMap","current","mapStyles","featureType","stylers","visibility","elementType","mapInstance","center","lat","lng","zoom","styles","mapTypeId","mapTypeControl","streetViewControl","fullscreenControl","zoomControl","TrafficLayer","InfoWindow","err","message","geocoder","Geocoder","geocode","results","status","location","geometry","setCenter","setZoom","Marker","position","title","icon","path","SymbolPath","CIRCLE","scale","fillColor","fillOpacity","strokeColor","strokeWeight","viewLeadDetails","leadId","find","l","geocodeSingleAddress","callback","success","result","forEach","marker","animation","Animation","DROP","addListener","content","setContent","open","push","_objectSpread","console","warn","className","children","ref","length","slice","onClick","MapView","_ref2","setShowDemoData","setMapType","setShowTraffic","setSelectedCustomer","customerSearch","setCustomerSearch","showCustomerDropdown","setShowCustomerDropdown","hasRealData","filteredCustomers","_lead$customerName","_lead$firstName","_lead$lastName","toLowerCase","includes","firstName","lastName","handleCustomerSelect","customer","handleClickOutside","event","target","closest","document","addEventListener","removeEventListener","qualityStats","dataToAnalyze","hot","warm","cold","total","mapped","type","placeholder","value","onChange","e","onFocus","log"],"sources":["C:/Users/PC_User/Desktop/free-crm/bhotch-crm/src/features/map/MapView.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef, useMemo, useCallback } from 'react';\r\nimport { Loader2, AlertCircle, Map, MapPin, Navigation, Layers, Search, ChevronDown } from 'lucide-react';\r\nimport { loadGoogleMaps } from '../../services/googleMapsService';\r\n\r\nfunction GoogleMapComponent({ leads, onLeadClick, showDemoData, mapType, showTraffic, searchAddress, onSearchComplete, selectedCustomer, onCustomerLocated }) {\r\n  const mapRef = useRef(null);\r\n  const markersRef = useRef([]);\r\n  const infoWindowRef = useRef(null);\r\n  const trafficLayerRef = useRef(null);\r\n  const [map, setMap] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [geocodedLeads, setGeocodedLeads] = useState([]);\r\n  const [geocodingProgress, setGeocodingProgress] = useState(0);\r\n\r\n  // Demo data for when no real leads exist\r\n  const demoLeads = useMemo(() => [\r\n    { id: 'demo1', customerName: 'John Smith', phoneNumber: '555-0123', address: '123 Main St, Ogden, UT', quality: 'Hot', latitude: 41.2230, longitude: -111.9738 },\r\n    { id: 'demo2', customerName: 'Sarah Johnson', phoneNumber: '555-0456', address: '456 Oak Ave, Salt Lake City, UT', quality: 'Warm', latitude: 40.7608, longitude: -111.8910 },\r\n    { id: 'demo3', customerName: 'Mike Wilson', phoneNumber: '555-0789', address: '789 Pine St, Provo, UT', quality: 'Cold', latitude: 40.2338, longitude: -111.6585 },\r\n    { id: 'demo4', customerName: 'Emily Davis', phoneNumber: '555-0321', address: '321 Elm Dr, West Valley, UT', quality: 'Hot', latitude: 40.6916, longitude: -112.0011 },\r\n    { id: 'demo5', customerName: 'Chris Brown', phoneNumber: '555-0654', address: '654 Cedar Ln, Layton, UT', quality: 'Warm', latitude: 41.0602, longitude: -111.9711 }\r\n  ], []);\r\n\r\n  // Use demo data if showDemoData is true, otherwise use all leads (with and without coords)\r\n  const dataToShow = showDemoData ? demoLeads : leads;\r\n\r\n  // Separate leads with valid addresses for geocoding\r\n  const leadsWithAddresses = dataToShow.filter(lead => lead.address && lead.address.trim() !== '');\r\n  const leadsWithoutAddresses = dataToShow.filter(lead => !lead.address || lead.address.trim() === '');\r\n\r\n  const getMarkerColor = useCallback((quality) => {\r\n    switch (quality) {\r\n      case 'Hot': return '#dc2626';\r\n      case 'Warm': return '#f59e0b';\r\n      case 'Cold': return '#3b82f6';\r\n      default: return '#6b7280';\r\n    }\r\n  }, []);\r\n\r\n  const createMarkerIcon = useCallback((quality) => {\r\n    const color = getMarkerColor(quality);\r\n    return {\r\n      url: 'data:image/svg+xml;charset=UTF-8,' + encodeURIComponent(\r\n        `<svg width=\"36\" height=\"36\" viewBox=\"0 0 36 36\" xmlns=\"http://www.w3.org/2000/svg\">\r\n          <path d=\"M18 2c-7.7 0-14 6.3-14 14 0 10.5 14 18 14 18s14-7.5 14-18c0-7.7-6.3-14-14-14z\" fill=\"${color}\" stroke=\"#ffffff\" stroke-width=\"2\"/>\r\n          <circle cx=\"18\" cy=\"16\" r=\"6\" fill=\"#ffffff\"/>\r\n          <circle cx=\"18\" cy=\"16\" r=\"3\" fill=\"${color}\"/>\r\n        </svg>`\r\n      ),\r\n      scaledSize: new window.google.maps.Size(36, 36),\r\n      anchor: new window.google.maps.Point(18, 36)\r\n    };\r\n  }, [getMarkerColor]);\r\n\r\n  useEffect(() => {\r\n    const initializeMap = async () => {\r\n      try {\r\n        const google = await loadGoogleMaps();\r\n        if (!mapRef.current) return;\r\n\r\n        const mapStyles = [\r\n          { featureType: \"poi.business\", stylers: [{ visibility: \"off\" }] },\r\n          { featureType: \"poi.park\", elementType: \"labels.text\", stylers: [{ visibility: \"off\" }] }\r\n        ];\r\n\r\n        const mapInstance = new google.maps.Map(mapRef.current, {\r\n          center: { lat: 40.7608, lng: -111.8910 }, // Salt Lake City center\r\n          zoom: 9,\r\n          styles: mapStyles,\r\n          mapTypeId: mapType,\r\n          mapTypeControl: true,\r\n          streetViewControl: true,\r\n          fullscreenControl: true,\r\n          zoomControl: true\r\n        });\r\n\r\n        // Initialize traffic layer\r\n        trafficLayerRef.current = new google.maps.TrafficLayer();\r\n        if (showTraffic) {\r\n          trafficLayerRef.current.setMap(mapInstance);\r\n        }\r\n\r\n        infoWindowRef.current = new google.maps.InfoWindow();\r\n        setMap(mapInstance);\r\n      } catch (err) {\r\n        setError(err.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    initializeMap();\r\n  }, [mapType, showTraffic]);\r\n\r\n  // Update traffic layer visibility\r\n  useEffect(() => {\r\n    if (trafficLayerRef.current && map) {\r\n      trafficLayerRef.current.setMap(showTraffic ? map : null);\r\n    }\r\n  }, [showTraffic, map]);\r\n\r\n  // Handle address search when searchAddress changes\r\n  useEffect(() => {\r\n    if (!map || !window.google || !searchAddress) return;\r\n\r\n    const geocoder = new window.google.maps.Geocoder();\r\n    geocoder.geocode({ address: searchAddress }, (results, status) => {\r\n      if (status === 'OK' && results[0]) {\r\n        const location = results[0].geometry.location;\r\n        map.setCenter(location);\r\n        map.setZoom(15);\r\n\r\n        // Add a marker for the searched address\r\n        new window.google.maps.Marker({\r\n          position: location,\r\n          map,\r\n          title: searchAddress,\r\n          icon: {\r\n            path: window.google.maps.SymbolPath.CIRCLE,\r\n            scale: 8,\r\n            fillColor: '#4F46E5',\r\n            fillOpacity: 1,\r\n            strokeColor: '#ffffff',\r\n            strokeWeight: 2\r\n          }\r\n        });\r\n      }\r\n      // Clear the search address after processing\r\n      if (onSearchComplete) onSearchComplete();\r\n    });\r\n  }, [map, searchAddress, onSearchComplete]);\r\n\r\n  useEffect(() => {\r\n    window.viewLeadDetails = (leadId) => {\r\n      const lead = dataToShow.find(l => l.id === leadId);\r\n      if (lead && onLeadClick) onLeadClick(lead);\r\n    };\r\n    return () => { window.viewLeadDetails = null; };\r\n  }, [dataToShow, onLeadClick]);\r\n\r\n  // Function to geocode a single address on demand\r\n  const geocodeSingleAddress = useCallback((address, callback) => {\r\n    if (!map || !window.google) return;\r\n\r\n    const geocoder = new window.google.maps.Geocoder();\r\n    geocoder.geocode({ address }, (results, status) => {\r\n      if (status === 'OK' && results[0]) {\r\n        const location = results[0].geometry.location;\r\n        callback({\r\n          lat: location.lat(),\r\n          lng: location.lng(),\r\n          success: true\r\n        });\r\n      } else {\r\n        callback({ success: false, error: status });\r\n      }\r\n    });\r\n  }, [map]);\r\n\r\n  // Handle selected customer geocoding and map focusing\r\n  useEffect(() => {\r\n    if (!selectedCustomer || !map || !window.google) return;\r\n\r\n    geocodeSingleAddress(selectedCustomer.address, (result) => {\r\n      if (result.success) {\r\n        const position = { lat: result.lat, lng: result.lng };\r\n\r\n        // Clear existing markers\r\n        markersRef.current.forEach(marker => marker.setMap(null));\r\n        markersRef.current = [];\r\n\r\n        // Center map on customer location\r\n        map.setCenter(position);\r\n        map.setZoom(15);\r\n\r\n        // Add marker for selected customer\r\n        const marker = new window.google.maps.Marker({\r\n          position,\r\n          map,\r\n          title: selectedCustomer.customerName,\r\n          icon: createMarkerIcon(selectedCustomer.quality),\r\n          animation: window.google.maps.Animation.DROP\r\n        });\r\n\r\n        // Add info window\r\n        marker.addListener('click', () => {\r\n          const content = `\r\n            <div style=\"padding: 12px; min-width: 200px;\">\r\n              <h3 style=\"margin: 0 0 8px 0; color: #1f2937; font-size: 16px; font-weight: 600;\">\r\n                ${selectedCustomer.customerName || 'Unknown'}\r\n              </h3>\r\n              <div style=\"margin-bottom: 8px;\">\r\n                <strong style=\"color: #374151;\">Phone:</strong>\r\n                <a href=\"tel:${selectedCustomer.phoneNumber}\" style=\"color: #3b82f6; text-decoration: none;\">\r\n                  ${selectedCustomer.phoneNumber || 'N/A'}\r\n                </a>\r\n              </div>\r\n              <div style=\"margin-bottom: 8px;\">\r\n                <strong style=\"color: #374151;\">Quality:</strong>\r\n                <span style=\"background: ${getMarkerColor(selectedCustomer.quality)}20; color: ${getMarkerColor(selectedCustomer.quality)}; padding: 2px 6px; border-radius: 4px; font-size: 12px;\">\r\n                  ${selectedCustomer.quality}\r\n                </span>\r\n              </div>\r\n              <div style=\"margin-bottom: 12px; color: #6b7280; font-size: 14px;\">${selectedCustomer.address}</div>\r\n              <button onclick=\"window.viewLeadDetails('${selectedCustomer.id}')\"\r\n                      style=\"background: #3b82f6; color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer; font-size: 14px; font-weight: 500;\">\r\n                View Details\r\n              </button>\r\n            </div>\r\n          `;\r\n          infoWindowRef.current.setContent(content);\r\n          infoWindowRef.current.open(map, marker);\r\n        });\r\n\r\n        markersRef.current.push(marker);\r\n\r\n        if (onCustomerLocated) {\r\n          onCustomerLocated({ ...selectedCustomer, lat: result.lat, lng: result.lng });\r\n        }\r\n      } else {\r\n        console.warn('Failed to geocode customer address:', selectedCustomer.address, result.error);\r\n      }\r\n    });\r\n  }, [selectedCustomer, map, geocodeSingleAddress, createMarkerIcon, getMarkerColor, onCustomerLocated]);\r\n\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"h-[70vh] w-full rounded-lg border border-gray-300 flex items-center justify-center bg-gray-50\">\r\n        <div className=\"text-center\">\r\n          <Loader2 className=\"animate-spin h-10 w-10 text-blue-600 mx-auto mb-3\" />\r\n          <p className=\"text-gray-600 text-lg\">Loading Interactive Map...</p>\r\n          <p className=\"text-gray-500 text-sm mt-1\">Connecting to Google Maps</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"h-[70vh] w-full rounded-lg border border-red-300 flex items-center justify-center bg-red-50\">\r\n        <div className=\"text-center max-w-md\">\r\n          <AlertCircle className=\"h-12 w-12 text-red-600 mx-auto mb-3\" />\r\n          <h3 className=\"text-lg font-semibold text-red-800 mb-2\">Map Loading Failed</h3>\r\n          <p className=\"text-red-600 mb-3\">{error}</p>\r\n          <p className=\"text-sm text-gray-600\">\r\n            Please check your Google Maps API key configuration and internet connection.\r\n          </p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div ref={mapRef} className=\"h-[70vh] w-full rounded-lg overflow-hidden border border-gray-300 shadow-sm\" />\r\n\r\n      {/* Show leads without addresses if any exist */}\r\n      {!showDemoData && leadsWithoutAddresses.length > 0 && (\r\n        <div className=\"mt-4 bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\r\n          <h4 className=\"text-sm font-semibold text-yellow-800 mb-3 flex items-center\">\r\n            <AlertCircle className=\"w-4 h-4 mr-2\" />\r\n            Leads Without Address Data ({leadsWithoutAddresses.length})\r\n          </h4>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\r\n            {leadsWithoutAddresses.slice(0, 4).map(lead => (\r\n              <div key={lead.id} className=\"bg-white p-3 rounded border border-yellow-200 hover:shadow-sm transition-shadow cursor-pointer\"\r\n                   onClick={() => onLeadClick && onLeadClick(lead)}>\r\n                <div className=\"font-medium text-gray-900\">{lead.customerName || 'Unknown'}</div>\r\n                <div className=\"text-sm text-gray-600\">{lead.phoneNumber || 'No phone'}</div>\r\n                <div className=\"text-xs text-gray-500\">No address provided</div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n          {leadsWithoutAddresses.length > 4 && (\r\n            <div className=\"mt-3 text-sm text-yellow-700\">\r\n              And {leadsWithoutAddresses.length - 4} more leads without addresses...\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nfunction MapView({ leads, onLeadClick, searchAddress, onSearchComplete }) {\r\n  const [showDemoData, setShowDemoData] = useState(false);\r\n  const [mapType, setMapType] = useState('roadmap');\r\n  const [showTraffic, setShowTraffic] = useState(false);\r\n  const [selectedCustomer, setSelectedCustomer] = useState(null);\r\n  const [customerSearch, setCustomerSearch] = useState('');\r\n  const [showCustomerDropdown, setShowCustomerDropdown] = useState(false);\r\n\r\n  const leadsWithAddresses = useMemo(() => leads.filter(lead => lead.address && lead.address.trim() !== ''), [leads]);\r\n  const hasRealData = leadsWithAddresses.length > 0;\r\n\r\n  // Filter customers based on search\r\n  const filteredCustomers = useMemo(() => {\r\n    if (!customerSearch) return leadsWithAddresses;\r\n    return leadsWithAddresses.filter(lead =>\r\n      lead.customerName?.toLowerCase().includes(customerSearch.toLowerCase()) ||\r\n      lead.firstName?.toLowerCase().includes(customerSearch.toLowerCase()) ||\r\n      lead.lastName?.toLowerCase().includes(customerSearch.toLowerCase())\r\n    );\r\n  }, [leadsWithAddresses, customerSearch]);\r\n\r\n  const handleCustomerSelect = (customer) => {\r\n    setSelectedCustomer(customer);\r\n    setCustomerSearch(customer.customerName || `${customer.firstName || ''} ${customer.lastName || ''}`.trim());\r\n    setShowCustomerDropdown(false);\r\n  };\r\n\r\n  // Close dropdown when clicking outside\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (!event.target.closest('.customer-search-dropdown')) {\r\n        setShowCustomerDropdown(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => document.removeEventListener('mousedown', handleClickOutside);\r\n  }, []);\r\n\r\n  const qualityStats = useMemo(() => {\r\n    const dataToAnalyze = showDemoData ? [\r\n      { quality: 'Hot' }, { quality: 'Hot' }, { quality: 'Warm' }, { quality: 'Warm' }, { quality: 'Cold' }\r\n    ] : leads;\r\n\r\n    return {\r\n      hot: dataToAnalyze.filter(l => l.quality === 'Hot').length,\r\n      warm: dataToAnalyze.filter(l => l.quality === 'Warm').length,\r\n      cold: dataToAnalyze.filter(l => l.quality === 'Cold').length,\r\n      total: dataToAnalyze.length,\r\n      mapped: leadsWithAddresses.length\r\n    };\r\n  }, [leads, leadsWithAddresses, showDemoData]);\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header with enhanced controls */}\r\n      <div className=\"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-4\">\r\n        <div>\r\n          <h2 className=\"text-3xl font-bold text-gray-900 flex items-center\">\r\n            <MapPin className=\"w-8 h-8 mr-3 text-blue-600\" />\r\n            Customer Locations\r\n          </h2>\r\n          <p className=\"text-gray-600 mt-1\">\r\n            Interactive map showing customer locations with lead quality indicators\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"flex flex-wrap items-center gap-3\">\r\n          {/* Data Toggle */}\r\n          <div className=\"flex items-center bg-gray-100 rounded-lg p-1\">\r\n            <button\r\n              onClick={() => setShowDemoData(false)}\r\n              className={`px-3 py-1 text-sm font-medium rounded-md transition-colors ${\r\n                !showDemoData ? 'bg-white text-gray-900 shadow-sm' : 'text-gray-600 hover:text-gray-900'\r\n              }`}\r\n            >\r\n              Real Data ({leads.length})\r\n            </button>\r\n            <button\r\n              onClick={() => setShowDemoData(true)}\r\n              className={`px-3 py-1 text-sm font-medium rounded-md transition-colors ${\r\n                showDemoData ? 'bg-white text-gray-900 shadow-sm' : 'text-gray-600 hover:text-gray-900'\r\n              }`}\r\n            >\r\n              Demo Data (5)\r\n            </button>\r\n          </div>\r\n\r\n          {/* Customer Search Dropdown */}\r\n          <div className=\"relative customer-search-dropdown\">\r\n            <div className=\"flex items-center\">\r\n              <Search className=\"w-4 h-4 text-gray-400 absolute left-3 z-10\" />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search customer...\"\r\n                value={customerSearch}\r\n                onChange={(e) => {\r\n                  setCustomerSearch(e.target.value);\r\n                  setShowCustomerDropdown(true);\r\n                }}\r\n                onFocus={() => setShowCustomerDropdown(true)}\r\n                className=\"pl-10 pr-10 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 w-64\"\r\n              />\r\n              <ChevronDown className=\"w-4 h-4 text-gray-400 absolute right-3\" />\r\n            </div>\r\n\r\n            {showCustomerDropdown && filteredCustomers.length > 0 && (\r\n              <div className=\"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto z-20\">\r\n                {filteredCustomers.slice(0, 10).map((customer) => (\r\n                  <button\r\n                    key={customer.id}\r\n                    onClick={() => handleCustomerSelect(customer)}\r\n                    className=\"w-full text-left px-4 py-3 hover:bg-gray-50 border-b border-gray-100 last:border-b-0\"\r\n                  >\r\n                    <div className=\"font-medium text-gray-900\">\r\n                      {customer.customerName || `${customer.firstName || ''} ${customer.lastName || ''}`.trim() || 'Unknown'}\r\n                    </div>\r\n                    <div className=\"text-sm text-gray-500 truncate\">{customer.address}</div>\r\n                    <div className=\"text-xs text-gray-400 mt-1\">\r\n                      <span className={`inline-flex px-2 py-1 rounded-full text-xs font-medium ${\r\n                        customer.quality === 'Hot' ? 'bg-red-100 text-red-800' :\r\n                        customer.quality === 'Warm' ? 'bg-yellow-100 text-yellow-800' :\r\n                        'bg-gray-100 text-gray-800'\r\n                      }`}>\r\n                        {customer.quality}\r\n                      </span>\r\n                    </div>\r\n                  </button>\r\n                ))}\r\n                {filteredCustomers.length > 10 && (\r\n                  <div className=\"px-4 py-2 text-sm text-gray-500 bg-gray-50\">\r\n                    And {filteredCustomers.length - 10} more results...\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Map Type Selector */}\r\n          <select\r\n            value={mapType}\r\n            onChange={(e) => setMapType(e.target.value)}\r\n            className=\"text-sm border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n          >\r\n            <option value=\"roadmap\">Road Map</option>\r\n            <option value=\"satellite\">Satellite</option>\r\n            <option value=\"hybrid\">Hybrid</option>\r\n            <option value=\"terrain\">Terrain</option>\r\n          </select>\r\n\r\n          {/* Traffic Toggle */}\r\n          <button\r\n            onClick={() => setShowTraffic(!showTraffic)}\r\n            className={`flex items-center px-3 py-2 text-sm font-medium rounded-lg border transition-colors ${\r\n              showTraffic\r\n                ? 'bg-blue-50 border-blue-200 text-blue-700'\r\n                : 'bg-white border-gray-300 text-gray-700 hover:bg-gray-50'\r\n            }`}\r\n          >\r\n            <Navigation className=\"w-4 h-4 mr-2\" />\r\n            Traffic\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Statistics Cards */}\r\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n        <div className=\"bg-white rounded-lg shadow p-4 border-l-4 border-red-500\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"flex-shrink-0\">\r\n              <div className=\"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center\">\r\n                <div className=\"w-3 h-3 bg-red-500 rounded-full\"></div>\r\n              </div>\r\n            </div>\r\n            <div className=\"ml-3\">\r\n              <p className=\"text-sm font-medium text-gray-500\">Hot Leads</p>\r\n              <p className=\"text-2xl font-semibold text-gray-900\">{qualityStats.hot}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-lg shadow p-4 border-l-4 border-yellow-500\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"flex-shrink-0\">\r\n              <div className=\"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center\">\r\n                <div className=\"w-3 h-3 bg-yellow-500 rounded-full\"></div>\r\n              </div>\r\n            </div>\r\n            <div className=\"ml-3\">\r\n              <p className=\"text-sm font-medium text-gray-500\">Warm Leads</p>\r\n              <p className=\"text-2xl font-semibold text-gray-900\">{qualityStats.warm}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-lg shadow p-4 border-l-4 border-blue-500\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"flex-shrink-0\">\r\n              <div className=\"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center\">\r\n                <div className=\"w-3 h-3 bg-blue-500 rounded-full\"></div>\r\n              </div>\r\n            </div>\r\n            <div className=\"ml-3\">\r\n              <p className=\"text-sm font-medium text-gray-500\">Cold Leads</p>\r\n              <p className=\"text-2xl font-semibold text-gray-900\">{qualityStats.cold}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-lg shadow p-4 border-l-4 border-gray-500\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"flex-shrink-0\">\r\n              <div className=\"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center\">\r\n                <MapPin className=\"w-4 h-4 text-gray-600\" />\r\n              </div>\r\n            </div>\r\n            <div className=\"ml-3\">\r\n              <p className=\"text-sm font-medium text-gray-500\">Total Mapped</p>\r\n              <p className=\"text-2xl font-semibold text-gray-900\">{showDemoData ? 5 : qualityStats.mapped}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Map Container */}\r\n      {!hasRealData && !showDemoData ? (\r\n        <div className=\"bg-white rounded-lg shadow-lg p-8\">\r\n          <div className=\"text-center py-12\">\r\n            <Map className=\"mx-auto h-20 w-20 text-gray-400 mb-6\" />\r\n            <h3 className=\"text-xl font-semibold text-gray-900 mb-3\">No Location Data Available</h3>\r\n            <p className=\"text-gray-600 mb-6 max-w-md mx-auto\">\r\n              Your leads don't have geocoded coordinates yet. Add addresses to your leads or use demo data to see the map in action.\r\n            </p>\r\n            <div className=\"flex flex-col sm:flex-row gap-3 justify-center\">\r\n              <button\r\n                onClick={() => setShowDemoData(true)}\r\n                className=\"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\r\n              >\r\n                <Map className=\"w-4 h-4 mr-2\" />\r\n                View Demo Data\r\n              </button>\r\n              <button className=\"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors\">\r\n                <Search className=\"w-4 h-4 mr-2\" />\r\n                Learn About Geocoding\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className=\"bg-white rounded-lg shadow-lg overflow-hidden\">\r\n          <div className=\"p-4 bg-gray-50 border-b border-gray-200\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"flex items-center space-x-4\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900\">Interactive Map</h3>\r\n                <div className=\"flex items-center space-x-3 text-sm text-gray-600\">\r\n                  <div className=\"flex items-center\">\r\n                    <div className=\"w-3 h-3 bg-red-500 rounded-full mr-1\"></div>\r\n                    Hot ({qualityStats.hot})\r\n                  </div>\r\n                  <div className=\"flex items-center\">\r\n                    <div className=\"w-3 h-3 bg-yellow-500 rounded-full mr-1\"></div>\r\n                    Warm ({qualityStats.warm})\r\n                  </div>\r\n                  <div className=\"flex items-center\">\r\n                    <div className=\"w-3 h-3 bg-blue-500 rounded-full mr-1\"></div>\r\n                    Cold ({qualityStats.cold})\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              {showDemoData && (\r\n                <div className=\"flex items-center text-sm text-blue-600 bg-blue-50 px-3 py-1 rounded-full\">\r\n                  <Layers className=\"w-4 h-4 mr-1\" />\r\n                  Demo Mode\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <GoogleMapComponent\r\n            leads={leads}\r\n            onLeadClick={onLeadClick}\r\n            showDemoData={showDemoData}\r\n            mapType={mapType}\r\n            showTraffic={showTraffic}\r\n            searchAddress={searchAddress}\r\n            onSearchComplete={onSearchComplete}\r\n            selectedCustomer={selectedCustomer}\r\n            onCustomerLocated={(customer) => console.log('Customer located:', customer)}\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MapView;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}