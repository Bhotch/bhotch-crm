{"ast":null,"code":"import _objectSpread from\"C:/Users/PC_User/Desktop/free-crm/bhotch-crm/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useMemo,useCallback}from'react';import{Plus,Edit2,Eye,RefreshCw,Search,Calendar,Calculator,Users,TrendingUp,ChevronUp,ChevronDown,Filter,X,ChevronLeft,ChevronRight}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function JobCountView(_ref){let{jobCounts,onAddJobCount,onEditJobCount,onDeleteJobCount,onRefreshJobCounts,onSelectJobCount}=_ref;const[searchTerm,setSearchTerm]=useState('');const[filterDate,setFilterDate]=useState('');const[sortConfig,setSortConfig]=useState({key:null,direction:'asc'});const[columnFilters,setColumnFilters]=useState({});const[showFilters,setShowFilters]=useState(false);const[currentPage,setCurrentPage]=useState(1);const[itemsPerPage,setItemsPerPage]=useState(25);const formatNumber=useCallback(value=>{if(!value||value==='0'||value==='-')return'-';return Number(value).toLocaleString();},[]);const formatDate=useCallback(dateString=>{if(!dateString)return'-';try{return new Date(dateString).toLocaleDateString();}catch(_unused){return dateString;}},[]);const formatPhone=useCallback(phone=>{if(!phone)return'-';const cleaned=phone.toString().replace(/\\D/g,'');if(cleaned.length===10){return\"(\".concat(cleaned.slice(0,3),\") \").concat(cleaned.slice(3,6),\"-\").concat(cleaned.slice(6));}return phone;},[]);const handleSort=useCallback(key=>{setSortConfig(prevConfig=>({key,direction:prevConfig.key===key&&prevConfig.direction==='asc'?'desc':'asc'}));},[]);const getSortValue=useCallback((job,key)=>{switch(key){case'customer':return job.customerName||\"\".concat(job.firstName||'',\" \").concat(job.lastName||'').trim()||'Unknown';case'phone':return job.phoneNumber||'';case'date':return job.date||'';case'sqFt':return parseFloat(job.sqFt)||0;case'ridgeLf':return parseFloat(job.ridgeLf)||0;case'valleyLf':return parseFloat(job.valleyLf)||0;case'quote':return parseFloat(job.dabellaQuote)||0;default:return'';}},[]);const availableColumns=useMemo(()=>[{key:'date',label:'Date',type:'date'},{key:'customer',label:'Customer',type:'text'},{key:'phone',label:'Phone',type:'text'},{key:'address',label:'Address',type:'text'},{key:'sqFt',label:'SQ FT',type:'number'},{key:'ridgeLf',label:'Ridge LF',type:'number'},{key:'valleyLf',label:'Valley LF',type:'number'},{key:'quote',label:'Quote',type:'number'},{key:'quality',label:'Quality',type:'text'},{key:'disposition',label:'Disposition',type:'text'},{key:'leadSource',label:'Lead Source',type:'text'}],[]);const updateColumnFilter=useCallback((column,value)=>{setColumnFilters(prev=>{const newFilters=_objectSpread({},prev);if(value===''||value===null||value===undefined){delete newFilters[column];}else{newFilters[column]=value;}setCurrentPage(1);// Reset to first page when filtering\nreturn newFilters;});},[]);const clearAllFilters=useCallback(()=>{setColumnFilters({});setSearchTerm('');setFilterDate('');setCurrentPage(1);},[]);const filteredAndSortedJobCounts=useMemo(()=>{let filtered=jobCounts.filter(job=>{var _job$phoneNumber;// Global search filter\nconst matchesSearch=!searchTerm||[job.firstName,job.lastName,job.customerName,(_job$phoneNumber=job.phoneNumber)===null||_job$phoneNumber===void 0?void 0:_job$phoneNumber.toString(),job.address,job.quality,job.disposition,job.leadSource].some(field=>field===null||field===void 0?void 0:field.toLowerCase().includes(searchTerm.toLowerCase()));// Date filter\nconst matchesDate=!filterDate||job.date===filterDate;// Column-specific filters\nconst matchesColumnFilters=Object.entries(columnFilters).every(_ref2=>{var _job$phoneNumber2;let[column,filterValue]=_ref2;if(!filterValue)return true;let jobValue;switch(column){case'customer':jobValue=job.customerName||\"\".concat(job.firstName||'',\" \").concat(job.lastName||'').trim();break;case'phone':jobValue=((_job$phoneNumber2=job.phoneNumber)===null||_job$phoneNumber2===void 0?void 0:_job$phoneNumber2.toString())||'';break;case'address':jobValue=job.address||'';break;case'sqFt':jobValue=parseFloat(job.sqFt)||0;break;case'ridgeLf':jobValue=parseFloat(job.ridgeLf)||0;break;case'valleyLf':jobValue=parseFloat(job.valleyLf)||0;break;case'quote':jobValue=parseFloat(job.dabellaQuote)||0;break;case'date':jobValue=job.date||'';break;default:jobValue=job[column]||'';}const columnConfig=availableColumns.find(col=>col.key===column);if((columnConfig===null||columnConfig===void 0?void 0:columnConfig.type)==='number'){return jobValue>=parseFloat(filterValue);}else{return jobValue.toString().toLowerCase().includes(filterValue.toLowerCase());}});return matchesSearch&&matchesDate&&matchesColumnFilters;});if(sortConfig.key){filtered.sort((a,b)=>{const aValue=getSortValue(a,sortConfig.key);const bValue=getSortValue(b,sortConfig.key);if(typeof aValue==='string'&&typeof bValue==='string'){const comparison=aValue.toLowerCase().localeCompare(bValue.toLowerCase());return sortConfig.direction==='asc'?comparison:-comparison;}else{const comparison=aValue-bValue;return sortConfig.direction==='asc'?comparison:-comparison;}});}return filtered;},[jobCounts,searchTerm,filterDate,columnFilters,sortConfig,getSortValue,availableColumns]);const paginatedJobCounts=useMemo(()=>{const startIndex=(currentPage-1)*itemsPerPage;const endIndex=startIndex+itemsPerPage;return filteredAndSortedJobCounts.slice(startIndex,endIndex);},[filteredAndSortedJobCounts,currentPage,itemsPerPage]);const totalPages=Math.ceil(filteredAndSortedJobCounts.length/itemsPerPage);const hasActiveFilters=useMemo(()=>{return searchTerm||filterDate||Object.keys(columnFilters).length>0;},[searchTerm,filterDate,columnFilters]);const summaryStats=useMemo(()=>{return filteredAndSortedJobCounts.reduce((stats,job)=>{stats.totalJobs+=1;stats.totalSqFt+=parseFloat(job.sqFt)||0;stats.totalRidgeLf+=parseFloat(job.ridgeLf)||0;stats.totalValleyLf+=parseFloat(job.valleyLf)||0;return stats;},{totalJobs:0,totalSqFt:0,totalRidgeLf:0,totalValleyLf:0});},[filteredAndSortedJobCounts]);const SortableHeader=_ref3=>{var _availableColumns$fin;let{sortKey,children,className=\"\"}=_ref3;const hasFilter=columnFilters[sortKey];return/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider \".concat(className),children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between cursor-pointer hover:bg-gray-100 transition-colors select-none p-1 rounded\",onClick:()=>handleSort(sortKey),children:[/*#__PURE__*/_jsx(\"span\",{className:hasFilter?'text-blue-600 font-semibold':'',children:children}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1\",children:[hasFilter&&/*#__PURE__*/_jsx(Filter,{className:\"w-3 h-3 text-blue-600\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(ChevronUp,{className:\"w-3 h-3 \".concat(sortConfig.key===sortKey&&sortConfig.direction==='asc'?'text-blue-600':'text-gray-300')}),/*#__PURE__*/_jsx(ChevronDown,{className:\"w-3 h-3 -mt-1 \".concat(sortConfig.key===sortKey&&sortConfig.direction==='desc'?'text-blue-600':'text-gray-300')})]})]})]}),showFilters&&/*#__PURE__*/_jsx(ColumnFilter,{column:sortKey,value:columnFilters[sortKey]||'',onChange:value=>updateColumnFilter(sortKey,value),type:((_availableColumns$fin=availableColumns.find(col=>col.key===sortKey))===null||_availableColumns$fin===void 0?void 0:_availableColumns$fin.type)||'text'})]})});};const ColumnFilter=_ref4=>{let{column,value,onChange,type}=_ref4;const placeholder=type==='number'?'Min value...':'Filter...';return/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:type==='number'?'number':type==='date'?'date':'text',value:value,onChange:e=>onChange(e.target.value),placeholder:placeholder,className:\"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500\",onClick:e=>e.stopPropagation()}),value&&/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();onChange('');},className:\"absolute right-1 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(X,{className:\"w-3 h-3\"})})]});};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-gray-900\",children:\"Job Count Management\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-1\",children:\"Track roofing job counts, measurements, and customer information\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:onRefreshJobCounts,className:\"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors\",children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"w-4 h-4 mr-2\"}),\"Refresh\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:onAddJobCount,className:\"inline-flex items-center px-4 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors\",children:[/*#__PURE__*/_jsx(Plus,{className:\"w-4 h-4 mr-2\"}),\"Add Job Count\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-lg shadow-sm border\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative md:col-span-2\",children:[/*#__PURE__*/_jsx(Search,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search across all fields...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"pl-10 pr-4 py-3 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:filterDate,onChange:e=>setFilterDate(e.target.value),className:\"pl-10 pr-4 py-3 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowFilters(!showFilters),className:\"inline-flex items-center px-3 py-2 border rounded-lg text-sm font-medium transition-colors \".concat(showFilters?'border-blue-500 text-blue-700 bg-blue-50':'border-gray-300 text-gray-700 bg-white hover:bg-gray-50'),children:[/*#__PURE__*/_jsx(Filter,{className:\"w-4 h-4 mr-2\"}),\"Column Filters\",Object.keys(columnFilters).length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full\",children:Object.keys(columnFilters).length})]}),hasActiveFilters&&/*#__PURE__*/_jsxs(\"button\",{onClick:clearAllFilters,className:\"inline-flex items-center px-3 py-2 border border-red-300 rounded-lg text-sm font-medium text-red-700 bg-red-50 hover:bg-red-100 transition-colors\",children:[/*#__PURE__*/_jsx(X,{className:\"w-4 h-4 mr-2\"}),\"Clear All Filters\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"select\",{value:itemsPerPage,onChange:e=>{setItemsPerPage(Number(e.target.value));setCurrentPage(1);},className:\"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:10,children:\"10 per page\"}),/*#__PURE__*/_jsx(\"option\",{value:25,children:\"25 per page\"}),/*#__PURE__*/_jsx(\"option\",{value:50,children:\"50 per page\"}),/*#__PURE__*/_jsx(\"option\",{value:100,children:\"100 per page\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[\"Showing \",filteredAndSortedJobCounts.length===0?0:(currentPage-1)*itemsPerPage+1,\"-\",Math.min(currentPage*itemsPerPage,filteredAndSortedJobCounts.length),\" of \",filteredAndSortedJobCounts.length]})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-sm border p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(Users,{className:\"h-8 w-8 text-blue-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Total Jobs\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:summaryStats.totalJobs})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-sm border p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(Calculator,{className:\"h-8 w-8 text-green-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Total SQ FT\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:formatNumber(summaryStats.totalSqFt)})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-sm border p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(TrendingUp,{className:\"h-8 w-8 text-purple-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Total Ridge LF\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:formatNumber(summaryStats.totalRidgeLf)})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-sm border p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(TrendingUp,{className:\"h-8 w-8 text-orange-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Total Valley LF\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:formatNumber(summaryStats.totalValleyLf)})]})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-lg border border-gray-200 overflow-hidden\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"overflow-x-auto\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gradient-to-r from-gray-50 to-gray-100\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(SortableHeader,{sortKey:\"date\",children:\"Date\"}),/*#__PURE__*/_jsx(SortableHeader,{sortKey:\"customer\",className:\"w-80\",children:\"Customer\"}),/*#__PURE__*/_jsx(SortableHeader,{sortKey:\"phone\",children:\"Phone\"}),/*#__PURE__*/_jsx(SortableHeader,{sortKey:\"sqFt\",children:\"SQ FT\"}),/*#__PURE__*/_jsx(SortableHeader,{sortKey:\"ridgeLf\",children:\"Ridge LF\"}),/*#__PURE__*/_jsx(SortableHeader,{sortKey:\"valleyLf\",children:\"Valley LF\"}),/*#__PURE__*/_jsx(SortableHeader,{sortKey:\"quote\",children:\"Quote\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-100\",children:paginatedJobCounts.map((job,index)=>/*#__PURE__*/_jsxs(\"tr\",{className:\"cursor-pointer transition-all duration-200 hover:bg-blue-50 hover:shadow-md transform hover:-translate-y-0.5 \".concat(index%2===0?'bg-white':'bg-gray-50'),onClick:()=>onSelectJobCount(job),children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-5 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:formatDate(job.date)})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-5 whitespace-nowrap w-80\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-semibold text-gray-900\",children:job.customerName||\"\".concat(job.firstName||'',\" \").concat(job.lastName||'').trim()||'Unknown'}),job.address&&/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 truncate max-w-sm\",children:job.address})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-5 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"a\",{href:\"tel:\".concat(job.phoneNumber),onClick:e=>e.stopPropagation(),className:\"text-sm font-medium text-blue-600 hover:text-blue-800 hover:underline transition-colors\",children:formatPhone(job.phoneNumber)})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-5 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-bold text-green-700 bg-green-50 px-2 py-1 rounded-md inline-block\",children:formatNumber(job.sqFt)})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-5 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-bold text-purple-700 bg-purple-50 px-2 py-1 rounded-md inline-block\",children:formatNumber(job.ridgeLf)})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-5 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-bold text-orange-700 bg-orange-50 px-2 py-1 rounded-md inline-block\",children:formatNumber(job.valleyLf)})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-5 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-bold text-gray-900\",children:job.dabellaQuote?/*#__PURE__*/_jsxs(\"span\",{className:\"bg-green-100 text-green-800 px-3 py-1 rounded-full\",children:[\"$\",formatNumber(job.dabellaQuote)]}):/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"-\"})})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-5 whitespace-nowrap text-sm font-medium\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();onSelectJobCount(job);},className:\"text-blue-600 hover:text-blue-900 p-2 rounded-lg hover:bg-blue-100 transition-all duration-200 hover:scale-110\",title:\"View Details\",children:/*#__PURE__*/_jsx(Eye,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();onEditJobCount(job);},className:\"text-orange-600 hover:text-orange-900 p-2 rounded-lg hover:bg-orange-100 transition-all duration-200 hover:scale-110\",title:\"Edit\",children:/*#__PURE__*/_jsx(Edit2,{className:\"w-4 h-4\"})})]})})]},job.id||index))})]}),filteredAndSortedJobCounts.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(Calculator,{className:\"mx-auto h-12 w-12 text-gray-400\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"mt-2 text-sm font-medium text-gray-900\",children:\"No job counts found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500\",children:hasActiveFilters?'Try adjusting your search or filter criteria.':'Get started by adding your first job count.'})]})]})}),filteredAndSortedJobCounts.length>0&&totalPages>1&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-4 rounded-lg shadow-sm border\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(1),disabled:currentPage===1,className:\"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\",children:\"First\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentPage(prev=>Math.max(1,prev-1)),disabled:currentPage===1,className:\"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\",children:[/*#__PURE__*/_jsx(ChevronLeft,{className:\"w-4 h-4 mr-1\"}),\"Previous\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-1\",children:Array.from({length:Math.min(7,totalPages)},(_,i)=>{let pageNum;if(totalPages<=7){pageNum=i+1;}else if(currentPage<=4){pageNum=i+1;}else if(currentPage>=totalPages-3){pageNum=totalPages-6+i;}else{pageNum=currentPage-3+i;}return/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(pageNum),className:\"px-3 py-2 text-sm font-medium rounded-lg \".concat(currentPage===pageNum?'bg-blue-600 text-white':'text-gray-700 bg-white border border-gray-300 hover:bg-gray-50'),children:pageNum},pageNum);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentPage(prev=>Math.min(totalPages,prev+1)),disabled:currentPage===totalPages,className:\"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\",children:[\"Next\",/*#__PURE__*/_jsx(ChevronRight,{className:\"w-4 h-4 ml-1\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(totalPages),disabled:currentPage===totalPages,className:\"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\",children:\"Last\"})]})]})})]});}export default JobCountView;","map":{"version":3,"names":["React","useState","useMemo","useCallback","Plus","Edit2","Eye","RefreshCw","Search","Calendar","Calculator","Users","TrendingUp","ChevronUp","ChevronDown","Filter","X","ChevronLeft","ChevronRight","jsx","_jsx","jsxs","_jsxs","JobCountView","_ref","jobCounts","onAddJobCount","onEditJobCount","onDeleteJobCount","onRefreshJobCounts","onSelectJobCount","searchTerm","setSearchTerm","filterDate","setFilterDate","sortConfig","setSortConfig","key","direction","columnFilters","setColumnFilters","showFilters","setShowFilters","currentPage","setCurrentPage","itemsPerPage","setItemsPerPage","formatNumber","value","Number","toLocaleString","formatDate","dateString","Date","toLocaleDateString","_unused","formatPhone","phone","cleaned","toString","replace","length","concat","slice","handleSort","prevConfig","getSortValue","job","customerName","firstName","lastName","trim","phoneNumber","date","parseFloat","sqFt","ridgeLf","valleyLf","dabellaQuote","availableColumns","label","type","updateColumnFilter","column","prev","newFilters","_objectSpread","undefined","clearAllFilters","filteredAndSortedJobCounts","filtered","filter","_job$phoneNumber","matchesSearch","address","quality","disposition","leadSource","some","field","toLowerCase","includes","matchesDate","matchesColumnFilters","Object","entries","every","_ref2","_job$phoneNumber2","filterValue","jobValue","columnConfig","find","col","sort","a","b","aValue","bValue","comparison","localeCompare","paginatedJobCounts","startIndex","endIndex","totalPages","Math","ceil","hasActiveFilters","keys","summaryStats","reduce","stats","totalJobs","totalSqFt","totalRidgeLf","totalValleyLf","SortableHeader","_ref3","_availableColumns$fin","sortKey","children","className","hasFilter","onClick","ColumnFilter","onChange","_ref4","placeholder","e","target","stopPropagation","min","map","index","href","title","id","disabled","max","Array","from","_","i","pageNum"],"sources":["C:/Users/PC_User/Desktop/free-crm/bhotch-crm/src/features/jobcount/JobCountView.jsx"],"sourcesContent":["import React, { useState, useMemo, useCallback } from 'react';\r\nimport { Plus, Edit2, Eye, RefreshCw, Search, Calendar, Calculator, Users, TrendingUp, ChevronUp, ChevronDown, Filter, X, ChevronLeft, ChevronRight } from 'lucide-react';\r\n\r\nfunction JobCountView({ jobCounts, onAddJobCount, onEditJobCount, onDeleteJobCount, onRefreshJobCounts, onSelectJobCount }) {\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [filterDate, setFilterDate] = useState('');\r\n    const [sortConfig, setSortConfig] = useState({ key: null, direction: 'asc' });\r\n    const [columnFilters, setColumnFilters] = useState({});\r\n    const [showFilters, setShowFilters] = useState(false);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [itemsPerPage, setItemsPerPage] = useState(25);\r\n\r\n    const formatNumber = useCallback((value) => {\r\n        if (!value || value === '0' || value === '-') return '-';\r\n        return Number(value).toLocaleString();\r\n    }, []);\r\n\r\n    const formatDate = useCallback((dateString) => {\r\n        if (!dateString) return '-';\r\n        try {\r\n            return new Date(dateString).toLocaleDateString();\r\n        } catch {\r\n            return dateString;\r\n        }\r\n    }, []);\r\n\r\n    const formatPhone = useCallback((phone) => {\r\n        if (!phone) return '-';\r\n        const cleaned = phone.toString().replace(/\\D/g, '');\r\n        if (cleaned.length === 10) {\r\n            return `(${cleaned.slice(0, 3)}) ${cleaned.slice(3, 6)}-${cleaned.slice(6)}`;\r\n        }\r\n        return phone;\r\n    }, []);\r\n\r\n    const handleSort = useCallback((key) => {\r\n        setSortConfig(prevConfig => ({\r\n            key,\r\n            direction: prevConfig.key === key && prevConfig.direction === 'asc' ? 'desc' : 'asc'\r\n        }));\r\n    }, []);\r\n\r\n    const getSortValue = useCallback((job, key) => {\r\n        switch (key) {\r\n            case 'customer':\r\n                return job.customerName || `${job.firstName || ''} ${job.lastName || ''}`.trim() || 'Unknown';\r\n            case 'phone':\r\n                return job.phoneNumber || '';\r\n            case 'date':\r\n                return job.date || '';\r\n            case 'sqFt':\r\n                return parseFloat(job.sqFt) || 0;\r\n            case 'ridgeLf':\r\n                return parseFloat(job.ridgeLf) || 0;\r\n            case 'valleyLf':\r\n                return parseFloat(job.valleyLf) || 0;\r\n            case 'quote':\r\n                return parseFloat(job.dabellaQuote) || 0;\r\n            default:\r\n                return '';\r\n        }\r\n    }, []);\r\n\r\n    const availableColumns = useMemo(() => [\r\n        { key: 'date', label: 'Date', type: 'date' },\r\n        { key: 'customer', label: 'Customer', type: 'text' },\r\n        { key: 'phone', label: 'Phone', type: 'text' },\r\n        { key: 'address', label: 'Address', type: 'text' },\r\n        { key: 'sqFt', label: 'SQ FT', type: 'number' },\r\n        { key: 'ridgeLf', label: 'Ridge LF', type: 'number' },\r\n        { key: 'valleyLf', label: 'Valley LF', type: 'number' },\r\n        { key: 'quote', label: 'Quote', type: 'number' },\r\n        { key: 'quality', label: 'Quality', type: 'text' },\r\n        { key: 'disposition', label: 'Disposition', type: 'text' },\r\n        { key: 'leadSource', label: 'Lead Source', type: 'text' }\r\n    ], []);\r\n\r\n    const updateColumnFilter = useCallback((column, value) => {\r\n        setColumnFilters(prev => {\r\n            const newFilters = { ...prev };\r\n            if (value === '' || value === null || value === undefined) {\r\n                delete newFilters[column];\r\n            } else {\r\n                newFilters[column] = value;\r\n            }\r\n            setCurrentPage(1); // Reset to first page when filtering\r\n            return newFilters;\r\n        });\r\n    }, []);\r\n\r\n    const clearAllFilters = useCallback(() => {\r\n        setColumnFilters({});\r\n        setSearchTerm('');\r\n        setFilterDate('');\r\n        setCurrentPage(1);\r\n    }, []);\r\n\r\n    const filteredAndSortedJobCounts = useMemo(() => {\r\n        let filtered = jobCounts.filter(job => {\r\n            // Global search filter\r\n            const matchesSearch = !searchTerm || [\r\n                job.firstName,\r\n                job.lastName,\r\n                job.customerName,\r\n                job.phoneNumber?.toString(),\r\n                job.address,\r\n                job.quality,\r\n                job.disposition,\r\n                job.leadSource\r\n            ].some(field => field?.toLowerCase().includes(searchTerm.toLowerCase()));\r\n\r\n            // Date filter\r\n            const matchesDate = !filterDate || job.date === filterDate;\r\n\r\n            // Column-specific filters\r\n            const matchesColumnFilters = Object.entries(columnFilters).every(([column, filterValue]) => {\r\n                if (!filterValue) return true;\r\n\r\n                let jobValue;\r\n                switch (column) {\r\n                    case 'customer':\r\n                        jobValue = job.customerName || `${job.firstName || ''} ${job.lastName || ''}`.trim();\r\n                        break;\r\n                    case 'phone':\r\n                        jobValue = job.phoneNumber?.toString() || '';\r\n                        break;\r\n                    case 'address':\r\n                        jobValue = job.address || '';\r\n                        break;\r\n                    case 'sqFt':\r\n                        jobValue = parseFloat(job.sqFt) || 0;\r\n                        break;\r\n                    case 'ridgeLf':\r\n                        jobValue = parseFloat(job.ridgeLf) || 0;\r\n                        break;\r\n                    case 'valleyLf':\r\n                        jobValue = parseFloat(job.valleyLf) || 0;\r\n                        break;\r\n                    case 'quote':\r\n                        jobValue = parseFloat(job.dabellaQuote) || 0;\r\n                        break;\r\n                    case 'date':\r\n                        jobValue = job.date || '';\r\n                        break;\r\n                    default:\r\n                        jobValue = job[column] || '';\r\n                }\r\n\r\n                const columnConfig = availableColumns.find(col => col.key === column);\r\n                if (columnConfig?.type === 'number') {\r\n                    return jobValue >= parseFloat(filterValue);\r\n                } else {\r\n                    return jobValue.toString().toLowerCase().includes(filterValue.toLowerCase());\r\n                }\r\n            });\r\n\r\n            return matchesSearch && matchesDate && matchesColumnFilters;\r\n        });\r\n\r\n        if (sortConfig.key) {\r\n            filtered.sort((a, b) => {\r\n                const aValue = getSortValue(a, sortConfig.key);\r\n                const bValue = getSortValue(b, sortConfig.key);\r\n\r\n                if (typeof aValue === 'string' && typeof bValue === 'string') {\r\n                    const comparison = aValue.toLowerCase().localeCompare(bValue.toLowerCase());\r\n                    return sortConfig.direction === 'asc' ? comparison : -comparison;\r\n                } else {\r\n                    const comparison = aValue - bValue;\r\n                    return sortConfig.direction === 'asc' ? comparison : -comparison;\r\n                }\r\n            });\r\n        }\r\n\r\n        return filtered;\r\n    }, [jobCounts, searchTerm, filterDate, columnFilters, sortConfig, getSortValue, availableColumns]);\r\n\r\n    const paginatedJobCounts = useMemo(() => {\r\n        const startIndex = (currentPage - 1) * itemsPerPage;\r\n        const endIndex = startIndex + itemsPerPage;\r\n        return filteredAndSortedJobCounts.slice(startIndex, endIndex);\r\n    }, [filteredAndSortedJobCounts, currentPage, itemsPerPage]);\r\n\r\n    const totalPages = Math.ceil(filteredAndSortedJobCounts.length / itemsPerPage);\r\n\r\n    const hasActiveFilters = useMemo(() => {\r\n        return searchTerm || filterDate || Object.keys(columnFilters).length > 0;\r\n    }, [searchTerm, filterDate, columnFilters]);\r\n\r\n    const summaryStats = useMemo(() => {\r\n        return filteredAndSortedJobCounts.reduce((stats, job) => {\r\n            stats.totalJobs += 1;\r\n            stats.totalSqFt += parseFloat(job.sqFt) || 0;\r\n            stats.totalRidgeLf += parseFloat(job.ridgeLf) || 0;\r\n            stats.totalValleyLf += parseFloat(job.valleyLf) || 0;\r\n            return stats;\r\n        }, { totalJobs: 0, totalSqFt: 0, totalRidgeLf: 0, totalValleyLf: 0 });\r\n    }, [filteredAndSortedJobCounts]);\r\n\r\n    const SortableHeader = ({ sortKey, children, className = \"\" }) => {\r\n        const hasFilter = columnFilters[sortKey];\r\n        return (\r\n            <th className={`px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ${className}`}>\r\n                <div className=\"space-y-2\">\r\n                    <div\r\n                        className=\"flex items-center justify-between cursor-pointer hover:bg-gray-100 transition-colors select-none p-1 rounded\"\r\n                        onClick={() => handleSort(sortKey)}\r\n                    >\r\n                        <span className={hasFilter ? 'text-blue-600 font-semibold' : ''}>{children}</span>\r\n                        <div className=\"flex items-center space-x-1\">\r\n                            {hasFilter && <Filter className=\"w-3 h-3 text-blue-600\" />}\r\n                            <div className=\"flex flex-col\">\r\n                                <ChevronUp\r\n                                    className={`w-3 h-3 ${sortConfig.key === sortKey && sortConfig.direction === 'asc' ? 'text-blue-600' : 'text-gray-300'}`}\r\n                                />\r\n                                <ChevronDown\r\n                                    className={`w-3 h-3 -mt-1 ${sortConfig.key === sortKey && sortConfig.direction === 'desc' ? 'text-blue-600' : 'text-gray-300'}`}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    {showFilters && (\r\n                        <ColumnFilter\r\n                            column={sortKey}\r\n                            value={columnFilters[sortKey] || ''}\r\n                            onChange={(value) => updateColumnFilter(sortKey, value)}\r\n                            type={availableColumns.find(col => col.key === sortKey)?.type || 'text'}\r\n                        />\r\n                    )}\r\n                </div>\r\n            </th>\r\n        );\r\n    };\r\n\r\n    const ColumnFilter = ({ column, value, onChange, type }) => {\r\n        const placeholder = type === 'number' ? 'Min value...' : 'Filter...';\r\n        return (\r\n            <div className=\"relative\">\r\n                <input\r\n                    type={type === 'number' ? 'number' : type === 'date' ? 'date' : 'text'}\r\n                    value={value}\r\n                    onChange={(e) => onChange(e.target.value)}\r\n                    placeholder={placeholder}\r\n                    className=\"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500\"\r\n                    onClick={(e) => e.stopPropagation()}\r\n                />\r\n                {value && (\r\n                    <button\r\n                        onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            onChange('');\r\n                        }}\r\n                        className=\"absolute right-1 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600\"\r\n                    >\r\n                        <X className=\"w-3 h-3\" />\r\n                    </button>\r\n                )}\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            {/* Header */}\r\n            <div className=\"flex justify-between items-center\">\r\n                <div>\r\n                    <h2 className=\"text-3xl font-bold text-gray-900\">Job Count Management</h2>\r\n                    <p className=\"text-gray-600 mt-1\">Track roofing job counts, measurements, and customer information</p>\r\n                </div>\r\n                <div className=\"flex items-center space-x-3\">\r\n                    <button\r\n                        onClick={onRefreshJobCounts}\r\n                        className=\"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors\"\r\n                    >\r\n                        <RefreshCw className=\"w-4 h-4 mr-2\" />\r\n                        Refresh\r\n                    </button>\r\n                    <button\r\n                        onClick={onAddJobCount}\r\n                        className=\"inline-flex items-center px-4 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors\"\r\n                    >\r\n                        <Plus className=\"w-4 h-4 mr-2\" />\r\n                        Add Job Count\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Search and Filters */}\r\n            <div className=\"bg-white p-6 rounded-lg shadow-sm border\">\r\n                <div className=\"space-y-4\">\r\n                    {/* Main Search and Date Filter */}\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                        <div className=\"relative md:col-span-2\">\r\n                            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5\" />\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"Search across all fields...\"\r\n                                value={searchTerm}\r\n                                onChange={(e) => setSearchTerm(e.target.value)}\r\n                                className=\"pl-10 pr-4 py-3 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"relative\">\r\n                            <Calendar className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5\" />\r\n                            <input\r\n                                type=\"date\"\r\n                                value={filterDate}\r\n                                onChange={(e) => setFilterDate(e.target.value)}\r\n                                className=\"pl-10 pr-4 py-3 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Filter Controls */}\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div className=\"flex items-center space-x-4\">\r\n                            <button\r\n                                onClick={() => setShowFilters(!showFilters)}\r\n                                className={`inline-flex items-center px-3 py-2 border rounded-lg text-sm font-medium transition-colors ${\r\n                                    showFilters\r\n                                        ? 'border-blue-500 text-blue-700 bg-blue-50'\r\n                                        : 'border-gray-300 text-gray-700 bg-white hover:bg-gray-50'\r\n                                }`}\r\n                            >\r\n                                <Filter className=\"w-4 h-4 mr-2\" />\r\n                                Column Filters\r\n                                {Object.keys(columnFilters).length > 0 && (\r\n                                    <span className=\"ml-2 bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full\">\r\n                                        {Object.keys(columnFilters).length}\r\n                                    </span>\r\n                                )}\r\n                            </button>\r\n\r\n                            {hasActiveFilters && (\r\n                                <button\r\n                                    onClick={clearAllFilters}\r\n                                    className=\"inline-flex items-center px-3 py-2 border border-red-300 rounded-lg text-sm font-medium text-red-700 bg-red-50 hover:bg-red-100 transition-colors\"\r\n                                >\r\n                                    <X className=\"w-4 h-4 mr-2\" />\r\n                                    Clear All Filters\r\n                                </button>\r\n                            )}\r\n                        </div>\r\n\r\n                        <div className=\"flex items-center space-x-3\">\r\n                            <select\r\n                                value={itemsPerPage}\r\n                                onChange={(e) => {\r\n                                    setItemsPerPage(Number(e.target.value));\r\n                                    setCurrentPage(1);\r\n                                }}\r\n                                className=\"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                            >\r\n                                <option value={10}>10 per page</option>\r\n                                <option value={25}>25 per page</option>\r\n                                <option value={50}>50 per page</option>\r\n                                <option value={100}>100 per page</option>\r\n                            </select>\r\n\r\n                            <div className=\"text-sm text-gray-600\">\r\n                                Showing {filteredAndSortedJobCounts.length === 0 ? 0 : ((currentPage - 1) * itemsPerPage) + 1}-{Math.min(currentPage * itemsPerPage, filteredAndSortedJobCounts.length)} of {filteredAndSortedJobCounts.length}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Summary Statistics */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n                <div className=\"bg-white rounded-lg shadow-sm border p-6\">\r\n                    <div className=\"flex items-center\">\r\n                        <div className=\"flex-shrink-0\">\r\n                            <Users className=\"h-8 w-8 text-blue-600\" />\r\n                        </div>\r\n                        <div className=\"ml-4\">\r\n                            <p className=\"text-sm font-medium text-gray-600\">Total Jobs</p>\r\n                            <p className=\"text-2xl font-bold text-gray-900\">{summaryStats.totalJobs}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"bg-white rounded-lg shadow-sm border p-6\">\r\n                    <div className=\"flex items-center\">\r\n                        <div className=\"flex-shrink-0\">\r\n                            <Calculator className=\"h-8 w-8 text-green-600\" />\r\n                        </div>\r\n                        <div className=\"ml-4\">\r\n                            <p className=\"text-sm font-medium text-gray-600\">Total SQ FT</p>\r\n                            <p className=\"text-2xl font-bold text-gray-900\">{formatNumber(summaryStats.totalSqFt)}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"bg-white rounded-lg shadow-sm border p-6\">\r\n                    <div className=\"flex items-center\">\r\n                        <div className=\"flex-shrink-0\">\r\n                            <TrendingUp className=\"h-8 w-8 text-purple-600\" />\r\n                        </div>\r\n                        <div className=\"ml-4\">\r\n                            <p className=\"text-sm font-medium text-gray-600\">Total Ridge LF</p>\r\n                            <p className=\"text-2xl font-bold text-gray-900\">{formatNumber(summaryStats.totalRidgeLf)}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"bg-white rounded-lg shadow-sm border p-6\">\r\n                    <div className=\"flex items-center\">\r\n                        <div className=\"flex-shrink-0\">\r\n                            <TrendingUp className=\"h-8 w-8 text-orange-600\" />\r\n                        </div>\r\n                        <div className=\"ml-4\">\r\n                            <p className=\"text-sm font-medium text-gray-600\">Total Valley LF</p>\r\n                            <p className=\"text-2xl font-bold text-gray-900\">{formatNumber(summaryStats.totalValleyLf)}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Job Counts Table */}\r\n            <div className=\"bg-white rounded-lg shadow-lg border border-gray-200 overflow-hidden\">\r\n                <div className=\"overflow-x-auto\">\r\n                    <table className=\"min-w-full divide-y divide-gray-200\">\r\n                        <thead className=\"bg-gradient-to-r from-gray-50 to-gray-100\">\r\n                            <tr>\r\n                                <SortableHeader sortKey=\"date\">Date</SortableHeader>\r\n                                <SortableHeader sortKey=\"customer\" className=\"w-80\">Customer</SortableHeader>\r\n                                <SortableHeader sortKey=\"phone\">Phone</SortableHeader>\r\n                                <SortableHeader sortKey=\"sqFt\">SQ FT</SortableHeader>\r\n                                <SortableHeader sortKey=\"ridgeLf\">Ridge LF</SortableHeader>\r\n                                <SortableHeader sortKey=\"valleyLf\">Valley LF</SortableHeader>\r\n                                <SortableHeader sortKey=\"quote\">Quote</SortableHeader>\r\n                                <th className=\"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Actions</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody className=\"bg-white divide-y divide-gray-100\">\r\n                            {paginatedJobCounts.map((job, index) => (\r\n                                <tr\r\n                                    key={job.id || index}\r\n                                    className={`cursor-pointer transition-all duration-200 hover:bg-blue-50 hover:shadow-md transform hover:-translate-y-0.5 ${\r\n                                        index % 2 === 0 ? 'bg-white' : 'bg-gray-50'\r\n                                    }`}\r\n                                    onClick={() => onSelectJobCount(job)}\r\n                                >\r\n                                    <td className=\"px-6 py-5 whitespace-nowrap\">\r\n                                        <div className=\"text-sm font-medium text-gray-900\">{formatDate(job.date)}</div>\r\n                                    </td>\r\n                                    <td className=\"px-6 py-5 whitespace-nowrap w-80\">\r\n                                        <div className=\"flex flex-col space-y-1\">\r\n                                            <div className=\"text-sm font-semibold text-gray-900\">\r\n                                                {job.customerName || `${job.firstName || ''} ${job.lastName || ''}`.trim() || 'Unknown'}\r\n                                            </div>\r\n                                            {job.address && (\r\n                                                <div className=\"text-xs text-gray-500 truncate max-w-sm\">\r\n                                                    {job.address}\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n                                    </td>\r\n                                    <td className=\"px-6 py-5 whitespace-nowrap\">\r\n                                        <a\r\n                                            href={`tel:${job.phoneNumber}`}\r\n                                            onClick={(e) => e.stopPropagation()}\r\n                                            className=\"text-sm font-medium text-blue-600 hover:text-blue-800 hover:underline transition-colors\"\r\n                                        >\r\n                                            {formatPhone(job.phoneNumber)}\r\n                                        </a>\r\n                                    </td>\r\n                                    <td className=\"px-6 py-5 whitespace-nowrap\">\r\n                                        <div className=\"text-sm font-bold text-green-700 bg-green-50 px-2 py-1 rounded-md inline-block\">\r\n                                            {formatNumber(job.sqFt)}\r\n                                        </div>\r\n                                    </td>\r\n                                    <td className=\"px-6 py-5 whitespace-nowrap\">\r\n                                        <div className=\"text-sm font-bold text-purple-700 bg-purple-50 px-2 py-1 rounded-md inline-block\">\r\n                                            {formatNumber(job.ridgeLf)}\r\n                                        </div>\r\n                                    </td>\r\n                                    <td className=\"px-6 py-5 whitespace-nowrap\">\r\n                                        <div className=\"text-sm font-bold text-orange-700 bg-orange-50 px-2 py-1 rounded-md inline-block\">\r\n                                            {formatNumber(job.valleyLf)}\r\n                                        </div>\r\n                                    </td>\r\n                                    <td className=\"px-6 py-5 whitespace-nowrap\">\r\n                                        <div className=\"text-sm font-bold text-gray-900\">\r\n                                            {job.dabellaQuote ? (\r\n                                                <span className=\"bg-green-100 text-green-800 px-3 py-1 rounded-full\">\r\n                                                    ${formatNumber(job.dabellaQuote)}\r\n                                                </span>\r\n                                            ) : (\r\n                                                <span className=\"text-gray-400\">-</span>\r\n                                            )}\r\n                                        </div>\r\n                                    </td>\r\n                                    <td className=\"px-6 py-5 whitespace-nowrap text-sm font-medium\">\r\n                                        <div className=\"flex items-center space-x-3\">\r\n                                            <button\r\n                                                onClick={(e) => { e.stopPropagation(); onSelectJobCount(job); }}\r\n                                                className=\"text-blue-600 hover:text-blue-900 p-2 rounded-lg hover:bg-blue-100 transition-all duration-200 hover:scale-110\"\r\n                                                title=\"View Details\"\r\n                                            >\r\n                                                <Eye className=\"w-4 h-4\" />\r\n                                            </button>\r\n                                            <button\r\n                                                onClick={(e) => { e.stopPropagation(); onEditJobCount(job); }}\r\n                                                className=\"text-orange-600 hover:text-orange-900 p-2 rounded-lg hover:bg-orange-100 transition-all duration-200 hover:scale-110\"\r\n                                                title=\"Edit\"\r\n                                            >\r\n                                                <Edit2 className=\"w-4 h-4\" />\r\n                                            </button>\r\n                                        </div>\r\n                                    </td>\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n                    {filteredAndSortedJobCounts.length === 0 && (\r\n                        <div className=\"text-center py-12\">\r\n                            <Calculator className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n                            <h3 className=\"mt-2 text-sm font-medium text-gray-900\">No job counts found</h3>\r\n                            <p className=\"mt-1 text-sm text-gray-500\">\r\n                                {hasActiveFilters\r\n                                    ? 'Try adjusting your search or filter criteria.'\r\n                                    : 'Get started by adding your first job count.'}\r\n                            </p>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Pagination */}\r\n            {filteredAndSortedJobCounts.length > 0 && totalPages > 1 && (\r\n                <div className=\"bg-white p-4 rounded-lg shadow-sm border\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div className=\"flex items-center space-x-2\">\r\n                            <button\r\n                                onClick={() => setCurrentPage(1)}\r\n                                disabled={currentPage === 1}\r\n                                className=\"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                            >\r\n                                First\r\n                            </button>\r\n                            <button\r\n                                onClick={() => setCurrentPage(prev => Math.max(1, prev - 1))}\r\n                                disabled={currentPage === 1}\r\n                                className=\"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                            >\r\n                                <ChevronLeft className=\"w-4 h-4 mr-1\" />\r\n                                Previous\r\n                            </button>\r\n                        </div>\r\n\r\n                        <div className=\"flex items-center space-x-1\">\r\n                            {Array.from({ length: Math.min(7, totalPages) }, (_, i) => {\r\n                                let pageNum;\r\n                                if (totalPages <= 7) {\r\n                                    pageNum = i + 1;\r\n                                } else if (currentPage <= 4) {\r\n                                    pageNum = i + 1;\r\n                                } else if (currentPage >= totalPages - 3) {\r\n                                    pageNum = totalPages - 6 + i;\r\n                                } else {\r\n                                    pageNum = currentPage - 3 + i;\r\n                                }\r\n\r\n                                return (\r\n                                    <button\r\n                                        key={pageNum}\r\n                                        onClick={() => setCurrentPage(pageNum)}\r\n                                        className={`px-3 py-2 text-sm font-medium rounded-lg ${\r\n                                            currentPage === pageNum\r\n                                                ? 'bg-blue-600 text-white'\r\n                                                : 'text-gray-700 bg-white border border-gray-300 hover:bg-gray-50'\r\n                                        }`}\r\n                                    >\r\n                                        {pageNum}\r\n                                    </button>\r\n                                );\r\n                            })}\r\n                        </div>\r\n\r\n                        <div className=\"flex items-center space-x-2\">\r\n                            <button\r\n                                onClick={() => setCurrentPage(prev => Math.min(totalPages, prev + 1))}\r\n                                disabled={currentPage === totalPages}\r\n                                className=\"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                            >\r\n                                Next\r\n                                <ChevronRight className=\"w-4 h-4 ml-1\" />\r\n                            </button>\r\n                            <button\r\n                                onClick={() => setCurrentPage(totalPages)}\r\n                                disabled={currentPage === totalPages}\r\n                                className=\"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                            >\r\n                                Last\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default JobCountView;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}