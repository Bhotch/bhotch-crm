{"ast":null,"code":"const GOOGLE_MAPS_API_KEY=process.env.REACT_APP_GOOGLE_MAPS_API_KEY;let googleMapsLoaded=false;export const loadGoogleMaps=()=>{return new Promise((resolve,reject)=>{var _window$google;if(!GOOGLE_MAPS_API_KEY){return reject(new Error('Google Maps API key is not configured. Please check your environment variables.'));}if(googleMapsLoaded&&(_window$google=window.google)!==null&&_window$google!==void 0&&_window$google.maps){return resolve(window.google);}const scriptId='google-maps-script';const existingScript=document.getElementById(scriptId);if(existingScript){// Script is already loading, wait for it\nexistingScript.addEventListener('load',()=>{googleMapsLoaded=true;resolve(window.google);});existingScript.addEventListener('error',()=>{reject(new Error('Failed to load Google Maps. Please check your API key and internet connection.'));});return;}const script=document.createElement('script');script.id=scriptId;script.src=\"https://maps.googleapis.com/maps/api/js?key=\".concat(GOOGLE_MAPS_API_KEY,\"&libraries=geometry,places&loading=async\");script.async=true;script.defer=true;script.onload=()=>{googleMapsLoaded=true;resolve(window.google);};script.onerror=()=>{document.head.removeChild(script);reject(new Error('Failed to load Google Maps. Please check your API key and internet connection.'));};document.head.appendChild(script);});};","map":{"version":3,"names":["GOOGLE_MAPS_API_KEY","process","env","REACT_APP_GOOGLE_MAPS_API_KEY","googleMapsLoaded","loadGoogleMaps","Promise","resolve","reject","_window$google","Error","window","google","maps","scriptId","existingScript","document","getElementById","addEventListener","script","createElement","id","src","concat","async","defer","onload","onerror","head","removeChild","appendChild"],"sources":["c:/Users/PC_User/Desktop/free-crm/bhotch-crm/src/services/googleMapsService.js"],"sourcesContent":["const GOOGLE_MAPS_API_KEY = process.env.REACT_APP_GOOGLE_MAPS_API_KEY;\r\nlet googleMapsLoaded = false;\r\n\r\nexport const loadGoogleMaps = () => {\r\n  return new Promise((resolve, reject) => {\r\n    if (!GOOGLE_MAPS_API_KEY) {\r\n        return reject(new Error('Google Maps API key is not configured. Please check your environment variables.'));\r\n    }\r\n    \r\n    if (googleMapsLoaded && window.google?.maps) {\r\n      return resolve(window.google);\r\n    }\r\n    \r\n    const scriptId = 'google-maps-script';\r\n    const existingScript = document.getElementById(scriptId);\r\n    \r\n    if (existingScript) {\r\n      // Script is already loading, wait for it\r\n      existingScript.addEventListener('load', () => {\r\n        googleMapsLoaded = true;\r\n        resolve(window.google);\r\n      });\r\n      existingScript.addEventListener('error', () => {\r\n        reject(new Error('Failed to load Google Maps. Please check your API key and internet connection.'));\r\n      });\r\n      return;\r\n    }\r\n\r\n    const script = document.createElement('script');\r\n    script.id = scriptId;\r\n    script.src = `https://maps.googleapis.com/maps/api/js?key=${GOOGLE_MAPS_API_KEY}&libraries=geometry,places&loading=async`;\r\n    script.async = true;\r\n    script.defer = true;\r\n    \r\n    script.onload = () => { \r\n        googleMapsLoaded = true; \r\n        resolve(window.google); \r\n    };\r\n    \r\n    script.onerror = () => {\r\n      document.head.removeChild(script);\r\n      reject(new Error('Failed to load Google Maps. Please check your API key and internet connection.'));\r\n    };\r\n    \r\n    document.head.appendChild(script);\r\n  });\r\n};"],"mappings":"AAAA,KAAM,CAAAA,mBAAmB,CAAGC,OAAO,CAACC,GAAG,CAACC,6BAA6B,CACrE,GAAI,CAAAC,gBAAgB,CAAG,KAAK,CAE5B,MAAO,MAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM,CAClC,MAAO,IAAI,CAAAC,OAAO,CAAC,CAACC,OAAO,CAAEC,MAAM,GAAK,KAAAC,cAAA,CACtC,GAAI,CAACT,mBAAmB,CAAE,CACtB,MAAO,CAAAQ,MAAM,CAAC,GAAI,CAAAE,KAAK,CAAC,iFAAiF,CAAC,CAAC,CAC/G,CAEA,GAAIN,gBAAgB,GAAAK,cAAA,CAAIE,MAAM,CAACC,MAAM,UAAAH,cAAA,WAAbA,cAAA,CAAeI,IAAI,CAAE,CAC3C,MAAO,CAAAN,OAAO,CAACI,MAAM,CAACC,MAAM,CAAC,CAC/B,CAEA,KAAM,CAAAE,QAAQ,CAAG,oBAAoB,CACrC,KAAM,CAAAC,cAAc,CAAGC,QAAQ,CAACC,cAAc,CAACH,QAAQ,CAAC,CAExD,GAAIC,cAAc,CAAE,CAClB;AACAA,cAAc,CAACG,gBAAgB,CAAC,MAAM,CAAE,IAAM,CAC5Cd,gBAAgB,CAAG,IAAI,CACvBG,OAAO,CAACI,MAAM,CAACC,MAAM,CAAC,CACxB,CAAC,CAAC,CACFG,cAAc,CAACG,gBAAgB,CAAC,OAAO,CAAE,IAAM,CAC7CV,MAAM,CAAC,GAAI,CAAAE,KAAK,CAAC,gFAAgF,CAAC,CAAC,CACrG,CAAC,CAAC,CACF,OACF,CAEA,KAAM,CAAAS,MAAM,CAAGH,QAAQ,CAACI,aAAa,CAAC,QAAQ,CAAC,CAC/CD,MAAM,CAACE,EAAE,CAAGP,QAAQ,CACpBK,MAAM,CAACG,GAAG,gDAAAC,MAAA,CAAkDvB,mBAAmB,4CAA0C,CACzHmB,MAAM,CAACK,KAAK,CAAG,IAAI,CACnBL,MAAM,CAACM,KAAK,CAAG,IAAI,CAEnBN,MAAM,CAACO,MAAM,CAAG,IAAM,CAClBtB,gBAAgB,CAAG,IAAI,CACvBG,OAAO,CAACI,MAAM,CAACC,MAAM,CAAC,CAC1B,CAAC,CAEDO,MAAM,CAACQ,OAAO,CAAG,IAAM,CACrBX,QAAQ,CAACY,IAAI,CAACC,WAAW,CAACV,MAAM,CAAC,CACjCX,MAAM,CAAC,GAAI,CAAAE,KAAK,CAAC,gFAAgF,CAAC,CAAC,CACrG,CAAC,CAEDM,QAAQ,CAACY,IAAI,CAACE,WAAW,CAACX,MAAM,CAAC,CACnC,CAAC,CAAC,CACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}