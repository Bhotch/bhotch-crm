{"ast":null,"code":"import _objectSpread from\"c:/Users/PC_User/Desktop/free-crm/bhotch-crm/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useMemo,useCallback}from'react';import{Plus,Edit2,Eye,RefreshCw,XCircle,CheckCircle,Clock,AlertCircle,DollarSign,ShieldCheck,Search,Calendar,ChevronUp,ChevronDown,Filter,X,Settings,ChevronLeft,ChevronRight,Save}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function LeadsView(_ref){let{leads,onAddLead,onEditLead,onDeleteLead,onRefreshLeads,onSelectLead}=_ref;const[searchTerm,setSearchTerm]=useState('');const[filterDate,setFilterDate]=useState('');const[sortConfig,setSortConfig]=useState({key:null,direction:'asc'});const[columnFilters,setColumnFilters]=useState({});const[showFilters,setShowFilters]=useState(false);const[currentPage,setCurrentPage]=useState(1);const[itemsPerPage,setItemsPerPage]=useState(25);const[showColumnSettings,setShowColumnSettings]=useState(false);// Default column visibility settings\nconst defaultVisibleColumns={// Basic Information (most important shown by default)\nid:false,date:true,createdDate:false,modifiedDate:false,customerName:true,firstName:false,lastName:false,phoneNumber:true,email:false,address:true,latitude:false,longitude:false,// Lead Information\nquality:true,disposition:true,leadSource:true,status:false,// Roof Information\nroofAge:false,roofType:false,// Measurements\nsqFt:true,ridgeLf:true,valleyLf:true,eavesLf:false,// Financial\ndabellaQuote:true,// Ventilation\nridgeVents:false,turbine:false,rimeFlow:false,// Components\nhighProfileRidgeCap:false,valleyMetal:false,// Pipes\npipes1Half:false,pipes2:false,pipes3:false,pipes4:false,// Features\ngables:false,turtleBacks:false,satellite:false,chimney:false,solar:false,swampCooler:false,// Gutters\nguttersLf:false,downspouts:false,gutterGuardLf:false,// Additional\npermanentLighting:false,notes:false};// Load saved column preferences from localStorage\nconst loadSavedColumns=()=>{try{const saved=localStorage.getItem('leadsVisibleColumns');if(saved){return JSON.parse(saved);}}catch(error){console.error('Error loading saved columns:',error);}return defaultVisibleColumns;};const[visibleColumns,setVisibleColumns]=useState(loadSavedColumns);const[tempVisibleColumns,setTempVisibleColumns]=useState(loadSavedColumns);// Save column preferences to localStorage when save button is clicked\nconst handleSaveColumns=useCallback(()=>{try{localStorage.setItem('leadsVisibleColumns',JSON.stringify(tempVisibleColumns));setVisibleColumns(tempVisibleColumns);setShowColumnSettings(false);}catch(error){console.error('Error saving columns:',error);}},[tempVisibleColumns]);const getStatusBadge=useCallback(status=>{const badges={'New':{bg:'bg-blue-100',text:'text-blue-800',icon:Plus},'Scheduled':{bg:'bg-cyan-100',text:'text-cyan-800',icon:Calendar},'Insurance':{bg:'bg-indigo-100',text:'text-indigo-800',icon:ShieldCheck},'Quoted':{bg:'bg-yellow-100',text:'text-yellow-800',icon:DollarSign},'Follow Up':{bg:'bg-orange-100',text:'text-orange-800',icon:Clock},'Closed Sold':{bg:'bg-green-100',text:'text-green-800',icon:CheckCircle},'Closed Lost':{bg:'bg-red-100',text:'text-red-800',icon:XCircle}};const badge=badges[status]||{bg:'bg-gray-100',text:'text-gray-800',icon:AlertCircle};const Icon=badge.icon;return/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium \".concat(badge.bg,\" \").concat(badge.text),children:[/*#__PURE__*/_jsx(Icon,{className:\"w-3 h-3 mr-1\"}),status]});},[]);const formatNumber=useCallback(value=>{if(!value||value==='0'||value==='-')return'-';return Number(value).toLocaleString();},[]);const formatDate=useCallback(dateString=>{if(!dateString)return'-';try{return new Date(dateString).toLocaleDateString();}catch(_unused){return dateString;}},[]);const formatPhone=useCallback(phone=>{const phoneString=String(phone||'');if(!phoneString)return'-';const cleaned=phoneString.replace(/\\D/g,'');if(cleaned.length===10)return\"(\".concat(cleaned.slice(0,3),\") \").concat(cleaned.slice(3,6),\"-\").concat(cleaned.slice(6));return phoneString;},[]);const handleSort=useCallback(key=>{setSortConfig(prevConfig=>({key,direction:prevConfig.key===key&&prevConfig.direction==='asc'?'desc':'asc'}));},[]);const availableColumns=useMemo(()=>[// Basic Information\n{key:'id',label:'ID',type:'text',category:'Basic'},{key:'date',label:'Date',type:'date',category:'Basic'},{key:'createdDate',label:'Created Date',type:'date',category:'Basic'},{key:'modifiedDate',label:'Modified Date',type:'date',category:'Basic'},{key:'customerName',label:'Customer Name',type:'text',category:'Basic'},{key:'firstName',label:'First Name',type:'text',category:'Basic'},{key:'lastName',label:'Last Name',type:'text',category:'Basic'},{key:'phoneNumber',label:'Phone Number',type:'text',category:'Basic'},{key:'email',label:'Email',type:'text',category:'Basic'},{key:'address',label:'Address',type:'text',category:'Basic'},{key:'latitude',label:'Latitude',type:'number',category:'Basic'},{key:'longitude',label:'Longitude',type:'number',category:'Basic'},// Lead Information\n{key:'quality',label:'Quality',type:'text',category:'Lead Info'},{key:'disposition',label:'Disposition',type:'text',category:'Lead Info'},{key:'leadSource',label:'Lead Source',type:'text',category:'Lead Info'},{key:'status',label:'Status',type:'text',category:'Lead Info'},// Roof Information\n{key:'roofAge',label:'Roof Age',type:'text',category:'Roof Info'},{key:'roofType',label:'Roof Type',type:'text',category:'Roof Info'},// Measurements\n{key:'sqFt',label:'SQ FT',type:'number',category:'Measurements'},{key:'ridgeLf',label:'Ridge LF',type:'number',category:'Measurements'},{key:'valleyLf',label:'Valley LF',type:'number',category:'Measurements'},{key:'eavesLf',label:'Eaves LF',type:'number',category:'Measurements'},// Financial\n{key:'dabellaQuote',label:'DaBella Quote',type:'number',category:'Financial'},// Ventilation\n{key:'ridgeVents',label:'Ridge Vents',type:'number',category:'Ventilation'},{key:'turbine',label:'Turbine',type:'number',category:'Ventilation'},{key:'rimeFlow',label:'Rime Flow',type:'number',category:'Ventilation'},// Components\n{key:'highProfileRidgeCap',label:'High Profile Ridge Cap',type:'number',category:'Components'},{key:'valleyMetal',label:'Valley Metal',type:'number',category:'Components'},// Pipes\n{key:'pipes1Half',label:'Pipes 1.5\"',type:'number',category:'Pipes'},{key:'pipes2',label:'Pipes 2\"',type:'number',category:'Pipes'},{key:'pipes3',label:'Pipes 3\"',type:'number',category:'Pipes'},{key:'pipes4',label:'Pipes 4\"',type:'number',category:'Pipes'},// Features\n{key:'gables',label:'Gables',type:'number',category:'Features'},{key:'turtleBacks',label:'Turtle Backs',type:'number',category:'Features'},{key:'satellite',label:'Satellite',type:'number',category:'Features'},{key:'chimney',label:'Chimney',type:'number',category:'Features'},{key:'solar',label:'Solar',type:'number',category:'Features'},{key:'swampCooler',label:'Swamp Cooler',type:'number',category:'Features'},// Gutters\n{key:'guttersLf',label:'Gutters LF',type:'number',category:'Gutters'},{key:'downspouts',label:'Downspouts',type:'number',category:'Gutters'},{key:'gutterGuardLf',label:'Gutter Guard LF',type:'number',category:'Gutters'},// Additional\n{key:'permanentLighting',label:'Permanent Lighting',type:'number',category:'Additional'},{key:'notes',label:'Notes',type:'text',category:'Additional'}],[]);const getSortValue=useCallback((lead,key)=>{const column=availableColumns.find(col=>col.key===key);// Handle special field mappings\nif(key==='customerName'){return lead.customerName||\"\".concat(lead.firstName||'',\" \").concat(lead.lastName||'').trim()||'Unknown';}if((column===null||column===void 0?void 0:column.type)==='number'){return parseFloat(lead[key])||0;}return lead[key]||'';},[availableColumns]);const toggleColumnVisibility=useCallback(columnKey=>{setTempVisibleColumns(prev=>_objectSpread(_objectSpread({},prev),{},{[columnKey]:!prev[columnKey]}));},[]);const updateColumnFilter=useCallback((column,value)=>{setColumnFilters(prev=>{const newFilters=_objectSpread({},prev);if(value===''||value===null||value===undefined){delete newFilters[column];}else{newFilters[column]=value;}setCurrentPage(1);return newFilters;});},[]);const clearAllFilters=useCallback(()=>{setColumnFilters({});setSearchTerm('');setFilterDate('');setCurrentPage(1);},[]);const filteredAndSortedLeads=useMemo(()=>{let filtered=leads.filter(lead=>{var _lead$phoneNumber;// Global search filter\nconst matchesSearch=!searchTerm||[lead.firstName,lead.lastName,lead.customerName,(_lead$phoneNumber=lead.phoneNumber)===null||_lead$phoneNumber===void 0?void 0:_lead$phoneNumber.toString(),lead.address,lead.quality,lead.disposition,lead.leadSource].some(field=>field===null||field===void 0?void 0:field.toLowerCase().includes(searchTerm.toLowerCase()));// Date filter\nconst matchesDate=!filterDate||lead.date===filterDate;// Column-specific filters\nconst matchesColumnFilters=Object.entries(columnFilters).every(_ref2=>{let[column,filterValue]=_ref2;if(!filterValue)return true;let leadValue;if(column==='customerName'){leadValue=lead.customerName||\"\".concat(lead.firstName||'',\" \").concat(lead.lastName||'').trim();}else{const columnConfig=availableColumns.find(col=>col.key===column);if((columnConfig===null||columnConfig===void 0?void 0:columnConfig.type)==='number'){leadValue=parseFloat(lead[column])||0;}else{leadValue=lead[column]||'';}}const columnConfig=availableColumns.find(col=>col.key===column);if((columnConfig===null||columnConfig===void 0?void 0:columnConfig.type)==='number'){return leadValue>=parseFloat(filterValue);}else{return leadValue.toString().toLowerCase().includes(filterValue.toLowerCase());}});return matchesSearch&&matchesDate&&matchesColumnFilters;});if(sortConfig.key){filtered.sort((a,b)=>{const aValue=getSortValue(a,sortConfig.key);const bValue=getSortValue(b,sortConfig.key);if(typeof aValue==='string'&&typeof bValue==='string'){const comparison=aValue.toLowerCase().localeCompare(bValue.toLowerCase());return sortConfig.direction==='asc'?comparison:-comparison;}else{const comparison=aValue-bValue;return sortConfig.direction==='asc'?comparison:-comparison;}});}return filtered;},[leads,searchTerm,filterDate,columnFilters,sortConfig,getSortValue,availableColumns]);const paginatedLeads=useMemo(()=>{const startIndex=(currentPage-1)*itemsPerPage;const endIndex=startIndex+itemsPerPage;return filteredAndSortedLeads.slice(startIndex,endIndex);},[filteredAndSortedLeads,currentPage,itemsPerPage]);const totalPages=Math.ceil(filteredAndSortedLeads.length/itemsPerPage);const hasActiveFilters=useMemo(()=>{return searchTerm||filterDate||Object.keys(columnFilters).length>0;},[searchTerm,filterDate,columnFilters]);const SortableHeader=_ref3=>{var _availableColumns$fin;let{sortKey,children,className=\"\"}=_ref3;const hasFilter=columnFilters[sortKey];return/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider \".concat(className),children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between cursor-pointer hover:bg-gray-100 transition-colors select-none p-1 rounded\",onClick:()=>handleSort(sortKey),children:[/*#__PURE__*/_jsx(\"span\",{className:hasFilter?'text-blue-600 font-semibold':'',children:children}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1\",children:[hasFilter&&/*#__PURE__*/_jsx(Filter,{className:\"w-3 h-3 text-blue-600\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(ChevronUp,{className:\"w-3 h-3 \".concat(sortConfig.key===sortKey&&sortConfig.direction==='asc'?'text-blue-600':'text-gray-300')}),/*#__PURE__*/_jsx(ChevronDown,{className:\"w-3 h-3 -mt-1 \".concat(sortConfig.key===sortKey&&sortConfig.direction==='desc'?'text-blue-600':'text-gray-300')})]})]})]}),showFilters&&/*#__PURE__*/_jsx(ColumnFilter,{column:sortKey,value:columnFilters[sortKey]||'',onChange:value=>updateColumnFilter(sortKey,value),type:((_availableColumns$fin=availableColumns.find(col=>col.key===sortKey))===null||_availableColumns$fin===void 0?void 0:_availableColumns$fin.type)||'text'})]})});};const ColumnFilter=_ref4=>{let{column,value,onChange,type}=_ref4;const placeholder=type==='number'?'Min value...':'Filter...';return/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:type==='number'?'number':type==='date'?'date':'text',value:value,onChange:e=>onChange(e.target.value),placeholder:placeholder,className:\"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500\",onClick:e=>e.stopPropagation()}),value&&/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();onChange('');},className:\"absolute right-1 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(X,{className:\"w-3 h-3\"})})]});};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-gray-900\",children:\"Lead Management\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-1\",children:\"Track and manage your sales leads\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:onRefreshLeads,className:\"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors\",children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"w-4 h-4 mr-2\"}),\"Refresh\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:onAddLead,className:\"inline-flex items-center px-4 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors\",children:[/*#__PURE__*/_jsx(Plus,{className:\"w-4 h-4 mr-2\"}),\"Add Lead\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-lg shadow-sm border\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative md:col-span-2\",children:[/*#__PURE__*/_jsx(Search,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search across all fields...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"pl-10 pr-4 py-3 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:filterDate,onChange:e=>setFilterDate(e.target.value),className:\"pl-10 pr-4 py-3 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowFilters(!showFilters),className:\"inline-flex items-center px-3 py-2 border rounded-lg text-sm font-medium transition-colors \".concat(showFilters?'border-blue-500 text-blue-700 bg-blue-50':'border-gray-300 text-gray-700 bg-white hover:bg-gray-50'),children:[/*#__PURE__*/_jsx(Filter,{className:\"w-4 h-4 mr-2\"}),\"Column Filters\",Object.keys(columnFilters).length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full\",children:Object.keys(columnFilters).length})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowColumnSettings(!showColumnSettings),className:\"inline-flex items-center px-3 py-2 border rounded-lg text-sm font-medium transition-colors \".concat(showColumnSettings?'border-purple-500 text-purple-700 bg-purple-50':'border-gray-300 text-gray-700 bg-white hover:bg-gray-50'),children:[/*#__PURE__*/_jsx(Settings,{className:\"w-4 h-4 mr-2\"}),\"Manage Columns\",/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded-full\",children:Object.values(visibleColumns).filter(Boolean).length})]}),hasActiveFilters&&/*#__PURE__*/_jsxs(\"button\",{onClick:clearAllFilters,className:\"inline-flex items-center px-3 py-2 border border-red-300 rounded-lg text-sm font-medium text-red-700 bg-red-50 hover:bg-red-100 transition-colors\",children:[/*#__PURE__*/_jsx(X,{className:\"w-4 h-4 mr-2\"}),\"Clear All Filters\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"select\",{value:itemsPerPage,onChange:e=>{setItemsPerPage(Number(e.target.value));setCurrentPage(1);},className:\"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:10,children:\"10 per page\"}),/*#__PURE__*/_jsx(\"option\",{value:25,children:\"25 per page\"}),/*#__PURE__*/_jsx(\"option\",{value:50,children:\"50 per page\"}),/*#__PURE__*/_jsx(\"option\",{value:100,children:\"100 per page\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[\"Showing \",filteredAndSortedLeads.length===0?0:(currentPage-1)*itemsPerPage+1,\"-\",Math.min(currentPage*itemsPerPage,filteredAndSortedLeads.length),\" of \",filteredAndSortedLeads.length]})]})]})]})}),showColumnSettings&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-sm border\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Manage Visible Columns\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setTempVisibleColumns(visibleColumns);setShowColumnSettings(false);},className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(X,{className:\"w-5 h-5\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4 mb-6\",children:availableColumns.map(column=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-2 p-2 rounded hover:bg-gray-50 cursor-pointer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:tempVisibleColumns[column.key],onChange:()=>toggleColumnVisibility(column.key),className:\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:column.label})]},column.key))}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 pt-4 border-t\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setTempVisibleColumns(visibleColumns);setShowColumnSettings(false);},className:\"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors\",children:\"Cancel\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleSaveColumns,className:\"inline-flex items-center px-4 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors\",children:[/*#__PURE__*/_jsx(Save,{className:\"w-4 h-4 mr-2\"}),\"Save Column Selection\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-lg border border-gray-200 overflow-hidden\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"overflow-x-auto\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gradient-to-r from-gray-50 to-gray-100\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[availableColumns.filter(col=>visibleColumns[col.key]).map(column=>/*#__PURE__*/_jsx(SortableHeader,{sortKey:column.key,children:column.label},column.key)),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-100\",children:paginatedLeads.map((lead,index)=>/*#__PURE__*/_jsxs(\"tr\",{className:\"cursor-pointer transition-all duration-200 hover:bg-blue-50 hover:shadow-md transform hover:-translate-y-0.5 \".concat(index%2===0?'bg-white':'bg-gray-50'),onClick:()=>onSelectLead(lead),children:[availableColumns.filter(col=>visibleColumns[col.key]).map(column=>{const renderCellContent=()=>{// Date columns\nif(column.key==='date'||column.key==='createdDate'||column.key==='modifiedDate'){return/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:formatDate(lead[column.key])});}// Customer Name\nif(column.key==='customerName'){return/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-semibold text-gray-900\",children:lead.customerName||\"\".concat(lead.firstName||'',\" \").concat(lead.lastName||'').trim()||'Unknown'});}// Phone Number\nif(column.key==='phoneNumber'){return/*#__PURE__*/_jsx(\"a\",{href:\"tel:\".concat(lead.phoneNumber),onClick:e=>e.stopPropagation(),className:\"text-sm font-medium text-blue-600 hover:text-blue-800 hover:underline transition-colors\",children:formatPhone(lead.phoneNumber)});}// Email\nif(column.key==='email'){return lead.email?/*#__PURE__*/_jsx(\"a\",{href:\"mailto:\".concat(lead.email),onClick:e=>e.stopPropagation(),className:\"text-sm text-blue-600 hover:text-blue-800 hover:underline transition-colors\",children:lead.email}):'-';}// Address\nif(column.key==='address'){return/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-700 truncate max-w-xs\",children:lead.address||'-'});}// Disposition\nif(column.key==='disposition'){return getStatusBadge(lead.disposition);}// DaBella Quote\nif(column.key==='dabellaQuote'){return lead.dabellaQuote?/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm bg-green-100 text-green-800 px-3 py-1 rounded-full font-medium\",children:[\"$\",formatNumber(lead.dabellaQuote)]}):'-';}// Number columns\nif(column.type==='number'){const value=lead[column.key];return value?/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:formatNumber(value)}):'-';}// Default text rendering\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-900\",children:lead[column.key]||'-'});};return/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-5 whitespace-nowrap\",children:renderCellContent()},column.key);}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-5 whitespace-nowrap text-sm font-medium\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();onSelectLead(lead);},className:\"text-blue-600 hover:text-blue-900 p-2 rounded-lg hover:bg-blue-100 transition-all duration-200 hover:scale-110\",title:\"View Details\",children:/*#__PURE__*/_jsx(Eye,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();onEditLead(lead);},className:\"text-orange-600 hover:text-orange-900 p-2 rounded-lg hover:bg-orange-100 transition-all duration-200 hover:scale-110\",title:\"Edit\",children:/*#__PURE__*/_jsx(Edit2,{className:\"w-4 h-4\"})})]})})]},lead.id||index))})]}),filteredAndSortedLeads.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"mx-auto h-12 w-12 text-gray-400\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"mt-2 text-sm font-medium text-gray-900\",children:\"No leads found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500\",children:hasActiveFilters?'Try adjusting your search or filter criteria.':'Get started by adding your first lead.'})]})]})}),filteredAndSortedLeads.length>0&&totalPages>1&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-4 rounded-lg shadow-sm border\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(1),disabled:currentPage===1,className:\"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\",children:\"First\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentPage(prev=>Math.max(1,prev-1)),disabled:currentPage===1,className:\"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\",children:[/*#__PURE__*/_jsx(ChevronLeft,{className:\"w-4 h-4 mr-1\"}),\"Previous\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-1\",children:Array.from({length:Math.min(7,totalPages)},(_,i)=>{let pageNum;if(totalPages<=7){pageNum=i+1;}else if(currentPage<=4){pageNum=i+1;}else if(currentPage>=totalPages-3){pageNum=totalPages-6+i;}else{pageNum=currentPage-3+i;}return/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(pageNum),className:\"px-3 py-2 text-sm font-medium rounded-lg \".concat(currentPage===pageNum?'bg-blue-600 text-white':'text-gray-700 bg-white border border-gray-300 hover:bg-gray-50'),children:pageNum},pageNum);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentPage(prev=>Math.min(totalPages,prev+1)),disabled:currentPage===totalPages,className:\"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\",children:[\"Next\",/*#__PURE__*/_jsx(ChevronRight,{className:\"w-4 h-4 ml-1\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(totalPages),disabled:currentPage===totalPages,className:\"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\",children:\"Last\"})]})]})})]});}export default LeadsView;","map":{"version":3,"names":["React","useState","useMemo","useCallback","Plus","Edit2","Eye","RefreshCw","XCircle","CheckCircle","Clock","AlertCircle","DollarSign","ShieldCheck","Search","Calendar","ChevronUp","ChevronDown","Filter","X","Settings","ChevronLeft","ChevronRight","Save","jsx","_jsx","jsxs","_jsxs","LeadsView","_ref","leads","onAddLead","onEditLead","onDeleteLead","onRefreshLeads","onSelectLead","searchTerm","setSearchTerm","filterDate","setFilterDate","sortConfig","setSortConfig","key","direction","columnFilters","setColumnFilters","showFilters","setShowFilters","currentPage","setCurrentPage","itemsPerPage","setItemsPerPage","showColumnSettings","setShowColumnSettings","defaultVisibleColumns","id","date","createdDate","modifiedDate","customerName","firstName","lastName","phoneNumber","email","address","latitude","longitude","quality","disposition","leadSource","status","roofAge","roofType","sqFt","ridgeLf","valleyLf","eavesLf","dabellaQuote","ridgeVents","turbine","rimeFlow","highProfileRidgeCap","valleyMetal","pipes1Half","pipes2","pipes3","pipes4","gables","turtleBacks","satellite","chimney","solar","swampCooler","guttersLf","downspouts","gutterGuardLf","permanentLighting","notes","loadSavedColumns","saved","localStorage","getItem","JSON","parse","error","console","visibleColumns","setVisibleColumns","tempVisibleColumns","setTempVisibleColumns","handleSaveColumns","setItem","stringify","getStatusBadge","badges","bg","text","icon","badge","Icon","className","concat","children","formatNumber","value","Number","toLocaleString","formatDate","dateString","Date","toLocaleDateString","_unused","formatPhone","phone","phoneString","String","cleaned","replace","length","slice","handleSort","prevConfig","availableColumns","label","type","category","getSortValue","lead","column","find","col","trim","parseFloat","toggleColumnVisibility","columnKey","prev","_objectSpread","updateColumnFilter","newFilters","undefined","clearAllFilters","filteredAndSortedLeads","filtered","filter","_lead$phoneNumber","matchesSearch","toString","some","field","toLowerCase","includes","matchesDate","matchesColumnFilters","Object","entries","every","_ref2","filterValue","leadValue","columnConfig","sort","a","b","aValue","bValue","comparison","localeCompare","paginatedLeads","startIndex","endIndex","totalPages","Math","ceil","hasActiveFilters","keys","SortableHeader","_ref3","_availableColumns$fin","sortKey","hasFilter","onClick","ColumnFilter","onChange","_ref4","placeholder","e","target","stopPropagation","values","Boolean","min","map","checked","index","renderCellContent","href","title","disabled","max","Array","from","_","i","pageNum"],"sources":["c:/Users/PC_User/Desktop/free-crm/bhotch-crm/src/features/leads/LeadsView.jsx"],"sourcesContent":["import React, { useState, useMemo, useCallback } from 'react';\r\nimport { Plus, Edit2, Eye, RefreshCw, XCircle, CheckCircle, Clock, AlertCircle, DollarSign, ShieldCheck, Search, Calendar, ChevronUp, ChevronDown, Filter, X, Settings, ChevronLeft, ChevronRight, Save } from 'lucide-react';\r\n\r\nfunction LeadsView({ leads, onAddLead, onEditLead, onDeleteLead, onRefreshLeads, onSelectLead }) {\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [filterDate, setFilterDate] = useState('');\r\n    const [sortConfig, setSortConfig] = useState({ key: null, direction: 'asc' });\r\n    const [columnFilters, setColumnFilters] = useState({});\r\n    const [showFilters, setShowFilters] = useState(false);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [itemsPerPage, setItemsPerPage] = useState(25);\r\n    const [showColumnSettings, setShowColumnSettings] = useState(false);\r\n\r\n    // Default column visibility settings\r\n    const defaultVisibleColumns = {\r\n        // Basic Information (most important shown by default)\r\n        id: false,\r\n        date: true,\r\n        createdDate: false,\r\n        modifiedDate: false,\r\n        customerName: true,\r\n        firstName: false,\r\n        lastName: false,\r\n        phoneNumber: true,\r\n        email: false,\r\n        address: true,\r\n        latitude: false,\r\n        longitude: false,\r\n\r\n        // Lead Information\r\n        quality: true,\r\n        disposition: true,\r\n        leadSource: true,\r\n        status: false,\r\n\r\n        // Roof Information\r\n        roofAge: false,\r\n        roofType: false,\r\n\r\n        // Measurements\r\n        sqFt: true,\r\n        ridgeLf: true,\r\n        valleyLf: true,\r\n        eavesLf: false,\r\n\r\n        // Financial\r\n        dabellaQuote: true,\r\n\r\n        // Ventilation\r\n        ridgeVents: false,\r\n        turbine: false,\r\n        rimeFlow: false,\r\n\r\n        // Components\r\n        highProfileRidgeCap: false,\r\n        valleyMetal: false,\r\n\r\n        // Pipes\r\n        pipes1Half: false,\r\n        pipes2: false,\r\n        pipes3: false,\r\n        pipes4: false,\r\n\r\n        // Features\r\n        gables: false,\r\n        turtleBacks: false,\r\n        satellite: false,\r\n        chimney: false,\r\n        solar: false,\r\n        swampCooler: false,\r\n\r\n        // Gutters\r\n        guttersLf: false,\r\n        downspouts: false,\r\n        gutterGuardLf: false,\r\n\r\n        // Additional\r\n        permanentLighting: false,\r\n        notes: false\r\n    };\r\n\r\n    // Load saved column preferences from localStorage\r\n    const loadSavedColumns = () => {\r\n        try {\r\n            const saved = localStorage.getItem('leadsVisibleColumns');\r\n            if (saved) {\r\n                return JSON.parse(saved);\r\n            }\r\n        } catch (error) {\r\n            console.error('Error loading saved columns:', error);\r\n        }\r\n        return defaultVisibleColumns;\r\n    };\r\n\r\n    const [visibleColumns, setVisibleColumns] = useState(loadSavedColumns);\r\n    const [tempVisibleColumns, setTempVisibleColumns] = useState(loadSavedColumns);\r\n\r\n    // Save column preferences to localStorage when save button is clicked\r\n    const handleSaveColumns = useCallback(() => {\r\n        try {\r\n            localStorage.setItem('leadsVisibleColumns', JSON.stringify(tempVisibleColumns));\r\n            setVisibleColumns(tempVisibleColumns);\r\n            setShowColumnSettings(false);\r\n        } catch (error) {\r\n            console.error('Error saving columns:', error);\r\n        }\r\n    }, [tempVisibleColumns]);\r\n\r\n    const getStatusBadge = useCallback((status) => {\r\n        const badges = {\r\n            'New': { bg: 'bg-blue-100', text: 'text-blue-800', icon: Plus },\r\n            'Scheduled': { bg: 'bg-cyan-100', text: 'text-cyan-800', icon: Calendar },\r\n            'Insurance': { bg: 'bg-indigo-100', text: 'text-indigo-800', icon: ShieldCheck },\r\n            'Quoted': { bg: 'bg-yellow-100', text: 'text-yellow-800', icon: DollarSign },\r\n            'Follow Up': { bg: 'bg-orange-100', text: 'text-orange-800', icon: Clock },\r\n            'Closed Sold': { bg: 'bg-green-100', text: 'text-green-800', icon: CheckCircle },\r\n            'Closed Lost': { bg: 'bg-red-100', text: 'text-red-800', icon: XCircle }\r\n        };\r\n        const badge = badges[status] || { bg: 'bg-gray-100', text: 'text-gray-800', icon: AlertCircle };\r\n        const Icon = badge.icon;\r\n        return <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${badge.bg} ${badge.text}`}><Icon className=\"w-3 h-3 mr-1\" />{status}</span>;\r\n    }, []);\r\n\r\n    const formatNumber = useCallback((value) => {\r\n        if (!value || value === '0' || value === '-') return '-';\r\n        return Number(value).toLocaleString();\r\n    }, []);\r\n\r\n    const formatDate = useCallback((dateString) => {\r\n        if (!dateString) return '-';\r\n        try {\r\n            return new Date(dateString).toLocaleDateString();\r\n        } catch {\r\n            return dateString;\r\n        }\r\n    }, []);\r\n\r\n    const formatPhone = useCallback((phone) => {\r\n        const phoneString = String(phone || '');\r\n        if (!phoneString) return '-';\r\n        const cleaned = phoneString.replace(/\\D/g, '');\r\n        if (cleaned.length === 10) return `(${cleaned.slice(0, 3)}) ${cleaned.slice(3, 6)}-${cleaned.slice(6)}`;\r\n        return phoneString;\r\n    }, []);\r\n\r\n    const handleSort = useCallback((key) => {\r\n        setSortConfig(prevConfig => ({\r\n            key,\r\n            direction: prevConfig.key === key && prevConfig.direction === 'asc' ? 'desc' : 'asc'\r\n        }));\r\n    }, []);\r\n\r\n    const availableColumns = useMemo(() => [\r\n        // Basic Information\r\n        { key: 'id', label: 'ID', type: 'text', category: 'Basic' },\r\n        { key: 'date', label: 'Date', type: 'date', category: 'Basic' },\r\n        { key: 'createdDate', label: 'Created Date', type: 'date', category: 'Basic' },\r\n        { key: 'modifiedDate', label: 'Modified Date', type: 'date', category: 'Basic' },\r\n        { key: 'customerName', label: 'Customer Name', type: 'text', category: 'Basic' },\r\n        { key: 'firstName', label: 'First Name', type: 'text', category: 'Basic' },\r\n        { key: 'lastName', label: 'Last Name', type: 'text', category: 'Basic' },\r\n        { key: 'phoneNumber', label: 'Phone Number', type: 'text', category: 'Basic' },\r\n        { key: 'email', label: 'Email', type: 'text', category: 'Basic' },\r\n        { key: 'address', label: 'Address', type: 'text', category: 'Basic' },\r\n        { key: 'latitude', label: 'Latitude', type: 'number', category: 'Basic' },\r\n        { key: 'longitude', label: 'Longitude', type: 'number', category: 'Basic' },\r\n\r\n        // Lead Information\r\n        { key: 'quality', label: 'Quality', type: 'text', category: 'Lead Info' },\r\n        { key: 'disposition', label: 'Disposition', type: 'text', category: 'Lead Info' },\r\n        { key: 'leadSource', label: 'Lead Source', type: 'text', category: 'Lead Info' },\r\n        { key: 'status', label: 'Status', type: 'text', category: 'Lead Info' },\r\n\r\n        // Roof Information\r\n        { key: 'roofAge', label: 'Roof Age', type: 'text', category: 'Roof Info' },\r\n        { key: 'roofType', label: 'Roof Type', type: 'text', category: 'Roof Info' },\r\n\r\n        // Measurements\r\n        { key: 'sqFt', label: 'SQ FT', type: 'number', category: 'Measurements' },\r\n        { key: 'ridgeLf', label: 'Ridge LF', type: 'number', category: 'Measurements' },\r\n        { key: 'valleyLf', label: 'Valley LF', type: 'number', category: 'Measurements' },\r\n        { key: 'eavesLf', label: 'Eaves LF', type: 'number', category: 'Measurements' },\r\n\r\n        // Financial\r\n        { key: 'dabellaQuote', label: 'DaBella Quote', type: 'number', category: 'Financial' },\r\n\r\n        // Ventilation\r\n        { key: 'ridgeVents', label: 'Ridge Vents', type: 'number', category: 'Ventilation' },\r\n        { key: 'turbine', label: 'Turbine', type: 'number', category: 'Ventilation' },\r\n        { key: 'rimeFlow', label: 'Rime Flow', type: 'number', category: 'Ventilation' },\r\n\r\n        // Components\r\n        { key: 'highProfileRidgeCap', label: 'High Profile Ridge Cap', type: 'number', category: 'Components' },\r\n        { key: 'valleyMetal', label: 'Valley Metal', type: 'number', category: 'Components' },\r\n\r\n        // Pipes\r\n        { key: 'pipes1Half', label: 'Pipes 1.5\"', type: 'number', category: 'Pipes' },\r\n        { key: 'pipes2', label: 'Pipes 2\"', type: 'number', category: 'Pipes' },\r\n        { key: 'pipes3', label: 'Pipes 3\"', type: 'number', category: 'Pipes' },\r\n        { key: 'pipes4', label: 'Pipes 4\"', type: 'number', category: 'Pipes' },\r\n\r\n        // Features\r\n        { key: 'gables', label: 'Gables', type: 'number', category: 'Features' },\r\n        { key: 'turtleBacks', label: 'Turtle Backs', type: 'number', category: 'Features' },\r\n        { key: 'satellite', label: 'Satellite', type: 'number', category: 'Features' },\r\n        { key: 'chimney', label: 'Chimney', type: 'number', category: 'Features' },\r\n        { key: 'solar', label: 'Solar', type: 'number', category: 'Features' },\r\n        { key: 'swampCooler', label: 'Swamp Cooler', type: 'number', category: 'Features' },\r\n\r\n        // Gutters\r\n        { key: 'guttersLf', label: 'Gutters LF', type: 'number', category: 'Gutters' },\r\n        { key: 'downspouts', label: 'Downspouts', type: 'number', category: 'Gutters' },\r\n        { key: 'gutterGuardLf', label: 'Gutter Guard LF', type: 'number', category: 'Gutters' },\r\n\r\n        // Additional\r\n        { key: 'permanentLighting', label: 'Permanent Lighting', type: 'number', category: 'Additional' },\r\n        { key: 'notes', label: 'Notes', type: 'text', category: 'Additional' }\r\n    ], []);\r\n\r\n    const getSortValue = useCallback((lead, key) => {\r\n        const column = availableColumns.find(col => col.key === key);\r\n\r\n        // Handle special field mappings\r\n        if (key === 'customerName') {\r\n            return lead.customerName || `${lead.firstName || ''} ${lead.lastName || ''}`.trim() || 'Unknown';\r\n        }\r\n\r\n        if (column?.type === 'number') {\r\n            return parseFloat(lead[key]) || 0;\r\n        }\r\n\r\n        return lead[key] || '';\r\n    }, [availableColumns]);\r\n\r\n    const toggleColumnVisibility = useCallback((columnKey) => {\r\n        setTempVisibleColumns(prev => ({\r\n            ...prev,\r\n            [columnKey]: !prev[columnKey]\r\n        }));\r\n    }, []);\r\n\r\n    const updateColumnFilter = useCallback((column, value) => {\r\n        setColumnFilters(prev => {\r\n            const newFilters = { ...prev };\r\n            if (value === '' || value === null || value === undefined) {\r\n                delete newFilters[column];\r\n            } else {\r\n                newFilters[column] = value;\r\n            }\r\n            setCurrentPage(1);\r\n            return newFilters;\r\n        });\r\n    }, []);\r\n\r\n    const clearAllFilters = useCallback(() => {\r\n        setColumnFilters({});\r\n        setSearchTerm('');\r\n        setFilterDate('');\r\n        setCurrentPage(1);\r\n    }, []);\r\n\r\n    const filteredAndSortedLeads = useMemo(() => {\r\n        let filtered = leads.filter(lead => {\r\n            // Global search filter\r\n            const matchesSearch = !searchTerm || [\r\n                lead.firstName,\r\n                lead.lastName,\r\n                lead.customerName,\r\n                lead.phoneNumber?.toString(),\r\n                lead.address,\r\n                lead.quality,\r\n                lead.disposition,\r\n                lead.leadSource\r\n            ].some(field => field?.toLowerCase().includes(searchTerm.toLowerCase()));\r\n\r\n            // Date filter\r\n            const matchesDate = !filterDate || lead.date === filterDate;\r\n\r\n            // Column-specific filters\r\n            const matchesColumnFilters = Object.entries(columnFilters).every(([column, filterValue]) => {\r\n                if (!filterValue) return true;\r\n\r\n                let leadValue;\r\n                if (column === 'customerName') {\r\n                    leadValue = lead.customerName || `${lead.firstName || ''} ${lead.lastName || ''}`.trim();\r\n                } else {\r\n                    const columnConfig = availableColumns.find(col => col.key === column);\r\n                    if (columnConfig?.type === 'number') {\r\n                        leadValue = parseFloat(lead[column]) || 0;\r\n                    } else {\r\n                        leadValue = lead[column] || '';\r\n                    }\r\n                }\r\n\r\n                const columnConfig = availableColumns.find(col => col.key === column);\r\n                if (columnConfig?.type === 'number') {\r\n                    return leadValue >= parseFloat(filterValue);\r\n                } else {\r\n                    return leadValue.toString().toLowerCase().includes(filterValue.toLowerCase());\r\n                }\r\n            });\r\n\r\n            return matchesSearch && matchesDate && matchesColumnFilters;\r\n        });\r\n\r\n        if (sortConfig.key) {\r\n            filtered.sort((a, b) => {\r\n                const aValue = getSortValue(a, sortConfig.key);\r\n                const bValue = getSortValue(b, sortConfig.key);\r\n\r\n                if (typeof aValue === 'string' && typeof bValue === 'string') {\r\n                    const comparison = aValue.toLowerCase().localeCompare(bValue.toLowerCase());\r\n                    return sortConfig.direction === 'asc' ? comparison : -comparison;\r\n                } else {\r\n                    const comparison = aValue - bValue;\r\n                    return sortConfig.direction === 'asc' ? comparison : -comparison;\r\n                }\r\n            });\r\n        }\r\n\r\n        return filtered;\r\n    }, [leads, searchTerm, filterDate, columnFilters, sortConfig, getSortValue, availableColumns]);\r\n\r\n    const paginatedLeads = useMemo(() => {\r\n        const startIndex = (currentPage - 1) * itemsPerPage;\r\n        const endIndex = startIndex + itemsPerPage;\r\n        return filteredAndSortedLeads.slice(startIndex, endIndex);\r\n    }, [filteredAndSortedLeads, currentPage, itemsPerPage]);\r\n\r\n    const totalPages = Math.ceil(filteredAndSortedLeads.length / itemsPerPage);\r\n\r\n    const hasActiveFilters = useMemo(() => {\r\n        return searchTerm || filterDate || Object.keys(columnFilters).length > 0;\r\n    }, [searchTerm, filterDate, columnFilters]);\r\n\r\n    const SortableHeader = ({ sortKey, children, className = \"\" }) => {\r\n        const hasFilter = columnFilters[sortKey];\r\n        return (\r\n            <th className={`px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ${className}`}>\r\n                <div className=\"space-y-2\">\r\n                    <div\r\n                        className=\"flex items-center justify-between cursor-pointer hover:bg-gray-100 transition-colors select-none p-1 rounded\"\r\n                        onClick={() => handleSort(sortKey)}\r\n                    >\r\n                        <span className={hasFilter ? 'text-blue-600 font-semibold' : ''}>{children}</span>\r\n                        <div className=\"flex items-center space-x-1\">\r\n                            {hasFilter && <Filter className=\"w-3 h-3 text-blue-600\" />}\r\n                            <div className=\"flex flex-col\">\r\n                                <ChevronUp\r\n                                    className={`w-3 h-3 ${sortConfig.key === sortKey && sortConfig.direction === 'asc' ? 'text-blue-600' : 'text-gray-300'}`}\r\n                                />\r\n                                <ChevronDown\r\n                                    className={`w-3 h-3 -mt-1 ${sortConfig.key === sortKey && sortConfig.direction === 'desc' ? 'text-blue-600' : 'text-gray-300'}`}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    {showFilters && (\r\n                        <ColumnFilter\r\n                            column={sortKey}\r\n                            value={columnFilters[sortKey] || ''}\r\n                            onChange={(value) => updateColumnFilter(sortKey, value)}\r\n                            type={availableColumns.find(col => col.key === sortKey)?.type || 'text'}\r\n                        />\r\n                    )}\r\n                </div>\r\n            </th>\r\n        );\r\n    };\r\n\r\n    const ColumnFilter = ({ column, value, onChange, type }) => {\r\n        const placeholder = type === 'number' ? 'Min value...' : 'Filter...';\r\n        return (\r\n            <div className=\"relative\">\r\n                <input\r\n                    type={type === 'number' ? 'number' : type === 'date' ? 'date' : 'text'}\r\n                    value={value}\r\n                    onChange={(e) => onChange(e.target.value)}\r\n                    placeholder={placeholder}\r\n                    className=\"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500\"\r\n                    onClick={(e) => e.stopPropagation()}\r\n                />\r\n                {value && (\r\n                    <button\r\n                        onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            onChange('');\r\n                        }}\r\n                        className=\"absolute right-1 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600\"\r\n                    >\r\n                        <X className=\"w-3 h-3\" />\r\n                    </button>\r\n                )}\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            {/* Header */}\r\n            <div className=\"flex justify-between items-center\">\r\n                <div>\r\n                    <h2 className=\"text-3xl font-bold text-gray-900\">Lead Management</h2>\r\n                    <p className=\"text-gray-600 mt-1\">Track and manage your sales leads</p>\r\n                </div>\r\n                <div className=\"flex items-center space-x-3\">\r\n                    <button\r\n                        onClick={onRefreshLeads}\r\n                        className=\"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors\"\r\n                    >\r\n                        <RefreshCw className=\"w-4 h-4 mr-2\" />\r\n                        Refresh\r\n                    </button>\r\n                    <button\r\n                        onClick={onAddLead}\r\n                        className=\"inline-flex items-center px-4 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors\"\r\n                    >\r\n                        <Plus className=\"w-4 h-4 mr-2\" />\r\n                        Add Lead\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Search and Filters */}\r\n            <div className=\"bg-white p-6 rounded-lg shadow-sm border\">\r\n                <div className=\"space-y-4\">\r\n                    {/* Main Search and Date Filter */}\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                        <div className=\"relative md:col-span-2\">\r\n                            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5\" />\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"Search across all fields...\"\r\n                                value={searchTerm}\r\n                                onChange={(e) => setSearchTerm(e.target.value)}\r\n                                className=\"pl-10 pr-4 py-3 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"relative\">\r\n                            <Calendar className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5\" />\r\n                            <input\r\n                                type=\"date\"\r\n                                value={filterDate}\r\n                                onChange={(e) => setFilterDate(e.target.value)}\r\n                                className=\"pl-10 pr-4 py-3 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Filter Controls */}\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div className=\"flex items-center space-x-4\">\r\n                            <button\r\n                                onClick={() => setShowFilters(!showFilters)}\r\n                                className={`inline-flex items-center px-3 py-2 border rounded-lg text-sm font-medium transition-colors ${\r\n                                    showFilters\r\n                                        ? 'border-blue-500 text-blue-700 bg-blue-50'\r\n                                        : 'border-gray-300 text-gray-700 bg-white hover:bg-gray-50'\r\n                                }`}\r\n                            >\r\n                                <Filter className=\"w-4 h-4 mr-2\" />\r\n                                Column Filters\r\n                                {Object.keys(columnFilters).length > 0 && (\r\n                                    <span className=\"ml-2 bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full\">\r\n                                        {Object.keys(columnFilters).length}\r\n                                    </span>\r\n                                )}\r\n                            </button>\r\n\r\n                            <button\r\n                                onClick={() => setShowColumnSettings(!showColumnSettings)}\r\n                                className={`inline-flex items-center px-3 py-2 border rounded-lg text-sm font-medium transition-colors ${\r\n                                    showColumnSettings\r\n                                        ? 'border-purple-500 text-purple-700 bg-purple-50'\r\n                                        : 'border-gray-300 text-gray-700 bg-white hover:bg-gray-50'\r\n                                }`}\r\n                            >\r\n                                <Settings className=\"w-4 h-4 mr-2\" />\r\n                                Manage Columns\r\n                                <span className=\"ml-2 bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded-full\">\r\n                                    {Object.values(visibleColumns).filter(Boolean).length}\r\n                                </span>\r\n                            </button>\r\n\r\n                            {hasActiveFilters && (\r\n                                <button\r\n                                    onClick={clearAllFilters}\r\n                                    className=\"inline-flex items-center px-3 py-2 border border-red-300 rounded-lg text-sm font-medium text-red-700 bg-red-50 hover:bg-red-100 transition-colors\"\r\n                                >\r\n                                    <X className=\"w-4 h-4 mr-2\" />\r\n                                    Clear All Filters\r\n                                </button>\r\n                            )}\r\n                        </div>\r\n\r\n                        <div className=\"flex items-center space-x-3\">\r\n                            <select\r\n                                value={itemsPerPage}\r\n                                onChange={(e) => {\r\n                                    setItemsPerPage(Number(e.target.value));\r\n                                    setCurrentPage(1);\r\n                                }}\r\n                                className=\"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                            >\r\n                                <option value={10}>10 per page</option>\r\n                                <option value={25}>25 per page</option>\r\n                                <option value={50}>50 per page</option>\r\n                                <option value={100}>100 per page</option>\r\n                            </select>\r\n\r\n                            <div className=\"text-sm text-gray-600\">\r\n                                Showing {filteredAndSortedLeads.length === 0 ? 0 : ((currentPage - 1) * itemsPerPage) + 1}-{Math.min(currentPage * itemsPerPage, filteredAndSortedLeads.length)} of {filteredAndSortedLeads.length}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Column Settings Panel */}\r\n            {showColumnSettings && (\r\n                <div className=\"bg-white p-6 rounded-lg shadow-sm border\">\r\n                    <div className=\"flex justify-between items-center mb-4\">\r\n                        <h3 className=\"text-lg font-semibold text-gray-900\">Manage Visible Columns</h3>\r\n                        <button\r\n                            onClick={() => {\r\n                                setTempVisibleColumns(visibleColumns);\r\n                                setShowColumnSettings(false);\r\n                            }}\r\n                            className=\"text-gray-400 hover:text-gray-600\"\r\n                        >\r\n                            <X className=\"w-5 h-5\" />\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4 mb-6\">\r\n                        {availableColumns.map(column => (\r\n                            <label\r\n                                key={column.key}\r\n                                className=\"flex items-center space-x-2 p-2 rounded hover:bg-gray-50 cursor-pointer\"\r\n                            >\r\n                                <input\r\n                                    type=\"checkbox\"\r\n                                    checked={tempVisibleColumns[column.key]}\r\n                                    onChange={() => toggleColumnVisibility(column.key)}\r\n                                    className=\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\r\n                                />\r\n                                <span className=\"text-sm text-gray-700\">{column.label}</span>\r\n                            </label>\r\n                        ))}\r\n                    </div>\r\n                    <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n                        <button\r\n                            onClick={() => {\r\n                                setTempVisibleColumns(visibleColumns);\r\n                                setShowColumnSettings(false);\r\n                            }}\r\n                            className=\"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors\"\r\n                        >\r\n                            Cancel\r\n                        </button>\r\n                        <button\r\n                            onClick={handleSaveColumns}\r\n                            className=\"inline-flex items-center px-4 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors\"\r\n                        >\r\n                            <Save className=\"w-4 h-4 mr-2\" />\r\n                            Save Column Selection\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Leads Table */}\r\n            <div className=\"bg-white rounded-lg shadow-lg border border-gray-200 overflow-hidden\">\r\n                <div className=\"overflow-x-auto\">\r\n                    <table className=\"min-w-full divide-y divide-gray-200\">\r\n                        <thead className=\"bg-gradient-to-r from-gray-50 to-gray-100\">\r\n                            <tr>\r\n                                {availableColumns.filter(col => visibleColumns[col.key]).map(column => (\r\n                                    <SortableHeader key={column.key} sortKey={column.key}>\r\n                                        {column.label}\r\n                                    </SortableHeader>\r\n                                ))}\r\n                                <th className=\"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Actions</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody className=\"bg-white divide-y divide-gray-100\">\r\n                            {paginatedLeads.map((lead, index) => (\r\n                                <tr\r\n                                    key={lead.id || index}\r\n                                    className={`cursor-pointer transition-all duration-200 hover:bg-blue-50 hover:shadow-md transform hover:-translate-y-0.5 ${\r\n                                        index % 2 === 0 ? 'bg-white' : 'bg-gray-50'\r\n                                    }`}\r\n                                    onClick={() => onSelectLead(lead)}\r\n                                >\r\n                                    {availableColumns.filter(col => visibleColumns[col.key]).map(column => {\r\n                                        const renderCellContent = () => {\r\n                                            // Date columns\r\n                                            if (column.key === 'date' || column.key === 'createdDate' || column.key === 'modifiedDate') {\r\n                                                return <div className=\"text-sm font-medium text-gray-900\">{formatDate(lead[column.key])}</div>;\r\n                                            }\r\n\r\n                                            // Customer Name\r\n                                            if (column.key === 'customerName') {\r\n                                                return (\r\n                                                    <div className=\"text-sm font-semibold text-gray-900\">\r\n                                                        {lead.customerName || `${lead.firstName || ''} ${lead.lastName || ''}`.trim() || 'Unknown'}\r\n                                                    </div>\r\n                                                );\r\n                                            }\r\n\r\n                                            // Phone Number\r\n                                            if (column.key === 'phoneNumber') {\r\n                                                return (\r\n                                                    <a\r\n                                                        href={`tel:${lead.phoneNumber}`}\r\n                                                        onClick={(e) => e.stopPropagation()}\r\n                                                        className=\"text-sm font-medium text-blue-600 hover:text-blue-800 hover:underline transition-colors\"\r\n                                                    >\r\n                                                        {formatPhone(lead.phoneNumber)}\r\n                                                    </a>\r\n                                                );\r\n                                            }\r\n\r\n                                            // Email\r\n                                            if (column.key === 'email') {\r\n                                                return lead.email ? (\r\n                                                    <a\r\n                                                        href={`mailto:${lead.email}`}\r\n                                                        onClick={(e) => e.stopPropagation()}\r\n                                                        className=\"text-sm text-blue-600 hover:text-blue-800 hover:underline transition-colors\"\r\n                                                    >\r\n                                                        {lead.email}\r\n                                                    </a>\r\n                                                ) : '-';\r\n                                            }\r\n\r\n                                            // Address\r\n                                            if (column.key === 'address') {\r\n                                                return <div className=\"text-sm text-gray-700 truncate max-w-xs\">{lead.address || '-'}</div>;\r\n                                            }\r\n\r\n                                            // Disposition\r\n                                            if (column.key === 'disposition') {\r\n                                                return getStatusBadge(lead.disposition);\r\n                                            }\r\n\r\n                                            // DaBella Quote\r\n                                            if (column.key === 'dabellaQuote') {\r\n                                                return lead.dabellaQuote ? (\r\n                                                    <span className=\"text-sm bg-green-100 text-green-800 px-3 py-1 rounded-full font-medium\">\r\n                                                        ${formatNumber(lead.dabellaQuote)}\r\n                                                    </span>\r\n                                                ) : '-';\r\n                                            }\r\n\r\n                                            // Number columns\r\n                                            if (column.type === 'number') {\r\n                                                const value = lead[column.key];\r\n                                                return value ? (\r\n                                                    <div className=\"text-sm font-medium text-gray-900\">{formatNumber(value)}</div>\r\n                                                ) : '-';\r\n                                            }\r\n\r\n                                            // Default text rendering\r\n                                            return <div className=\"text-sm text-gray-900\">{lead[column.key] || '-'}</div>;\r\n                                        };\r\n\r\n                                        return (\r\n                                            <td key={column.key} className=\"px-6 py-5 whitespace-nowrap\">\r\n                                                {renderCellContent()}\r\n                                            </td>\r\n                                        );\r\n                                    })}\r\n                                    <td className=\"px-6 py-5 whitespace-nowrap text-sm font-medium\">\r\n                                        <div className=\"flex items-center space-x-3\">\r\n                                            <button\r\n                                                onClick={(e) => { e.stopPropagation(); onSelectLead(lead); }}\r\n                                                className=\"text-blue-600 hover:text-blue-900 p-2 rounded-lg hover:bg-blue-100 transition-all duration-200 hover:scale-110\"\r\n                                                title=\"View Details\"\r\n                                            >\r\n                                                <Eye className=\"w-4 h-4\" />\r\n                                            </button>\r\n                                            <button\r\n                                                onClick={(e) => { e.stopPropagation(); onEditLead(lead); }}\r\n                                                className=\"text-orange-600 hover:text-orange-900 p-2 rounded-lg hover:bg-orange-100 transition-all duration-200 hover:scale-110\"\r\n                                                title=\"Edit\"\r\n                                            >\r\n                                                <Edit2 className=\"w-4 h-4\" />\r\n                                            </button>\r\n                                        </div>\r\n                                    </td>\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n                    {filteredAndSortedLeads.length === 0 && (\r\n                        <div className=\"text-center py-12\">\r\n                            <AlertCircle className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n                            <h3 className=\"mt-2 text-sm font-medium text-gray-900\">No leads found</h3>\r\n                            <p className=\"mt-1 text-sm text-gray-500\">\r\n                                {hasActiveFilters\r\n                                    ? 'Try adjusting your search or filter criteria.'\r\n                                    : 'Get started by adding your first lead.'}\r\n                            </p>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Pagination */}\r\n            {filteredAndSortedLeads.length > 0 && totalPages > 1 && (\r\n                <div className=\"bg-white p-4 rounded-lg shadow-sm border\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div className=\"flex items-center space-x-2\">\r\n                            <button\r\n                                onClick={() => setCurrentPage(1)}\r\n                                disabled={currentPage === 1}\r\n                                className=\"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                            >\r\n                                First\r\n                            </button>\r\n                            <button\r\n                                onClick={() => setCurrentPage(prev => Math.max(1, prev - 1))}\r\n                                disabled={currentPage === 1}\r\n                                className=\"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                            >\r\n                                <ChevronLeft className=\"w-4 h-4 mr-1\" />\r\n                                Previous\r\n                            </button>\r\n                        </div>\r\n\r\n                        <div className=\"flex items-center space-x-1\">\r\n                            {Array.from({ length: Math.min(7, totalPages) }, (_, i) => {\r\n                                let pageNum;\r\n                                if (totalPages <= 7) {\r\n                                    pageNum = i + 1;\r\n                                } else if (currentPage <= 4) {\r\n                                    pageNum = i + 1;\r\n                                } else if (currentPage >= totalPages - 3) {\r\n                                    pageNum = totalPages - 6 + i;\r\n                                } else {\r\n                                    pageNum = currentPage - 3 + i;\r\n                                }\r\n\r\n                                return (\r\n                                    <button\r\n                                        key={pageNum}\r\n                                        onClick={() => setCurrentPage(pageNum)}\r\n                                        className={`px-3 py-2 text-sm font-medium rounded-lg ${\r\n                                            currentPage === pageNum\r\n                                                ? 'bg-blue-600 text-white'\r\n                                                : 'text-gray-700 bg-white border border-gray-300 hover:bg-gray-50'\r\n                                        }`}\r\n                                    >\r\n                                        {pageNum}\r\n                                    </button>\r\n                                );\r\n                            })}\r\n                        </div>\r\n\r\n                        <div className=\"flex items-center space-x-2\">\r\n                            <button\r\n                                onClick={() => setCurrentPage(prev => Math.min(totalPages, prev + 1))}\r\n                                disabled={currentPage === totalPages}\r\n                                className=\"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                            >\r\n                                Next\r\n                                <ChevronRight className=\"w-4 h-4 ml-1\" />\r\n                            </button>\r\n                            <button\r\n                                onClick={() => setCurrentPage(totalPages)}\r\n                                disabled={currentPage === totalPages}\r\n                                className=\"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                            >\r\n                                Last\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default LeadsView;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}