{"ast":null,"code":"import _objectSpread from\"C:/Users/PC_User/Desktop/free-crm/bhotch-crm/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useMemo,useCallback}from'react';import{Plus,Edit2,Eye,RefreshCw,XCircle,CheckCircle,Clock,AlertCircle,DollarSign,ShieldCheck,Search,Calendar,ChevronUp,ChevronDown,Filter,X,Settings,ChevronLeft,ChevronRight}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function LeadsView(_ref){let{leads,onAddLead,onEditLead,onDeleteLead,onRefreshLeads,onSelectLead}=_ref;const[searchTerm,setSearchTerm]=useState('');const[filterDate,setFilterDate]=useState('');const[sortConfig,setSortConfig]=useState({key:null,direction:'asc'});const[columnFilters,setColumnFilters]=useState({});const[showFilters,setShowFilters]=useState(false);const[currentPage,setCurrentPage]=useState(1);const[itemsPerPage,setItemsPerPage]=useState(25);const[showColumnSettings,setShowColumnSettings]=useState(false);const[visibleColumns,setVisibleColumns]=useState({date:true,customer:true,phone:true,address:true,email:false,sqFt:true,ridgeLf:true,valleyLf:true,eavesLf:false,quote:true,quality:true,disposition:true,leadSource:true,roofAge:false,roofType:false,ridgeVents:false,turbine:false,rimeFlow:false,highProfileRidgeCap:false,valleyMetal:false,pipes1Half:false,pipes2:false,pipes3:false,pipes4:false,gables:false,turtleBacks:false,satellite:false,chimney:false,solar:false,swampCooler:false,guttersLf:false,downspouts:false,gutterGuardLf:false,permanentLighting:false});const getStatusBadge=useCallback(status=>{const badges={'New':{bg:'bg-blue-100',text:'text-blue-800',icon:Plus},'Scheduled':{bg:'bg-cyan-100',text:'text-cyan-800',icon:Calendar},'Insurance':{bg:'bg-indigo-100',text:'text-indigo-800',icon:ShieldCheck},'Quoted':{bg:'bg-yellow-100',text:'text-yellow-800',icon:DollarSign},'Follow Up':{bg:'bg-orange-100',text:'text-orange-800',icon:Clock},'Closed Sold':{bg:'bg-green-100',text:'text-green-800',icon:CheckCircle},'Closed Lost':{bg:'bg-red-100',text:'text-red-800',icon:XCircle}};const badge=badges[status]||{bg:'bg-gray-100',text:'text-gray-800',icon:AlertCircle};const Icon=badge.icon;return/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium \".concat(badge.bg,\" \").concat(badge.text),children:[/*#__PURE__*/_jsx(Icon,{className:\"w-3 h-3 mr-1\"}),status]});},[]);const formatNumber=useCallback(value=>{if(!value||value==='0'||value==='-')return'-';return Number(value).toLocaleString();},[]);const formatDate=useCallback(dateString=>{if(!dateString)return'-';try{return new Date(dateString).toLocaleDateString();}catch(_unused){return dateString;}},[]);const formatPhone=useCallback(phone=>{const phoneString=String(phone||'');if(!phoneString)return'-';const cleaned=phoneString.replace(/\\D/g,'');if(cleaned.length===10)return\"(\".concat(cleaned.slice(0,3),\") \").concat(cleaned.slice(3,6),\"-\").concat(cleaned.slice(6));return phoneString;},[]);const handleSort=useCallback(key=>{setSortConfig(prevConfig=>({key,direction:prevConfig.key===key&&prevConfig.direction==='asc'?'desc':'asc'}));},[]);const availableColumns=useMemo(()=>[{key:'date',label:'Date',type:'date',category:'Basic'},{key:'customer',label:'Customer',type:'text',category:'Basic'},{key:'phone',label:'Phone',type:'text',category:'Basic'},{key:'email',label:'Email',type:'text',category:'Basic'},{key:'address',label:'Address',type:'text',category:'Basic'},{key:'quality',label:'Quality',type:'text',category:'Job Info'},{key:'disposition',label:'Disposition',type:'text',category:'Job Info'},{key:'leadSource',label:'Lead Source',type:'text',category:'Job Info'},{key:'roofAge',label:'Roof Age',type:'text',category:'Job Info'},{key:'roofType',label:'Roof Type',type:'text',category:'Job Info'},{key:'sqFt',label:'SQ FT',type:'number',category:'Measurements'},{key:'ridgeLf',label:'Ridge LF',type:'number',category:'Measurements'},{key:'valleyLf',label:'Valley LF',type:'number',category:'Measurements'},{key:'eavesLf',label:'Eaves LF',type:'number',category:'Measurements'},{key:'quote',label:'Quote',type:'number',category:'Financial'},{key:'ridgeVents',label:'Ridge Vents',type:'number',category:'Ventilation'},{key:'turbine',label:'Turbine',type:'number',category:'Ventilation'},{key:'rimeFlow',label:'Rime Flow',type:'number',category:'Ventilation'},{key:'highProfileRidgeCap',label:'High Profile Ridge Cap',type:'number',category:'Components'},{key:'valleyMetal',label:'Valley Metal',type:'number',category:'Components'},{key:'pipes1Half',label:'Pipes 1.5\"',type:'number',category:'Pipes'},{key:'pipes2',label:'Pipes 2\"',type:'number',category:'Pipes'},{key:'pipes3',label:'Pipes 3\"',type:'number',category:'Pipes'},{key:'pipes4',label:'Pipes 4\"',type:'number',category:'Pipes'},{key:'gables',label:'Gables',type:'number',category:'Features'},{key:'turtleBacks',label:'Turtle Backs',type:'number',category:'Features'},{key:'satellite',label:'Satellite',type:'number',category:'Features'},{key:'chimney',label:'Chimney',type:'number',category:'Features'},{key:'solar',label:'Solar',type:'number',category:'Features'},{key:'swampCooler',label:'Swamp Cooler',type:'number',category:'Features'},{key:'guttersLf',label:'Gutters LF',type:'number',category:'Gutters'},{key:'downspouts',label:'Downspouts',type:'number',category:'Gutters'},{key:'gutterGuardLf',label:'Gutter Guard LF',type:'number',category:'Gutters'},{key:'permanentLighting',label:'Permanent Lighting',type:'number',category:'Additional'}],[]);const getSortValue=useCallback((lead,key)=>{const column=availableColumns.find(col=>col.key===key);if(key==='customer'){return lead.customerName||\"\".concat(lead.firstName||'',\" \").concat(lead.lastName||'').trim()||'Unknown';}if(key==='phone'){return lead.phoneNumber||'';}if(key==='quote'){return parseFloat(lead.dabellaQuote)||0;}if((column===null||column===void 0?void 0:column.type)==='number'){return parseFloat(lead[key])||0;}return lead[key]||'';},[availableColumns]);const toggleColumnVisibility=useCallback(columnKey=>{setVisibleColumns(prev=>_objectSpread(_objectSpread({},prev),{},{[columnKey]:!prev[columnKey]}));},[]);const updateColumnFilter=useCallback((column,value)=>{setColumnFilters(prev=>{const newFilters=_objectSpread({},prev);if(value===''||value===null||value===undefined){delete newFilters[column];}else{newFilters[column]=value;}setCurrentPage(1);return newFilters;});},[]);const clearAllFilters=useCallback(()=>{setColumnFilters({});setSearchTerm('');setFilterDate('');setCurrentPage(1);},[]);const filteredAndSortedLeads=useMemo(()=>{let filtered=leads.filter(lead=>{var _lead$phoneNumber;// Global search filter\nconst matchesSearch=!searchTerm||[lead.firstName,lead.lastName,lead.customerName,(_lead$phoneNumber=lead.phoneNumber)===null||_lead$phoneNumber===void 0?void 0:_lead$phoneNumber.toString(),lead.address,lead.quality,lead.disposition,lead.leadSource].some(field=>field===null||field===void 0?void 0:field.toLowerCase().includes(searchTerm.toLowerCase()));// Date filter\nconst matchesDate=!filterDate||lead.date===filterDate;// Column-specific filters\nconst matchesColumnFilters=Object.entries(columnFilters).every(_ref2=>{let[column,filterValue]=_ref2;if(!filterValue)return true;let leadValue;if(column==='customer'){leadValue=lead.customerName||\"\".concat(lead.firstName||'',\" \").concat(lead.lastName||'').trim();}else if(column==='phone'){var _lead$phoneNumber2;leadValue=((_lead$phoneNumber2=lead.phoneNumber)===null||_lead$phoneNumber2===void 0?void 0:_lead$phoneNumber2.toString())||'';}else if(column==='quote'){leadValue=parseFloat(lead.dabellaQuote)||0;}else{const columnConfig=availableColumns.find(col=>col.key===column);if((columnConfig===null||columnConfig===void 0?void 0:columnConfig.type)==='number'){leadValue=parseFloat(lead[column])||0;}else{leadValue=lead[column]||'';}}const columnConfig=availableColumns.find(col=>col.key===column);if((columnConfig===null||columnConfig===void 0?void 0:columnConfig.type)==='number'){return leadValue>=parseFloat(filterValue);}else{return leadValue.toString().toLowerCase().includes(filterValue.toLowerCase());}});return matchesSearch&&matchesDate&&matchesColumnFilters;});if(sortConfig.key){filtered.sort((a,b)=>{const aValue=getSortValue(a,sortConfig.key);const bValue=getSortValue(b,sortConfig.key);if(typeof aValue==='string'&&typeof bValue==='string'){const comparison=aValue.toLowerCase().localeCompare(bValue.toLowerCase());return sortConfig.direction==='asc'?comparison:-comparison;}else{const comparison=aValue-bValue;return sortConfig.direction==='asc'?comparison:-comparison;}});}return filtered;},[leads,searchTerm,filterDate,columnFilters,sortConfig,getSortValue,availableColumns]);const paginatedLeads=useMemo(()=>{const startIndex=(currentPage-1)*itemsPerPage;const endIndex=startIndex+itemsPerPage;return filteredAndSortedLeads.slice(startIndex,endIndex);},[filteredAndSortedLeads,currentPage,itemsPerPage]);const totalPages=Math.ceil(filteredAndSortedLeads.length/itemsPerPage);const hasActiveFilters=useMemo(()=>{return searchTerm||filterDate||Object.keys(columnFilters).length>0;},[searchTerm,filterDate,columnFilters]);const SortableHeader=_ref3=>{var _availableColumns$fin;let{sortKey,children,className=\"\"}=_ref3;const hasFilter=columnFilters[sortKey];return/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider \".concat(className),children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between cursor-pointer hover:bg-gray-100 transition-colors select-none p-1 rounded\",onClick:()=>handleSort(sortKey),children:[/*#__PURE__*/_jsx(\"span\",{className:hasFilter?'text-blue-600 font-semibold':'',children:children}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1\",children:[hasFilter&&/*#__PURE__*/_jsx(Filter,{className:\"w-3 h-3 text-blue-600\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(ChevronUp,{className:\"w-3 h-3 \".concat(sortConfig.key===sortKey&&sortConfig.direction==='asc'?'text-blue-600':'text-gray-300')}),/*#__PURE__*/_jsx(ChevronDown,{className:\"w-3 h-3 -mt-1 \".concat(sortConfig.key===sortKey&&sortConfig.direction==='desc'?'text-blue-600':'text-gray-300')})]})]})]}),showFilters&&/*#__PURE__*/_jsx(ColumnFilter,{column:sortKey,value:columnFilters[sortKey]||'',onChange:value=>updateColumnFilter(sortKey,value),type:((_availableColumns$fin=availableColumns.find(col=>col.key===sortKey))===null||_availableColumns$fin===void 0?void 0:_availableColumns$fin.type)||'text'})]})});};const ColumnFilter=_ref4=>{let{column,value,onChange,type}=_ref4;const placeholder=type==='number'?'Min value...':'Filter...';return/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:type==='number'?'number':type==='date'?'date':'text',value:value,onChange:e=>onChange(e.target.value),placeholder:placeholder,className:\"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500\",onClick:e=>e.stopPropagation()}),value&&/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();onChange('');},className:\"absolute right-1 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(X,{className:\"w-3 h-3\"})})]});};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-gray-900\",children:\"Lead Management\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-1\",children:\"Track and manage your sales leads\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:onRefreshLeads,className:\"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors\",children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"w-4 h-4 mr-2\"}),\"Refresh\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:onAddLead,className:\"inline-flex items-center px-4 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors\",children:[/*#__PURE__*/_jsx(Plus,{className:\"w-4 h-4 mr-2\"}),\"Add Lead\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-lg shadow-sm border\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative md:col-span-2\",children:[/*#__PURE__*/_jsx(Search,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search across all fields...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"pl-10 pr-4 py-3 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:filterDate,onChange:e=>setFilterDate(e.target.value),className:\"pl-10 pr-4 py-3 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowFilters(!showFilters),className:\"inline-flex items-center px-3 py-2 border rounded-lg text-sm font-medium transition-colors \".concat(showFilters?'border-blue-500 text-blue-700 bg-blue-50':'border-gray-300 text-gray-700 bg-white hover:bg-gray-50'),children:[/*#__PURE__*/_jsx(Filter,{className:\"w-4 h-4 mr-2\"}),\"Column Filters\",Object.keys(columnFilters).length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full\",children:Object.keys(columnFilters).length})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowColumnSettings(!showColumnSettings),className:\"inline-flex items-center px-3 py-2 border rounded-lg text-sm font-medium transition-colors \".concat(showColumnSettings?'border-purple-500 text-purple-700 bg-purple-50':'border-gray-300 text-gray-700 bg-white hover:bg-gray-50'),children:[/*#__PURE__*/_jsx(Settings,{className:\"w-4 h-4 mr-2\"}),\"Manage Columns\",/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded-full\",children:Object.values(visibleColumns).filter(Boolean).length})]}),hasActiveFilters&&/*#__PURE__*/_jsxs(\"button\",{onClick:clearAllFilters,className:\"inline-flex items-center px-3 py-2 border border-red-300 rounded-lg text-sm font-medium text-red-700 bg-red-50 hover:bg-red-100 transition-colors\",children:[/*#__PURE__*/_jsx(X,{className:\"w-4 h-4 mr-2\"}),\"Clear All Filters\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"select\",{value:itemsPerPage,onChange:e=>{setItemsPerPage(Number(e.target.value));setCurrentPage(1);},className:\"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:10,children:\"10 per page\"}),/*#__PURE__*/_jsx(\"option\",{value:25,children:\"25 per page\"}),/*#__PURE__*/_jsx(\"option\",{value:50,children:\"50 per page\"}),/*#__PURE__*/_jsx(\"option\",{value:100,children:\"100 per page\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[\"Showing \",filteredAndSortedLeads.length===0?0:(currentPage-1)*itemsPerPage+1,\"-\",Math.min(currentPage*itemsPerPage,filteredAndSortedLeads.length),\" of \",filteredAndSortedLeads.length]})]})]})]})}),showColumnSettings&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-sm border\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Manage Visible Columns\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowColumnSettings(false),className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(X,{className:\"w-5 h-5\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4\",children:availableColumns.map(column=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-2 p-2 rounded hover:bg-gray-50 cursor-pointer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:visibleColumns[column.key],onChange:()=>toggleColumnVisibility(column.key),className:\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:column.label})]},column.key))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-lg border border-gray-200 overflow-hidden\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"overflow-x-auto\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gradient-to-r from-gray-50 to-gray-100\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[availableColumns.filter(col=>visibleColumns[col.key]).map(column=>/*#__PURE__*/_jsx(SortableHeader,{sortKey:column.key,children:column.label},column.key)),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-100\",children:paginatedLeads.map((lead,index)=>/*#__PURE__*/_jsxs(\"tr\",{className:\"cursor-pointer transition-all duration-200 hover:bg-blue-50 hover:shadow-md transform hover:-translate-y-0.5 \".concat(index%2===0?'bg-white':'bg-gray-50'),onClick:()=>onSelectLead(lead),children:[availableColumns.filter(col=>visibleColumns[col.key]).map(column=>{const renderCellContent=()=>{if(column.key==='date'){return/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:formatDate(lead.date)});}if(column.key==='customer'){return/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-semibold text-gray-900\",children:lead.customerName||\"\".concat(lead.firstName||'',\" \").concat(lead.lastName||'').trim()||'Unknown'});}if(column.key==='phone'){return/*#__PURE__*/_jsx(\"a\",{href:\"tel:\".concat(lead.phoneNumber),onClick:e=>e.stopPropagation(),className:\"text-sm font-medium text-blue-600 hover:text-blue-800 hover:underline transition-colors\",children:formatPhone(lead.phoneNumber)});}if(column.key==='email'){return lead.email?/*#__PURE__*/_jsx(\"a\",{href:\"mailto:\".concat(lead.email),onClick:e=>e.stopPropagation(),className:\"text-sm text-blue-600 hover:text-blue-800 hover:underline transition-colors\",children:lead.email}):'-';}if(column.key==='address'){return/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-700 truncate max-w-xs\",children:lead.address||'-'});}if(column.key==='disposition'){return getStatusBadge(lead.disposition);}if(column.key==='quote'){return lead.dabellaQuote?/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm bg-green-100 text-green-800 px-3 py-1 rounded-full font-medium\",children:[\"$\",formatNumber(lead.dabellaQuote)]}):'-';}if(column.type==='number'){const value=lead[column.key];return value?/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:formatNumber(value)}):'-';}return/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-900\",children:lead[column.key]||'-'});};return/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-5 whitespace-nowrap\",children:renderCellContent()},column.key);}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-5 whitespace-nowrap text-sm font-medium\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();onSelectLead(lead);},className:\"text-blue-600 hover:text-blue-900 p-2 rounded-lg hover:bg-blue-100 transition-all duration-200 hover:scale-110\",title:\"View Details\",children:/*#__PURE__*/_jsx(Eye,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();onEditLead(lead);},className:\"text-orange-600 hover:text-orange-900 p-2 rounded-lg hover:bg-orange-100 transition-all duration-200 hover:scale-110\",title:\"Edit\",children:/*#__PURE__*/_jsx(Edit2,{className:\"w-4 h-4\"})})]})})]},lead.id||index))})]}),filteredAndSortedLeads.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"mx-auto h-12 w-12 text-gray-400\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"mt-2 text-sm font-medium text-gray-900\",children:\"No leads found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500\",children:hasActiveFilters?'Try adjusting your search or filter criteria.':'Get started by adding your first lead.'})]})]})}),filteredAndSortedLeads.length>0&&totalPages>1&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-4 rounded-lg shadow-sm border\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(1),disabled:currentPage===1,className:\"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\",children:\"First\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentPage(prev=>Math.max(1,prev-1)),disabled:currentPage===1,className:\"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\",children:[/*#__PURE__*/_jsx(ChevronLeft,{className:\"w-4 h-4 mr-1\"}),\"Previous\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-1\",children:Array.from({length:Math.min(7,totalPages)},(_,i)=>{let pageNum;if(totalPages<=7){pageNum=i+1;}else if(currentPage<=4){pageNum=i+1;}else if(currentPage>=totalPages-3){pageNum=totalPages-6+i;}else{pageNum=currentPage-3+i;}return/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(pageNum),className:\"px-3 py-2 text-sm font-medium rounded-lg \".concat(currentPage===pageNum?'bg-blue-600 text-white':'text-gray-700 bg-white border border-gray-300 hover:bg-gray-50'),children:pageNum},pageNum);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentPage(prev=>Math.min(totalPages,prev+1)),disabled:currentPage===totalPages,className:\"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\",children:[\"Next\",/*#__PURE__*/_jsx(ChevronRight,{className:\"w-4 h-4 ml-1\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(totalPages),disabled:currentPage===totalPages,className:\"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\",children:\"Last\"})]})]})})]});}export default LeadsView;","map":{"version":3,"names":["React","useState","useMemo","useCallback","Plus","Edit2","Eye","RefreshCw","XCircle","CheckCircle","Clock","AlertCircle","DollarSign","ShieldCheck","Search","Calendar","ChevronUp","ChevronDown","Filter","X","Settings","ChevronLeft","ChevronRight","jsx","_jsx","jsxs","_jsxs","LeadsView","_ref","leads","onAddLead","onEditLead","onDeleteLead","onRefreshLeads","onSelectLead","searchTerm","setSearchTerm","filterDate","setFilterDate","sortConfig","setSortConfig","key","direction","columnFilters","setColumnFilters","showFilters","setShowFilters","currentPage","setCurrentPage","itemsPerPage","setItemsPerPage","showColumnSettings","setShowColumnSettings","visibleColumns","setVisibleColumns","date","customer","phone","address","email","sqFt","ridgeLf","valleyLf","eavesLf","quote","quality","disposition","leadSource","roofAge","roofType","ridgeVents","turbine","rimeFlow","highProfileRidgeCap","valleyMetal","pipes1Half","pipes2","pipes3","pipes4","gables","turtleBacks","satellite","chimney","solar","swampCooler","guttersLf","downspouts","gutterGuardLf","permanentLighting","getStatusBadge","status","badges","bg","text","icon","badge","Icon","className","concat","children","formatNumber","value","Number","toLocaleString","formatDate","dateString","Date","toLocaleDateString","_unused","formatPhone","phoneString","String","cleaned","replace","length","slice","handleSort","prevConfig","availableColumns","label","type","category","getSortValue","lead","column","find","col","customerName","firstName","lastName","trim","phoneNumber","parseFloat","dabellaQuote","toggleColumnVisibility","columnKey","prev","_objectSpread","updateColumnFilter","newFilters","undefined","clearAllFilters","filteredAndSortedLeads","filtered","filter","_lead$phoneNumber","matchesSearch","toString","some","field","toLowerCase","includes","matchesDate","matchesColumnFilters","Object","entries","every","_ref2","filterValue","leadValue","_lead$phoneNumber2","columnConfig","sort","a","b","aValue","bValue","comparison","localeCompare","paginatedLeads","startIndex","endIndex","totalPages","Math","ceil","hasActiveFilters","keys","SortableHeader","_ref3","_availableColumns$fin","sortKey","hasFilter","onClick","ColumnFilter","onChange","_ref4","placeholder","e","target","stopPropagation","values","Boolean","min","map","checked","index","renderCellContent","href","title","id","disabled","max","Array","from","_","i","pageNum"],"sources":["C:/Users/PC_User/Desktop/free-crm/bhotch-crm/src/features/leads/LeadsView.jsx"],"sourcesContent":["import React, { useState, useMemo, useCallback } from 'react';\r\nimport { Plus, Edit2, Eye, RefreshCw, XCircle, CheckCircle, Clock, AlertCircle, DollarSign, ShieldCheck, Search, Calendar, ChevronUp, ChevronDown, Filter, X, Settings, ChevronLeft, ChevronRight } from 'lucide-react';\r\n\r\nfunction LeadsView({ leads, onAddLead, onEditLead, onDeleteLead, onRefreshLeads, onSelectLead }) {\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [filterDate, setFilterDate] = useState('');\r\n    const [sortConfig, setSortConfig] = useState({ key: null, direction: 'asc' });\r\n    const [columnFilters, setColumnFilters] = useState({});\r\n    const [showFilters, setShowFilters] = useState(false);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [itemsPerPage, setItemsPerPage] = useState(25);\r\n    const [showColumnSettings, setShowColumnSettings] = useState(false);\r\n    const [visibleColumns, setVisibleColumns] = useState({\r\n        date: true,\r\n        customer: true,\r\n        phone: true,\r\n        address: true,\r\n        email: false,\r\n        sqFt: true,\r\n        ridgeLf: true,\r\n        valleyLf: true,\r\n        eavesLf: false,\r\n        quote: true,\r\n        quality: true,\r\n        disposition: true,\r\n        leadSource: true,\r\n        roofAge: false,\r\n        roofType: false,\r\n        ridgeVents: false,\r\n        turbine: false,\r\n        rimeFlow: false,\r\n        highProfileRidgeCap: false,\r\n        valleyMetal: false,\r\n        pipes1Half: false,\r\n        pipes2: false,\r\n        pipes3: false,\r\n        pipes4: false,\r\n        gables: false,\r\n        turtleBacks: false,\r\n        satellite: false,\r\n        chimney: false,\r\n        solar: false,\r\n        swampCooler: false,\r\n        guttersLf: false,\r\n        downspouts: false,\r\n        gutterGuardLf: false,\r\n        permanentLighting: false\r\n    });\r\n\r\n    const getStatusBadge = useCallback((status) => {\r\n        const badges = {\r\n            'New': { bg: 'bg-blue-100', text: 'text-blue-800', icon: Plus },\r\n            'Scheduled': { bg: 'bg-cyan-100', text: 'text-cyan-800', icon: Calendar },\r\n            'Insurance': { bg: 'bg-indigo-100', text: 'text-indigo-800', icon: ShieldCheck },\r\n            'Quoted': { bg: 'bg-yellow-100', text: 'text-yellow-800', icon: DollarSign },\r\n            'Follow Up': { bg: 'bg-orange-100', text: 'text-orange-800', icon: Clock },\r\n            'Closed Sold': { bg: 'bg-green-100', text: 'text-green-800', icon: CheckCircle },\r\n            'Closed Lost': { bg: 'bg-red-100', text: 'text-red-800', icon: XCircle }\r\n        };\r\n        const badge = badges[status] || { bg: 'bg-gray-100', text: 'text-gray-800', icon: AlertCircle };\r\n        const Icon = badge.icon;\r\n        return <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${badge.bg} ${badge.text}`}><Icon className=\"w-3 h-3 mr-1\" />{status}</span>;\r\n    }, []);\r\n\r\n    const formatNumber = useCallback((value) => {\r\n        if (!value || value === '0' || value === '-') return '-';\r\n        return Number(value).toLocaleString();\r\n    }, []);\r\n\r\n    const formatDate = useCallback((dateString) => {\r\n        if (!dateString) return '-';\r\n        try {\r\n            return new Date(dateString).toLocaleDateString();\r\n        } catch {\r\n            return dateString;\r\n        }\r\n    }, []);\r\n\r\n    const formatPhone = useCallback((phone) => {\r\n        const phoneString = String(phone || '');\r\n        if (!phoneString) return '-';\r\n        const cleaned = phoneString.replace(/\\D/g, '');\r\n        if (cleaned.length === 10) return `(${cleaned.slice(0, 3)}) ${cleaned.slice(3, 6)}-${cleaned.slice(6)}`;\r\n        return phoneString;\r\n    }, []);\r\n\r\n    const handleSort = useCallback((key) => {\r\n        setSortConfig(prevConfig => ({\r\n            key,\r\n            direction: prevConfig.key === key && prevConfig.direction === 'asc' ? 'desc' : 'asc'\r\n        }));\r\n    }, []);\r\n\r\n    const availableColumns = useMemo(() => [\r\n        { key: 'date', label: 'Date', type: 'date', category: 'Basic' },\r\n        { key: 'customer', label: 'Customer', type: 'text', category: 'Basic' },\r\n        { key: 'phone', label: 'Phone', type: 'text', category: 'Basic' },\r\n        { key: 'email', label: 'Email', type: 'text', category: 'Basic' },\r\n        { key: 'address', label: 'Address', type: 'text', category: 'Basic' },\r\n        { key: 'quality', label: 'Quality', type: 'text', category: 'Job Info' },\r\n        { key: 'disposition', label: 'Disposition', type: 'text', category: 'Job Info' },\r\n        { key: 'leadSource', label: 'Lead Source', type: 'text', category: 'Job Info' },\r\n        { key: 'roofAge', label: 'Roof Age', type: 'text', category: 'Job Info' },\r\n        { key: 'roofType', label: 'Roof Type', type: 'text', category: 'Job Info' },\r\n        { key: 'sqFt', label: 'SQ FT', type: 'number', category: 'Measurements' },\r\n        { key: 'ridgeLf', label: 'Ridge LF', type: 'number', category: 'Measurements' },\r\n        { key: 'valleyLf', label: 'Valley LF', type: 'number', category: 'Measurements' },\r\n        { key: 'eavesLf', label: 'Eaves LF', type: 'number', category: 'Measurements' },\r\n        { key: 'quote', label: 'Quote', type: 'number', category: 'Financial' },\r\n        { key: 'ridgeVents', label: 'Ridge Vents', type: 'number', category: 'Ventilation' },\r\n        { key: 'turbine', label: 'Turbine', type: 'number', category: 'Ventilation' },\r\n        { key: 'rimeFlow', label: 'Rime Flow', type: 'number', category: 'Ventilation' },\r\n        { key: 'highProfileRidgeCap', label: 'High Profile Ridge Cap', type: 'number', category: 'Components' },\r\n        { key: 'valleyMetal', label: 'Valley Metal', type: 'number', category: 'Components' },\r\n        { key: 'pipes1Half', label: 'Pipes 1.5\"', type: 'number', category: 'Pipes' },\r\n        { key: 'pipes2', label: 'Pipes 2\"', type: 'number', category: 'Pipes' },\r\n        { key: 'pipes3', label: 'Pipes 3\"', type: 'number', category: 'Pipes' },\r\n        { key: 'pipes4', label: 'Pipes 4\"', type: 'number', category: 'Pipes' },\r\n        { key: 'gables', label: 'Gables', type: 'number', category: 'Features' },\r\n        { key: 'turtleBacks', label: 'Turtle Backs', type: 'number', category: 'Features' },\r\n        { key: 'satellite', label: 'Satellite', type: 'number', category: 'Features' },\r\n        { key: 'chimney', label: 'Chimney', type: 'number', category: 'Features' },\r\n        { key: 'solar', label: 'Solar', type: 'number', category: 'Features' },\r\n        { key: 'swampCooler', label: 'Swamp Cooler', type: 'number', category: 'Features' },\r\n        { key: 'guttersLf', label: 'Gutters LF', type: 'number', category: 'Gutters' },\r\n        { key: 'downspouts', label: 'Downspouts', type: 'number', category: 'Gutters' },\r\n        { key: 'gutterGuardLf', label: 'Gutter Guard LF', type: 'number', category: 'Gutters' },\r\n        { key: 'permanentLighting', label: 'Permanent Lighting', type: 'number', category: 'Additional' }\r\n    ], []);\r\n\r\n    const getSortValue = useCallback((lead, key) => {\r\n        const column = availableColumns.find(col => col.key === key);\r\n\r\n        if (key === 'customer') {\r\n            return lead.customerName || `${lead.firstName || ''} ${lead.lastName || ''}`.trim() || 'Unknown';\r\n        }\r\n        if (key === 'phone') {\r\n            return lead.phoneNumber || '';\r\n        }\r\n        if (key === 'quote') {\r\n            return parseFloat(lead.dabellaQuote) || 0;\r\n        }\r\n\r\n        if (column?.type === 'number') {\r\n            return parseFloat(lead[key]) || 0;\r\n        }\r\n\r\n        return lead[key] || '';\r\n    }, [availableColumns]);\r\n\r\n    const toggleColumnVisibility = useCallback((columnKey) => {\r\n        setVisibleColumns(prev => ({\r\n            ...prev,\r\n            [columnKey]: !prev[columnKey]\r\n        }));\r\n    }, []);\r\n\r\n    const updateColumnFilter = useCallback((column, value) => {\r\n        setColumnFilters(prev => {\r\n            const newFilters = { ...prev };\r\n            if (value === '' || value === null || value === undefined) {\r\n                delete newFilters[column];\r\n            } else {\r\n                newFilters[column] = value;\r\n            }\r\n            setCurrentPage(1);\r\n            return newFilters;\r\n        });\r\n    }, []);\r\n\r\n    const clearAllFilters = useCallback(() => {\r\n        setColumnFilters({});\r\n        setSearchTerm('');\r\n        setFilterDate('');\r\n        setCurrentPage(1);\r\n    }, []);\r\n\r\n    const filteredAndSortedLeads = useMemo(() => {\r\n        let filtered = leads.filter(lead => {\r\n            // Global search filter\r\n            const matchesSearch = !searchTerm || [\r\n                lead.firstName,\r\n                lead.lastName,\r\n                lead.customerName,\r\n                lead.phoneNumber?.toString(),\r\n                lead.address,\r\n                lead.quality,\r\n                lead.disposition,\r\n                lead.leadSource\r\n            ].some(field => field?.toLowerCase().includes(searchTerm.toLowerCase()));\r\n\r\n            // Date filter\r\n            const matchesDate = !filterDate || lead.date === filterDate;\r\n\r\n            // Column-specific filters\r\n            const matchesColumnFilters = Object.entries(columnFilters).every(([column, filterValue]) => {\r\n                if (!filterValue) return true;\r\n\r\n                let leadValue;\r\n                if (column === 'customer') {\r\n                    leadValue = lead.customerName || `${lead.firstName || ''} ${lead.lastName || ''}`.trim();\r\n                } else if (column === 'phone') {\r\n                    leadValue = lead.phoneNumber?.toString() || '';\r\n                } else if (column === 'quote') {\r\n                    leadValue = parseFloat(lead.dabellaQuote) || 0;\r\n                } else {\r\n                    const columnConfig = availableColumns.find(col => col.key === column);\r\n                    if (columnConfig?.type === 'number') {\r\n                        leadValue = parseFloat(lead[column]) || 0;\r\n                    } else {\r\n                        leadValue = lead[column] || '';\r\n                    }\r\n                }\r\n\r\n                const columnConfig = availableColumns.find(col => col.key === column);\r\n                if (columnConfig?.type === 'number') {\r\n                    return leadValue >= parseFloat(filterValue);\r\n                } else {\r\n                    return leadValue.toString().toLowerCase().includes(filterValue.toLowerCase());\r\n                }\r\n            });\r\n\r\n            return matchesSearch && matchesDate && matchesColumnFilters;\r\n        });\r\n\r\n        if (sortConfig.key) {\r\n            filtered.sort((a, b) => {\r\n                const aValue = getSortValue(a, sortConfig.key);\r\n                const bValue = getSortValue(b, sortConfig.key);\r\n\r\n                if (typeof aValue === 'string' && typeof bValue === 'string') {\r\n                    const comparison = aValue.toLowerCase().localeCompare(bValue.toLowerCase());\r\n                    return sortConfig.direction === 'asc' ? comparison : -comparison;\r\n                } else {\r\n                    const comparison = aValue - bValue;\r\n                    return sortConfig.direction === 'asc' ? comparison : -comparison;\r\n                }\r\n            });\r\n        }\r\n\r\n        return filtered;\r\n    }, [leads, searchTerm, filterDate, columnFilters, sortConfig, getSortValue, availableColumns]);\r\n\r\n    const paginatedLeads = useMemo(() => {\r\n        const startIndex = (currentPage - 1) * itemsPerPage;\r\n        const endIndex = startIndex + itemsPerPage;\r\n        return filteredAndSortedLeads.slice(startIndex, endIndex);\r\n    }, [filteredAndSortedLeads, currentPage, itemsPerPage]);\r\n\r\n    const totalPages = Math.ceil(filteredAndSortedLeads.length / itemsPerPage);\r\n\r\n    const hasActiveFilters = useMemo(() => {\r\n        return searchTerm || filterDate || Object.keys(columnFilters).length > 0;\r\n    }, [searchTerm, filterDate, columnFilters]);\r\n\r\n    const SortableHeader = ({ sortKey, children, className = \"\" }) => {\r\n        const hasFilter = columnFilters[sortKey];\r\n        return (\r\n            <th className={`px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ${className}`}>\r\n                <div className=\"space-y-2\">\r\n                    <div\r\n                        className=\"flex items-center justify-between cursor-pointer hover:bg-gray-100 transition-colors select-none p-1 rounded\"\r\n                        onClick={() => handleSort(sortKey)}\r\n                    >\r\n                        <span className={hasFilter ? 'text-blue-600 font-semibold' : ''}>{children}</span>\r\n                        <div className=\"flex items-center space-x-1\">\r\n                            {hasFilter && <Filter className=\"w-3 h-3 text-blue-600\" />}\r\n                            <div className=\"flex flex-col\">\r\n                                <ChevronUp\r\n                                    className={`w-3 h-3 ${sortConfig.key === sortKey && sortConfig.direction === 'asc' ? 'text-blue-600' : 'text-gray-300'}`}\r\n                                />\r\n                                <ChevronDown\r\n                                    className={`w-3 h-3 -mt-1 ${sortConfig.key === sortKey && sortConfig.direction === 'desc' ? 'text-blue-600' : 'text-gray-300'}`}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    {showFilters && (\r\n                        <ColumnFilter\r\n                            column={sortKey}\r\n                            value={columnFilters[sortKey] || ''}\r\n                            onChange={(value) => updateColumnFilter(sortKey, value)}\r\n                            type={availableColumns.find(col => col.key === sortKey)?.type || 'text'}\r\n                        />\r\n                    )}\r\n                </div>\r\n            </th>\r\n        );\r\n    };\r\n\r\n    const ColumnFilter = ({ column, value, onChange, type }) => {\r\n        const placeholder = type === 'number' ? 'Min value...' : 'Filter...';\r\n        return (\r\n            <div className=\"relative\">\r\n                <input\r\n                    type={type === 'number' ? 'number' : type === 'date' ? 'date' : 'text'}\r\n                    value={value}\r\n                    onChange={(e) => onChange(e.target.value)}\r\n                    placeholder={placeholder}\r\n                    className=\"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500\"\r\n                    onClick={(e) => e.stopPropagation()}\r\n                />\r\n                {value && (\r\n                    <button\r\n                        onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            onChange('');\r\n                        }}\r\n                        className=\"absolute right-1 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600\"\r\n                    >\r\n                        <X className=\"w-3 h-3\" />\r\n                    </button>\r\n                )}\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            {/* Header */}\r\n            <div className=\"flex justify-between items-center\">\r\n                <div>\r\n                    <h2 className=\"text-3xl font-bold text-gray-900\">Lead Management</h2>\r\n                    <p className=\"text-gray-600 mt-1\">Track and manage your sales leads</p>\r\n                </div>\r\n                <div className=\"flex items-center space-x-3\">\r\n                    <button\r\n                        onClick={onRefreshLeads}\r\n                        className=\"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors\"\r\n                    >\r\n                        <RefreshCw className=\"w-4 h-4 mr-2\" />\r\n                        Refresh\r\n                    </button>\r\n                    <button\r\n                        onClick={onAddLead}\r\n                        className=\"inline-flex items-center px-4 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors\"\r\n                    >\r\n                        <Plus className=\"w-4 h-4 mr-2\" />\r\n                        Add Lead\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Search and Filters */}\r\n            <div className=\"bg-white p-6 rounded-lg shadow-sm border\">\r\n                <div className=\"space-y-4\">\r\n                    {/* Main Search and Date Filter */}\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                        <div className=\"relative md:col-span-2\">\r\n                            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5\" />\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"Search across all fields...\"\r\n                                value={searchTerm}\r\n                                onChange={(e) => setSearchTerm(e.target.value)}\r\n                                className=\"pl-10 pr-4 py-3 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"relative\">\r\n                            <Calendar className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5\" />\r\n                            <input\r\n                                type=\"date\"\r\n                                value={filterDate}\r\n                                onChange={(e) => setFilterDate(e.target.value)}\r\n                                className=\"pl-10 pr-4 py-3 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Filter Controls */}\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div className=\"flex items-center space-x-4\">\r\n                            <button\r\n                                onClick={() => setShowFilters(!showFilters)}\r\n                                className={`inline-flex items-center px-3 py-2 border rounded-lg text-sm font-medium transition-colors ${\r\n                                    showFilters\r\n                                        ? 'border-blue-500 text-blue-700 bg-blue-50'\r\n                                        : 'border-gray-300 text-gray-700 bg-white hover:bg-gray-50'\r\n                                }`}\r\n                            >\r\n                                <Filter className=\"w-4 h-4 mr-2\" />\r\n                                Column Filters\r\n                                {Object.keys(columnFilters).length > 0 && (\r\n                                    <span className=\"ml-2 bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full\">\r\n                                        {Object.keys(columnFilters).length}\r\n                                    </span>\r\n                                )}\r\n                            </button>\r\n\r\n                            <button\r\n                                onClick={() => setShowColumnSettings(!showColumnSettings)}\r\n                                className={`inline-flex items-center px-3 py-2 border rounded-lg text-sm font-medium transition-colors ${\r\n                                    showColumnSettings\r\n                                        ? 'border-purple-500 text-purple-700 bg-purple-50'\r\n                                        : 'border-gray-300 text-gray-700 bg-white hover:bg-gray-50'\r\n                                }`}\r\n                            >\r\n                                <Settings className=\"w-4 h-4 mr-2\" />\r\n                                Manage Columns\r\n                                <span className=\"ml-2 bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded-full\">\r\n                                    {Object.values(visibleColumns).filter(Boolean).length}\r\n                                </span>\r\n                            </button>\r\n\r\n                            {hasActiveFilters && (\r\n                                <button\r\n                                    onClick={clearAllFilters}\r\n                                    className=\"inline-flex items-center px-3 py-2 border border-red-300 rounded-lg text-sm font-medium text-red-700 bg-red-50 hover:bg-red-100 transition-colors\"\r\n                                >\r\n                                    <X className=\"w-4 h-4 mr-2\" />\r\n                                    Clear All Filters\r\n                                </button>\r\n                            )}\r\n                        </div>\r\n\r\n                        <div className=\"flex items-center space-x-3\">\r\n                            <select\r\n                                value={itemsPerPage}\r\n                                onChange={(e) => {\r\n                                    setItemsPerPage(Number(e.target.value));\r\n                                    setCurrentPage(1);\r\n                                }}\r\n                                className=\"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                            >\r\n                                <option value={10}>10 per page</option>\r\n                                <option value={25}>25 per page</option>\r\n                                <option value={50}>50 per page</option>\r\n                                <option value={100}>100 per page</option>\r\n                            </select>\r\n\r\n                            <div className=\"text-sm text-gray-600\">\r\n                                Showing {filteredAndSortedLeads.length === 0 ? 0 : ((currentPage - 1) * itemsPerPage) + 1}-{Math.min(currentPage * itemsPerPage, filteredAndSortedLeads.length)} of {filteredAndSortedLeads.length}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Column Settings Panel */}\r\n            {showColumnSettings && (\r\n                <div className=\"bg-white p-6 rounded-lg shadow-sm border\">\r\n                    <div className=\"flex justify-between items-center mb-4\">\r\n                        <h3 className=\"text-lg font-semibold text-gray-900\">Manage Visible Columns</h3>\r\n                        <button\r\n                            onClick={() => setShowColumnSettings(false)}\r\n                            className=\"text-gray-400 hover:text-gray-600\"\r\n                        >\r\n                            <X className=\"w-5 h-5\" />\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4\">\r\n                        {availableColumns.map(column => (\r\n                            <label\r\n                                key={column.key}\r\n                                className=\"flex items-center space-x-2 p-2 rounded hover:bg-gray-50 cursor-pointer\"\r\n                            >\r\n                                <input\r\n                                    type=\"checkbox\"\r\n                                    checked={visibleColumns[column.key]}\r\n                                    onChange={() => toggleColumnVisibility(column.key)}\r\n                                    className=\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\r\n                                />\r\n                                <span className=\"text-sm text-gray-700\">{column.label}</span>\r\n                            </label>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Leads Table */}\r\n            <div className=\"bg-white rounded-lg shadow-lg border border-gray-200 overflow-hidden\">\r\n                <div className=\"overflow-x-auto\">\r\n                    <table className=\"min-w-full divide-y divide-gray-200\">\r\n                        <thead className=\"bg-gradient-to-r from-gray-50 to-gray-100\">\r\n                            <tr>\r\n                                {availableColumns.filter(col => visibleColumns[col.key]).map(column => (\r\n                                    <SortableHeader key={column.key} sortKey={column.key}>\r\n                                        {column.label}\r\n                                    </SortableHeader>\r\n                                ))}\r\n                                <th className=\"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Actions</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody className=\"bg-white divide-y divide-gray-100\">\r\n                            {paginatedLeads.map((lead, index) => (\r\n                                <tr\r\n                                    key={lead.id || index}\r\n                                    className={`cursor-pointer transition-all duration-200 hover:bg-blue-50 hover:shadow-md transform hover:-translate-y-0.5 ${\r\n                                        index % 2 === 0 ? 'bg-white' : 'bg-gray-50'\r\n                                    }`}\r\n                                    onClick={() => onSelectLead(lead)}\r\n                                >\r\n                                    {availableColumns.filter(col => visibleColumns[col.key]).map(column => {\r\n                                        const renderCellContent = () => {\r\n                                            if (column.key === 'date') {\r\n                                                return <div className=\"text-sm font-medium text-gray-900\">{formatDate(lead.date)}</div>;\r\n                                            }\r\n                                            if (column.key === 'customer') {\r\n                                                return (\r\n                                                    <div className=\"text-sm font-semibold text-gray-900\">\r\n                                                        {lead.customerName || `${lead.firstName || ''} ${lead.lastName || ''}`.trim() || 'Unknown'}\r\n                                                    </div>\r\n                                                );\r\n                                            }\r\n                                            if (column.key === 'phone') {\r\n                                                return (\r\n                                                    <a\r\n                                                        href={`tel:${lead.phoneNumber}`}\r\n                                                        onClick={(e) => e.stopPropagation()}\r\n                                                        className=\"text-sm font-medium text-blue-600 hover:text-blue-800 hover:underline transition-colors\"\r\n                                                    >\r\n                                                        {formatPhone(lead.phoneNumber)}\r\n                                                    </a>\r\n                                                );\r\n                                            }\r\n                                            if (column.key === 'email') {\r\n                                                return lead.email ? (\r\n                                                    <a\r\n                                                        href={`mailto:${lead.email}`}\r\n                                                        onClick={(e) => e.stopPropagation()}\r\n                                                        className=\"text-sm text-blue-600 hover:text-blue-800 hover:underline transition-colors\"\r\n                                                    >\r\n                                                        {lead.email}\r\n                                                    </a>\r\n                                                ) : '-';\r\n                                            }\r\n                                            if (column.key === 'address') {\r\n                                                return <div className=\"text-sm text-gray-700 truncate max-w-xs\">{lead.address || '-'}</div>;\r\n                                            }\r\n                                            if (column.key === 'disposition') {\r\n                                                return getStatusBadge(lead.disposition);\r\n                                            }\r\n                                            if (column.key === 'quote') {\r\n                                                return lead.dabellaQuote ? (\r\n                                                    <span className=\"text-sm bg-green-100 text-green-800 px-3 py-1 rounded-full font-medium\">\r\n                                                        ${formatNumber(lead.dabellaQuote)}\r\n                                                    </span>\r\n                                                ) : '-';\r\n                                            }\r\n                                            if (column.type === 'number') {\r\n                                                const value = lead[column.key];\r\n                                                return value ? (\r\n                                                    <div className=\"text-sm font-medium text-gray-900\">{formatNumber(value)}</div>\r\n                                                ) : '-';\r\n                                            }\r\n                                            return <div className=\"text-sm text-gray-900\">{lead[column.key] || '-'}</div>;\r\n                                        };\r\n\r\n                                        return (\r\n                                            <td key={column.key} className=\"px-6 py-5 whitespace-nowrap\">\r\n                                                {renderCellContent()}\r\n                                            </td>\r\n                                        );\r\n                                    })}\r\n                                    <td className=\"px-6 py-5 whitespace-nowrap text-sm font-medium\">\r\n                                        <div className=\"flex items-center space-x-3\">\r\n                                            <button\r\n                                                onClick={(e) => { e.stopPropagation(); onSelectLead(lead); }}\r\n                                                className=\"text-blue-600 hover:text-blue-900 p-2 rounded-lg hover:bg-blue-100 transition-all duration-200 hover:scale-110\"\r\n                                                title=\"View Details\"\r\n                                            >\r\n                                                <Eye className=\"w-4 h-4\" />\r\n                                            </button>\r\n                                            <button\r\n                                                onClick={(e) => { e.stopPropagation(); onEditLead(lead); }}\r\n                                                className=\"text-orange-600 hover:text-orange-900 p-2 rounded-lg hover:bg-orange-100 transition-all duration-200 hover:scale-110\"\r\n                                                title=\"Edit\"\r\n                                            >\r\n                                                <Edit2 className=\"w-4 h-4\" />\r\n                                            </button>\r\n                                        </div>\r\n                                    </td>\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n                    {filteredAndSortedLeads.length === 0 && (\r\n                        <div className=\"text-center py-12\">\r\n                            <AlertCircle className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n                            <h3 className=\"mt-2 text-sm font-medium text-gray-900\">No leads found</h3>\r\n                            <p className=\"mt-1 text-sm text-gray-500\">\r\n                                {hasActiveFilters\r\n                                    ? 'Try adjusting your search or filter criteria.'\r\n                                    : 'Get started by adding your first lead.'}\r\n                            </p>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Pagination */}\r\n            {filteredAndSortedLeads.length > 0 && totalPages > 1 && (\r\n                <div className=\"bg-white p-4 rounded-lg shadow-sm border\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div className=\"flex items-center space-x-2\">\r\n                            <button\r\n                                onClick={() => setCurrentPage(1)}\r\n                                disabled={currentPage === 1}\r\n                                className=\"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                            >\r\n                                First\r\n                            </button>\r\n                            <button\r\n                                onClick={() => setCurrentPage(prev => Math.max(1, prev - 1))}\r\n                                disabled={currentPage === 1}\r\n                                className=\"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                            >\r\n                                <ChevronLeft className=\"w-4 h-4 mr-1\" />\r\n                                Previous\r\n                            </button>\r\n                        </div>\r\n\r\n                        <div className=\"flex items-center space-x-1\">\r\n                            {Array.from({ length: Math.min(7, totalPages) }, (_, i) => {\r\n                                let pageNum;\r\n                                if (totalPages <= 7) {\r\n                                    pageNum = i + 1;\r\n                                } else if (currentPage <= 4) {\r\n                                    pageNum = i + 1;\r\n                                } else if (currentPage >= totalPages - 3) {\r\n                                    pageNum = totalPages - 6 + i;\r\n                                } else {\r\n                                    pageNum = currentPage - 3 + i;\r\n                                }\r\n\r\n                                return (\r\n                                    <button\r\n                                        key={pageNum}\r\n                                        onClick={() => setCurrentPage(pageNum)}\r\n                                        className={`px-3 py-2 text-sm font-medium rounded-lg ${\r\n                                            currentPage === pageNum\r\n                                                ? 'bg-blue-600 text-white'\r\n                                                : 'text-gray-700 bg-white border border-gray-300 hover:bg-gray-50'\r\n                                        }`}\r\n                                    >\r\n                                        {pageNum}\r\n                                    </button>\r\n                                );\r\n                            })}\r\n                        </div>\r\n\r\n                        <div className=\"flex items-center space-x-2\">\r\n                            <button\r\n                                onClick={() => setCurrentPage(prev => Math.min(totalPages, prev + 1))}\r\n                                disabled={currentPage === totalPages}\r\n                                className=\"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                            >\r\n                                Next\r\n                                <ChevronRight className=\"w-4 h-4 ml-1\" />\r\n                            </button>\r\n                            <button\r\n                                onClick={() => setCurrentPage(totalPages)}\r\n                                disabled={currentPage === totalPages}\r\n                                className=\"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                            >\r\n                                Last\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default LeadsView;"],"mappings":"iIAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,OAAO,CAAEC,WAAW,KAAQ,OAAO,CAC7D,OAASC,IAAI,CAAEC,KAAK,CAAEC,GAAG,CAAEC,SAAS,CAAEC,OAAO,CAAEC,WAAW,CAAEC,KAAK,CAAEC,WAAW,CAAEC,UAAU,CAAEC,WAAW,CAAEC,MAAM,CAAEC,QAAQ,CAAEC,SAAS,CAAEC,WAAW,CAAEC,MAAM,CAAEC,CAAC,CAAEC,QAAQ,CAAEC,WAAW,CAAEC,YAAY,KAAQ,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExN,QAAS,CAAAC,SAASA,CAAAC,IAAA,CAA+E,IAA9E,CAAEC,KAAK,CAAEC,SAAS,CAAEC,UAAU,CAAEC,YAAY,CAAEC,cAAc,CAAEC,YAAa,CAAC,CAAAN,IAAA,CAC3F,KAAM,CAACO,UAAU,CAAEC,aAAa,CAAC,CAAGnC,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACoC,UAAU,CAAEC,aAAa,CAAC,CAAGrC,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACsC,UAAU,CAAEC,aAAa,CAAC,CAAGvC,QAAQ,CAAC,CAAEwC,GAAG,CAAE,IAAI,CAAEC,SAAS,CAAE,KAAM,CAAC,CAAC,CAC7E,KAAM,CAACC,aAAa,CAAEC,gBAAgB,CAAC,CAAG3C,QAAQ,CAAC,CAAC,CAAC,CAAC,CACtD,KAAM,CAAC4C,WAAW,CAAEC,cAAc,CAAC,CAAG7C,QAAQ,CAAC,KAAK,CAAC,CACrD,KAAM,CAAC8C,WAAW,CAAEC,cAAc,CAAC,CAAG/C,QAAQ,CAAC,CAAC,CAAC,CACjD,KAAM,CAACgD,YAAY,CAAEC,eAAe,CAAC,CAAGjD,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAACkD,kBAAkB,CAAEC,qBAAqB,CAAC,CAAGnD,QAAQ,CAAC,KAAK,CAAC,CACnE,KAAM,CAACoD,cAAc,CAAEC,iBAAiB,CAAC,CAAGrD,QAAQ,CAAC,CACjDsD,IAAI,CAAE,IAAI,CACVC,QAAQ,CAAE,IAAI,CACdC,KAAK,CAAE,IAAI,CACXC,OAAO,CAAE,IAAI,CACbC,KAAK,CAAE,KAAK,CACZC,IAAI,CAAE,IAAI,CACVC,OAAO,CAAE,IAAI,CACbC,QAAQ,CAAE,IAAI,CACdC,OAAO,CAAE,KAAK,CACdC,KAAK,CAAE,IAAI,CACXC,OAAO,CAAE,IAAI,CACbC,WAAW,CAAE,IAAI,CACjBC,UAAU,CAAE,IAAI,CAChBC,OAAO,CAAE,KAAK,CACdC,QAAQ,CAAE,KAAK,CACfC,UAAU,CAAE,KAAK,CACjBC,OAAO,CAAE,KAAK,CACdC,QAAQ,CAAE,KAAK,CACfC,mBAAmB,CAAE,KAAK,CAC1BC,WAAW,CAAE,KAAK,CAClBC,UAAU,CAAE,KAAK,CACjBC,MAAM,CAAE,KAAK,CACbC,MAAM,CAAE,KAAK,CACbC,MAAM,CAAE,KAAK,CACbC,MAAM,CAAE,KAAK,CACbC,WAAW,CAAE,KAAK,CAClBC,SAAS,CAAE,KAAK,CAChBC,OAAO,CAAE,KAAK,CACdC,KAAK,CAAE,KAAK,CACZC,WAAW,CAAE,KAAK,CAClBC,SAAS,CAAE,KAAK,CAChBC,UAAU,CAAE,KAAK,CACjBC,aAAa,CAAE,KAAK,CACpBC,iBAAiB,CAAE,KACvB,CAAC,CAAC,CAEF,KAAM,CAAAC,cAAc,CAAGtF,WAAW,CAAEuF,MAAM,EAAK,CAC3C,KAAM,CAAAC,MAAM,CAAG,CACX,KAAK,CAAE,CAAEC,EAAE,CAAE,aAAa,CAAEC,IAAI,CAAE,eAAe,CAAEC,IAAI,CAAE1F,IAAK,CAAC,CAC/D,WAAW,CAAE,CAAEwF,EAAE,CAAE,aAAa,CAAEC,IAAI,CAAE,eAAe,CAAEC,IAAI,CAAE/E,QAAS,CAAC,CACzE,WAAW,CAAE,CAAE6E,EAAE,CAAE,eAAe,CAAEC,IAAI,CAAE,iBAAiB,CAAEC,IAAI,CAAEjF,WAAY,CAAC,CAChF,QAAQ,CAAE,CAAE+E,EAAE,CAAE,eAAe,CAAEC,IAAI,CAAE,iBAAiB,CAAEC,IAAI,CAAElF,UAAW,CAAC,CAC5E,WAAW,CAAE,CAAEgF,EAAE,CAAE,eAAe,CAAEC,IAAI,CAAE,iBAAiB,CAAEC,IAAI,CAAEpF,KAAM,CAAC,CAC1E,aAAa,CAAE,CAAEkF,EAAE,CAAE,cAAc,CAAEC,IAAI,CAAE,gBAAgB,CAAEC,IAAI,CAAErF,WAAY,CAAC,CAChF,aAAa,CAAE,CAAEmF,EAAE,CAAE,YAAY,CAAEC,IAAI,CAAE,cAAc,CAAEC,IAAI,CAAEtF,OAAQ,CAC3E,CAAC,CACD,KAAM,CAAAuF,KAAK,CAAGJ,MAAM,CAACD,MAAM,CAAC,EAAI,CAAEE,EAAE,CAAE,aAAa,CAAEC,IAAI,CAAE,eAAe,CAAEC,IAAI,CAAEnF,WAAY,CAAC,CAC/F,KAAM,CAAAqF,IAAI,CAAGD,KAAK,CAACD,IAAI,CACvB,mBAAOpE,KAAA,SAAMuE,SAAS,4EAAAC,MAAA,CAA6EH,KAAK,CAACH,EAAE,MAAAM,MAAA,CAAIH,KAAK,CAACF,IAAI,CAAG,CAAAM,QAAA,eAAC3E,IAAA,CAACwE,IAAI,EAACC,SAAS,CAAC,cAAc,CAAE,CAAC,CAACP,MAAM,EAAO,CAAC,CACjL,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAU,YAAY,CAAGjG,WAAW,CAAEkG,KAAK,EAAK,CACxC,GAAI,CAACA,KAAK,EAAIA,KAAK,GAAK,GAAG,EAAIA,KAAK,GAAK,GAAG,CAAE,MAAO,GAAG,CACxD,MAAO,CAAAC,MAAM,CAACD,KAAK,CAAC,CAACE,cAAc,CAAC,CAAC,CACzC,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAC,UAAU,CAAGrG,WAAW,CAAEsG,UAAU,EAAK,CAC3C,GAAI,CAACA,UAAU,CAAE,MAAO,GAAG,CAC3B,GAAI,CACA,MAAO,IAAI,CAAAC,IAAI,CAACD,UAAU,CAAC,CAACE,kBAAkB,CAAC,CAAC,CACpD,CAAE,MAAAC,OAAA,CAAM,CACJ,MAAO,CAAAH,UAAU,CACrB,CACJ,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAI,WAAW,CAAG1G,WAAW,CAAEsD,KAAK,EAAK,CACvC,KAAM,CAAAqD,WAAW,CAAGC,MAAM,CAACtD,KAAK,EAAI,EAAE,CAAC,CACvC,GAAI,CAACqD,WAAW,CAAE,MAAO,GAAG,CAC5B,KAAM,CAAAE,OAAO,CAAGF,WAAW,CAACG,OAAO,CAAC,KAAK,CAAE,EAAE,CAAC,CAC9C,GAAID,OAAO,CAACE,MAAM,GAAK,EAAE,CAAE,UAAAhB,MAAA,CAAWc,OAAO,CAACG,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,OAAAjB,MAAA,CAAKc,OAAO,CAACG,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,MAAAjB,MAAA,CAAIc,OAAO,CAACG,KAAK,CAAC,CAAC,CAAC,EACrG,MAAO,CAAAL,WAAW,CACtB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAM,UAAU,CAAGjH,WAAW,CAAEsC,GAAG,EAAK,CACpCD,aAAa,CAAC6E,UAAU,GAAK,CACzB5E,GAAG,CACHC,SAAS,CAAE2E,UAAU,CAAC5E,GAAG,GAAKA,GAAG,EAAI4E,UAAU,CAAC3E,SAAS,GAAK,KAAK,CAAG,MAAM,CAAG,KACnF,CAAC,CAAC,CAAC,CACP,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAA4E,gBAAgB,CAAGpH,OAAO,CAAC,IAAM,CACnC,CAAEuC,GAAG,CAAE,MAAM,CAAE8E,KAAK,CAAE,MAAM,CAAEC,IAAI,CAAE,MAAM,CAAEC,QAAQ,CAAE,OAAQ,CAAC,CAC/D,CAAEhF,GAAG,CAAE,UAAU,CAAE8E,KAAK,CAAE,UAAU,CAAEC,IAAI,CAAE,MAAM,CAAEC,QAAQ,CAAE,OAAQ,CAAC,CACvE,CAAEhF,GAAG,CAAE,OAAO,CAAE8E,KAAK,CAAE,OAAO,CAAEC,IAAI,CAAE,MAAM,CAAEC,QAAQ,CAAE,OAAQ,CAAC,CACjE,CAAEhF,GAAG,CAAE,OAAO,CAAE8E,KAAK,CAAE,OAAO,CAAEC,IAAI,CAAE,MAAM,CAAEC,QAAQ,CAAE,OAAQ,CAAC,CACjE,CAAEhF,GAAG,CAAE,SAAS,CAAE8E,KAAK,CAAE,SAAS,CAAEC,IAAI,CAAE,MAAM,CAAEC,QAAQ,CAAE,OAAQ,CAAC,CACrE,CAAEhF,GAAG,CAAE,SAAS,CAAE8E,KAAK,CAAE,SAAS,CAAEC,IAAI,CAAE,MAAM,CAAEC,QAAQ,CAAE,UAAW,CAAC,CACxE,CAAEhF,GAAG,CAAE,aAAa,CAAE8E,KAAK,CAAE,aAAa,CAAEC,IAAI,CAAE,MAAM,CAAEC,QAAQ,CAAE,UAAW,CAAC,CAChF,CAAEhF,GAAG,CAAE,YAAY,CAAE8E,KAAK,CAAE,aAAa,CAAEC,IAAI,CAAE,MAAM,CAAEC,QAAQ,CAAE,UAAW,CAAC,CAC/E,CAAEhF,GAAG,CAAE,SAAS,CAAE8E,KAAK,CAAE,UAAU,CAAEC,IAAI,CAAE,MAAM,CAAEC,QAAQ,CAAE,UAAW,CAAC,CACzE,CAAEhF,GAAG,CAAE,UAAU,CAAE8E,KAAK,CAAE,WAAW,CAAEC,IAAI,CAAE,MAAM,CAAEC,QAAQ,CAAE,UAAW,CAAC,CAC3E,CAAEhF,GAAG,CAAE,MAAM,CAAE8E,KAAK,CAAE,OAAO,CAAEC,IAAI,CAAE,QAAQ,CAAEC,QAAQ,CAAE,cAAe,CAAC,CACzE,CAAEhF,GAAG,CAAE,SAAS,CAAE8E,KAAK,CAAE,UAAU,CAAEC,IAAI,CAAE,QAAQ,CAAEC,QAAQ,CAAE,cAAe,CAAC,CAC/E,CAAEhF,GAAG,CAAE,UAAU,CAAE8E,KAAK,CAAE,WAAW,CAAEC,IAAI,CAAE,QAAQ,CAAEC,QAAQ,CAAE,cAAe,CAAC,CACjF,CAAEhF,GAAG,CAAE,SAAS,CAAE8E,KAAK,CAAE,UAAU,CAAEC,IAAI,CAAE,QAAQ,CAAEC,QAAQ,CAAE,cAAe,CAAC,CAC/E,CAAEhF,GAAG,CAAE,OAAO,CAAE8E,KAAK,CAAE,OAAO,CAAEC,IAAI,CAAE,QAAQ,CAAEC,QAAQ,CAAE,WAAY,CAAC,CACvE,CAAEhF,GAAG,CAAE,YAAY,CAAE8E,KAAK,CAAE,aAAa,CAAEC,IAAI,CAAE,QAAQ,CAAEC,QAAQ,CAAE,aAAc,CAAC,CACpF,CAAEhF,GAAG,CAAE,SAAS,CAAE8E,KAAK,CAAE,SAAS,CAAEC,IAAI,CAAE,QAAQ,CAAEC,QAAQ,CAAE,aAAc,CAAC,CAC7E,CAAEhF,GAAG,CAAE,UAAU,CAAE8E,KAAK,CAAE,WAAW,CAAEC,IAAI,CAAE,QAAQ,CAAEC,QAAQ,CAAE,aAAc,CAAC,CAChF,CAAEhF,GAAG,CAAE,qBAAqB,CAAE8E,KAAK,CAAE,wBAAwB,CAAEC,IAAI,CAAE,QAAQ,CAAEC,QAAQ,CAAE,YAAa,CAAC,CACvG,CAAEhF,GAAG,CAAE,aAAa,CAAE8E,KAAK,CAAE,cAAc,CAAEC,IAAI,CAAE,QAAQ,CAAEC,QAAQ,CAAE,YAAa,CAAC,CACrF,CAAEhF,GAAG,CAAE,YAAY,CAAE8E,KAAK,CAAE,YAAY,CAAEC,IAAI,CAAE,QAAQ,CAAEC,QAAQ,CAAE,OAAQ,CAAC,CAC7E,CAAEhF,GAAG,CAAE,QAAQ,CAAE8E,KAAK,CAAE,UAAU,CAAEC,IAAI,CAAE,QAAQ,CAAEC,QAAQ,CAAE,OAAQ,CAAC,CACvE,CAAEhF,GAAG,CAAE,QAAQ,CAAE8E,KAAK,CAAE,UAAU,CAAEC,IAAI,CAAE,QAAQ,CAAEC,QAAQ,CAAE,OAAQ,CAAC,CACvE,CAAEhF,GAAG,CAAE,QAAQ,CAAE8E,KAAK,CAAE,UAAU,CAAEC,IAAI,CAAE,QAAQ,CAAEC,QAAQ,CAAE,OAAQ,CAAC,CACvE,CAAEhF,GAAG,CAAE,QAAQ,CAAE8E,KAAK,CAAE,QAAQ,CAAEC,IAAI,CAAE,QAAQ,CAAEC,QAAQ,CAAE,UAAW,CAAC,CACxE,CAAEhF,GAAG,CAAE,aAAa,CAAE8E,KAAK,CAAE,cAAc,CAAEC,IAAI,CAAE,QAAQ,CAAEC,QAAQ,CAAE,UAAW,CAAC,CACnF,CAAEhF,GAAG,CAAE,WAAW,CAAE8E,KAAK,CAAE,WAAW,CAAEC,IAAI,CAAE,QAAQ,CAAEC,QAAQ,CAAE,UAAW,CAAC,CAC9E,CAAEhF,GAAG,CAAE,SAAS,CAAE8E,KAAK,CAAE,SAAS,CAAEC,IAAI,CAAE,QAAQ,CAAEC,QAAQ,CAAE,UAAW,CAAC,CAC1E,CAAEhF,GAAG,CAAE,OAAO,CAAE8E,KAAK,CAAE,OAAO,CAAEC,IAAI,CAAE,QAAQ,CAAEC,QAAQ,CAAE,UAAW,CAAC,CACtE,CAAEhF,GAAG,CAAE,aAAa,CAAE8E,KAAK,CAAE,cAAc,CAAEC,IAAI,CAAE,QAAQ,CAAEC,QAAQ,CAAE,UAAW,CAAC,CACnF,CAAEhF,GAAG,CAAE,WAAW,CAAE8E,KAAK,CAAE,YAAY,CAAEC,IAAI,CAAE,QAAQ,CAAEC,QAAQ,CAAE,SAAU,CAAC,CAC9E,CAAEhF,GAAG,CAAE,YAAY,CAAE8E,KAAK,CAAE,YAAY,CAAEC,IAAI,CAAE,QAAQ,CAAEC,QAAQ,CAAE,SAAU,CAAC,CAC/E,CAAEhF,GAAG,CAAE,eAAe,CAAE8E,KAAK,CAAE,iBAAiB,CAAEC,IAAI,CAAE,QAAQ,CAAEC,QAAQ,CAAE,SAAU,CAAC,CACvF,CAAEhF,GAAG,CAAE,mBAAmB,CAAE8E,KAAK,CAAE,oBAAoB,CAAEC,IAAI,CAAE,QAAQ,CAAEC,QAAQ,CAAE,YAAa,CAAC,CACpG,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAC,YAAY,CAAGvH,WAAW,CAAC,CAACwH,IAAI,CAAElF,GAAG,GAAK,CAC5C,KAAM,CAAAmF,MAAM,CAAGN,gBAAgB,CAACO,IAAI,CAACC,GAAG,EAAIA,GAAG,CAACrF,GAAG,GAAKA,GAAG,CAAC,CAE5D,GAAIA,GAAG,GAAK,UAAU,CAAE,CACpB,MAAO,CAAAkF,IAAI,CAACI,YAAY,EAAI,GAAA7B,MAAA,CAAGyB,IAAI,CAACK,SAAS,EAAI,EAAE,MAAA9B,MAAA,CAAIyB,IAAI,CAACM,QAAQ,EAAI,EAAE,EAAGC,IAAI,CAAC,CAAC,EAAI,SAAS,CACpG,CACA,GAAIzF,GAAG,GAAK,OAAO,CAAE,CACjB,MAAO,CAAAkF,IAAI,CAACQ,WAAW,EAAI,EAAE,CACjC,CACA,GAAI1F,GAAG,GAAK,OAAO,CAAE,CACjB,MAAO,CAAA2F,UAAU,CAACT,IAAI,CAACU,YAAY,CAAC,EAAI,CAAC,CAC7C,CAEA,GAAI,CAAAT,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAEJ,IAAI,IAAK,QAAQ,CAAE,CAC3B,MAAO,CAAAY,UAAU,CAACT,IAAI,CAAClF,GAAG,CAAC,CAAC,EAAI,CAAC,CACrC,CAEA,MAAO,CAAAkF,IAAI,CAAClF,GAAG,CAAC,EAAI,EAAE,CAC1B,CAAC,CAAE,CAAC6E,gBAAgB,CAAC,CAAC,CAEtB,KAAM,CAAAgB,sBAAsB,CAAGnI,WAAW,CAAEoI,SAAS,EAAK,CACtDjF,iBAAiB,CAACkF,IAAI,EAAAC,aAAA,CAAAA,aAAA,IACfD,IAAI,MACP,CAACD,SAAS,EAAG,CAACC,IAAI,CAACD,SAAS,CAAC,EAC/B,CAAC,CACP,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAG,kBAAkB,CAAGvI,WAAW,CAAC,CAACyH,MAAM,CAAEvB,KAAK,GAAK,CACtDzD,gBAAgB,CAAC4F,IAAI,EAAI,CACrB,KAAM,CAAAG,UAAU,CAAAF,aAAA,IAAQD,IAAI,CAAE,CAC9B,GAAInC,KAAK,GAAK,EAAE,EAAIA,KAAK,GAAK,IAAI,EAAIA,KAAK,GAAKuC,SAAS,CAAE,CACvD,MAAO,CAAAD,UAAU,CAACf,MAAM,CAAC,CAC7B,CAAC,IAAM,CACHe,UAAU,CAACf,MAAM,CAAC,CAAGvB,KAAK,CAC9B,CACArD,cAAc,CAAC,CAAC,CAAC,CACjB,MAAO,CAAA2F,UAAU,CACrB,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAE,eAAe,CAAG1I,WAAW,CAAC,IAAM,CACtCyC,gBAAgB,CAAC,CAAC,CAAC,CAAC,CACpBR,aAAa,CAAC,EAAE,CAAC,CACjBE,aAAa,CAAC,EAAE,CAAC,CACjBU,cAAc,CAAC,CAAC,CAAC,CACrB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAA8F,sBAAsB,CAAG5I,OAAO,CAAC,IAAM,CACzC,GAAI,CAAA6I,QAAQ,CAAGlH,KAAK,CAACmH,MAAM,CAACrB,IAAI,EAAI,KAAAsB,iBAAA,CAChC;AACA,KAAM,CAAAC,aAAa,CAAG,CAAC/G,UAAU,EAAI,CACjCwF,IAAI,CAACK,SAAS,CACdL,IAAI,CAACM,QAAQ,CACbN,IAAI,CAACI,YAAY,EAAAkB,iBAAA,CACjBtB,IAAI,CAACQ,WAAW,UAAAc,iBAAA,iBAAhBA,iBAAA,CAAkBE,QAAQ,CAAC,CAAC,CAC5BxB,IAAI,CAACjE,OAAO,CACZiE,IAAI,CAAC1D,OAAO,CACZ0D,IAAI,CAACzD,WAAW,CAChByD,IAAI,CAACxD,UAAU,CAClB,CAACiF,IAAI,CAACC,KAAK,EAAIA,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAEC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACpH,UAAU,CAACmH,WAAW,CAAC,CAAC,CAAC,CAAC,CAExE;AACA,KAAM,CAAAE,WAAW,CAAG,CAACnH,UAAU,EAAIsF,IAAI,CAACpE,IAAI,GAAKlB,UAAU,CAE3D;AACA,KAAM,CAAAoH,oBAAoB,CAAGC,MAAM,CAACC,OAAO,CAAChH,aAAa,CAAC,CAACiH,KAAK,CAACC,KAAA,EAA2B,IAA1B,CAACjC,MAAM,CAAEkC,WAAW,CAAC,CAAAD,KAAA,CACnF,GAAI,CAACC,WAAW,CAAE,MAAO,KAAI,CAE7B,GAAI,CAAAC,SAAS,CACb,GAAInC,MAAM,GAAK,UAAU,CAAE,CACvBmC,SAAS,CAAGpC,IAAI,CAACI,YAAY,EAAI,GAAA7B,MAAA,CAAGyB,IAAI,CAACK,SAAS,EAAI,EAAE,MAAA9B,MAAA,CAAIyB,IAAI,CAACM,QAAQ,EAAI,EAAE,EAAGC,IAAI,CAAC,CAAC,CAC5F,CAAC,IAAM,IAAIN,MAAM,GAAK,OAAO,CAAE,KAAAoC,kBAAA,CAC3BD,SAAS,CAAG,EAAAC,kBAAA,CAAArC,IAAI,CAACQ,WAAW,UAAA6B,kBAAA,iBAAhBA,kBAAA,CAAkBb,QAAQ,CAAC,CAAC,GAAI,EAAE,CAClD,CAAC,IAAM,IAAIvB,MAAM,GAAK,OAAO,CAAE,CAC3BmC,SAAS,CAAG3B,UAAU,CAACT,IAAI,CAACU,YAAY,CAAC,EAAI,CAAC,CAClD,CAAC,IAAM,CACH,KAAM,CAAA4B,YAAY,CAAG3C,gBAAgB,CAACO,IAAI,CAACC,GAAG,EAAIA,GAAG,CAACrF,GAAG,GAAKmF,MAAM,CAAC,CACrE,GAAI,CAAAqC,YAAY,SAAZA,YAAY,iBAAZA,YAAY,CAAEzC,IAAI,IAAK,QAAQ,CAAE,CACjCuC,SAAS,CAAG3B,UAAU,CAACT,IAAI,CAACC,MAAM,CAAC,CAAC,EAAI,CAAC,CAC7C,CAAC,IAAM,CACHmC,SAAS,CAAGpC,IAAI,CAACC,MAAM,CAAC,EAAI,EAAE,CAClC,CACJ,CAEA,KAAM,CAAAqC,YAAY,CAAG3C,gBAAgB,CAACO,IAAI,CAACC,GAAG,EAAIA,GAAG,CAACrF,GAAG,GAAKmF,MAAM,CAAC,CACrE,GAAI,CAAAqC,YAAY,SAAZA,YAAY,iBAAZA,YAAY,CAAEzC,IAAI,IAAK,QAAQ,CAAE,CACjC,MAAO,CAAAuC,SAAS,EAAI3B,UAAU,CAAC0B,WAAW,CAAC,CAC/C,CAAC,IAAM,CACH,MAAO,CAAAC,SAAS,CAACZ,QAAQ,CAAC,CAAC,CAACG,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACO,WAAW,CAACR,WAAW,CAAC,CAAC,CAAC,CACjF,CACJ,CAAC,CAAC,CAEF,MAAO,CAAAJ,aAAa,EAAIM,WAAW,EAAIC,oBAAoB,CAC/D,CAAC,CAAC,CAEF,GAAIlH,UAAU,CAACE,GAAG,CAAE,CAChBsG,QAAQ,CAACmB,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAK,CACpB,KAAM,CAAAC,MAAM,CAAG3C,YAAY,CAACyC,CAAC,CAAE5H,UAAU,CAACE,GAAG,CAAC,CAC9C,KAAM,CAAA6H,MAAM,CAAG5C,YAAY,CAAC0C,CAAC,CAAE7H,UAAU,CAACE,GAAG,CAAC,CAE9C,GAAI,MAAO,CAAA4H,MAAM,GAAK,QAAQ,EAAI,MAAO,CAAAC,MAAM,GAAK,QAAQ,CAAE,CAC1D,KAAM,CAAAC,UAAU,CAAGF,MAAM,CAACf,WAAW,CAAC,CAAC,CAACkB,aAAa,CAACF,MAAM,CAAChB,WAAW,CAAC,CAAC,CAAC,CAC3E,MAAO,CAAA/G,UAAU,CAACG,SAAS,GAAK,KAAK,CAAG6H,UAAU,CAAG,CAACA,UAAU,CACpE,CAAC,IAAM,CACH,KAAM,CAAAA,UAAU,CAAGF,MAAM,CAAGC,MAAM,CAClC,MAAO,CAAA/H,UAAU,CAACG,SAAS,GAAK,KAAK,CAAG6H,UAAU,CAAG,CAACA,UAAU,CACpE,CACJ,CAAC,CAAC,CACN,CAEA,MAAO,CAAAxB,QAAQ,CACnB,CAAC,CAAE,CAAClH,KAAK,CAAEM,UAAU,CAAEE,UAAU,CAAEM,aAAa,CAAEJ,UAAU,CAAEmF,YAAY,CAAEJ,gBAAgB,CAAC,CAAC,CAE9F,KAAM,CAAAmD,cAAc,CAAGvK,OAAO,CAAC,IAAM,CACjC,KAAM,CAAAwK,UAAU,CAAG,CAAC3H,WAAW,CAAG,CAAC,EAAIE,YAAY,CACnD,KAAM,CAAA0H,QAAQ,CAAGD,UAAU,CAAGzH,YAAY,CAC1C,MAAO,CAAA6F,sBAAsB,CAAC3B,KAAK,CAACuD,UAAU,CAAEC,QAAQ,CAAC,CAC7D,CAAC,CAAE,CAAC7B,sBAAsB,CAAE/F,WAAW,CAAEE,YAAY,CAAC,CAAC,CAEvD,KAAM,CAAA2H,UAAU,CAAGC,IAAI,CAACC,IAAI,CAAChC,sBAAsB,CAAC5B,MAAM,CAAGjE,YAAY,CAAC,CAE1E,KAAM,CAAA8H,gBAAgB,CAAG7K,OAAO,CAAC,IAAM,CACnC,MAAO,CAAAiC,UAAU,EAAIE,UAAU,EAAIqH,MAAM,CAACsB,IAAI,CAACrI,aAAa,CAAC,CAACuE,MAAM,CAAG,CAAC,CAC5E,CAAC,CAAE,CAAC/E,UAAU,CAAEE,UAAU,CAAEM,aAAa,CAAC,CAAC,CAE3C,KAAM,CAAAsI,cAAc,CAAGC,KAAA,EAA2C,KAAAC,qBAAA,IAA1C,CAAEC,OAAO,CAAEjF,QAAQ,CAAEF,SAAS,CAAG,EAAG,CAAC,CAAAiF,KAAA,CACzD,KAAM,CAAAG,SAAS,CAAG1I,aAAa,CAACyI,OAAO,CAAC,CACxC,mBACI5J,IAAA,OAAIyE,SAAS,mFAAAC,MAAA,CAAoFD,SAAS,CAAG,CAAAE,QAAA,cACzGzE,KAAA,QAAKuE,SAAS,CAAC,WAAW,CAAAE,QAAA,eACtBzE,KAAA,QACIuE,SAAS,CAAC,8GAA8G,CACxHqF,OAAO,CAAEA,CAAA,GAAMlE,UAAU,CAACgE,OAAO,CAAE,CAAAjF,QAAA,eAEnC3E,IAAA,SAAMyE,SAAS,CAAEoF,SAAS,CAAG,6BAA6B,CAAG,EAAG,CAAAlF,QAAA,CAAEA,QAAQ,CAAO,CAAC,cAClFzE,KAAA,QAAKuE,SAAS,CAAC,6BAA6B,CAAAE,QAAA,EACvCkF,SAAS,eAAI7J,IAAA,CAACN,MAAM,EAAC+E,SAAS,CAAC,uBAAuB,CAAE,CAAC,cAC1DvE,KAAA,QAAKuE,SAAS,CAAC,eAAe,CAAAE,QAAA,eAC1B3E,IAAA,CAACR,SAAS,EACNiF,SAAS,YAAAC,MAAA,CAAa3D,UAAU,CAACE,GAAG,GAAK2I,OAAO,EAAI7I,UAAU,CAACG,SAAS,GAAK,KAAK,CAAG,eAAe,CAAG,eAAe,CAAG,CAC5H,CAAC,cACFlB,IAAA,CAACP,WAAW,EACRgF,SAAS,kBAAAC,MAAA,CAAmB3D,UAAU,CAACE,GAAG,GAAK2I,OAAO,EAAI7I,UAAU,CAACG,SAAS,GAAK,MAAM,CAAG,eAAe,CAAG,eAAe,CAAG,CACnI,CAAC,EACD,CAAC,EACL,CAAC,EACL,CAAC,CACLG,WAAW,eACRrB,IAAA,CAAC+J,YAAY,EACT3D,MAAM,CAAEwD,OAAQ,CAChB/E,KAAK,CAAE1D,aAAa,CAACyI,OAAO,CAAC,EAAI,EAAG,CACpCI,QAAQ,CAAGnF,KAAK,EAAKqC,kBAAkB,CAAC0C,OAAO,CAAE/E,KAAK,CAAE,CACxDmB,IAAI,CAAE,EAAA2D,qBAAA,CAAA7D,gBAAgB,CAACO,IAAI,CAACC,GAAG,EAAIA,GAAG,CAACrF,GAAG,GAAK2I,OAAO,CAAC,UAAAD,qBAAA,iBAAjDA,qBAAA,CAAmD3D,IAAI,GAAI,MAAO,CAC3E,CACJ,EACA,CAAC,CACN,CAAC,CAEb,CAAC,CAED,KAAM,CAAA+D,YAAY,CAAGE,KAAA,EAAuC,IAAtC,CAAE7D,MAAM,CAAEvB,KAAK,CAAEmF,QAAQ,CAAEhE,IAAK,CAAC,CAAAiE,KAAA,CACnD,KAAM,CAAAC,WAAW,CAAGlE,IAAI,GAAK,QAAQ,CAAG,cAAc,CAAG,WAAW,CACpE,mBACI9F,KAAA,QAAKuE,SAAS,CAAC,UAAU,CAAAE,QAAA,eACrB3E,IAAA,UACIgG,IAAI,CAAEA,IAAI,GAAK,QAAQ,CAAG,QAAQ,CAAGA,IAAI,GAAK,MAAM,CAAG,MAAM,CAAG,MAAO,CACvEnB,KAAK,CAAEA,KAAM,CACbmF,QAAQ,CAAGG,CAAC,EAAKH,QAAQ,CAACG,CAAC,CAACC,MAAM,CAACvF,KAAK,CAAE,CAC1CqF,WAAW,CAAEA,WAAY,CACzBzF,SAAS,CAAC,gHAAgH,CAC1HqF,OAAO,CAAGK,CAAC,EAAKA,CAAC,CAACE,eAAe,CAAC,CAAE,CACvC,CAAC,CACDxF,KAAK,eACF7E,IAAA,WACI8J,OAAO,CAAGK,CAAC,EAAK,CACZA,CAAC,CAACE,eAAe,CAAC,CAAC,CACnBL,QAAQ,CAAC,EAAE,CAAC,CAChB,CAAE,CACFvF,SAAS,CAAC,uFAAuF,CAAAE,QAAA,cAEjG3E,IAAA,CAACL,CAAC,EAAC8E,SAAS,CAAC,SAAS,CAAE,CAAC,CACrB,CACX,EACA,CAAC,CAEd,CAAC,CAED,mBACIvE,KAAA,QAAKuE,SAAS,CAAC,WAAW,CAAAE,QAAA,eAEtBzE,KAAA,QAAKuE,SAAS,CAAC,mCAAmC,CAAAE,QAAA,eAC9CzE,KAAA,QAAAyE,QAAA,eACI3E,IAAA,OAAIyE,SAAS,CAAC,kCAAkC,CAAAE,QAAA,CAAC,iBAAe,CAAI,CAAC,cACrE3E,IAAA,MAAGyE,SAAS,CAAC,oBAAoB,CAAAE,QAAA,CAAC,mCAAiC,CAAG,CAAC,EACtE,CAAC,cACNzE,KAAA,QAAKuE,SAAS,CAAC,6BAA6B,CAAAE,QAAA,eACxCzE,KAAA,WACI4J,OAAO,CAAErJ,cAAe,CACxBgE,SAAS,CAAC,oJAAoJ,CAAAE,QAAA,eAE9J3E,IAAA,CAACjB,SAAS,EAAC0F,SAAS,CAAC,cAAc,CAAE,CAAC,UAE1C,EAAQ,CAAC,cACTvE,KAAA,WACI4J,OAAO,CAAExJ,SAAU,CACnBmE,SAAS,CAAC,wJAAwJ,CAAAE,QAAA,eAElK3E,IAAA,CAACpB,IAAI,EAAC6F,SAAS,CAAC,cAAc,CAAE,CAAC,WAErC,EAAQ,CAAC,EACR,CAAC,EACL,CAAC,cAGNzE,IAAA,QAAKyE,SAAS,CAAC,0CAA0C,CAAAE,QAAA,cACrDzE,KAAA,QAAKuE,SAAS,CAAC,WAAW,CAAAE,QAAA,eAEtBzE,KAAA,QAAKuE,SAAS,CAAC,uCAAuC,CAAAE,QAAA,eAClDzE,KAAA,QAAKuE,SAAS,CAAC,wBAAwB,CAAAE,QAAA,eACnC3E,IAAA,CAACV,MAAM,EAACmF,SAAS,CAAC,0EAA0E,CAAE,CAAC,cAC/FzE,IAAA,UACIgG,IAAI,CAAC,MAAM,CACXkE,WAAW,CAAC,6BAA6B,CACzCrF,KAAK,CAAElE,UAAW,CAClBqJ,QAAQ,CAAGG,CAAC,EAAKvJ,aAAa,CAACuJ,CAAC,CAACC,MAAM,CAACvF,KAAK,CAAE,CAC/CJ,SAAS,CAAC,iHAAiH,CAC9H,CAAC,EACD,CAAC,cACNvE,KAAA,QAAKuE,SAAS,CAAC,UAAU,CAAAE,QAAA,eACrB3E,IAAA,CAACT,QAAQ,EAACkF,SAAS,CAAC,0EAA0E,CAAE,CAAC,cACjGzE,IAAA,UACIgG,IAAI,CAAC,MAAM,CACXnB,KAAK,CAAEhE,UAAW,CAClBmJ,QAAQ,CAAGG,CAAC,EAAKrJ,aAAa,CAACqJ,CAAC,CAACC,MAAM,CAACvF,KAAK,CAAE,CAC/CJ,SAAS,CAAC,iHAAiH,CAC9H,CAAC,EACD,CAAC,EACL,CAAC,cAGNvE,KAAA,QAAKuE,SAAS,CAAC,mCAAmC,CAAAE,QAAA,eAC9CzE,KAAA,QAAKuE,SAAS,CAAC,6BAA6B,CAAAE,QAAA,eACxCzE,KAAA,WACI4J,OAAO,CAAEA,CAAA,GAAMxI,cAAc,CAAC,CAACD,WAAW,CAAE,CAC5CoD,SAAS,+FAAAC,MAAA,CACLrD,WAAW,CACL,0CAA0C,CAC1C,yDAAyD,CAChE,CAAAsD,QAAA,eAEH3E,IAAA,CAACN,MAAM,EAAC+E,SAAS,CAAC,cAAc,CAAE,CAAC,iBAEnC,CAACyD,MAAM,CAACsB,IAAI,CAACrI,aAAa,CAAC,CAACuE,MAAM,CAAG,CAAC,eAClC1F,IAAA,SAAMyE,SAAS,CAAC,+DAA+D,CAAAE,QAAA,CAC1EuD,MAAM,CAACsB,IAAI,CAACrI,aAAa,CAAC,CAACuE,MAAM,CAChC,CACT,EACG,CAAC,cAETxF,KAAA,WACI4J,OAAO,CAAEA,CAAA,GAAMlI,qBAAqB,CAAC,CAACD,kBAAkB,CAAE,CAC1D8C,SAAS,+FAAAC,MAAA,CACL/C,kBAAkB,CACZ,gDAAgD,CAChD,yDAAyD,CAChE,CAAAgD,QAAA,eAEH3E,IAAA,CAACJ,QAAQ,EAAC6E,SAAS,CAAC,cAAc,CAAE,CAAC,iBAErC,cAAAzE,IAAA,SAAMyE,SAAS,CAAC,+DAA+D,CAAAE,QAAA,CAC1EuD,MAAM,CAACoC,MAAM,CAACzI,cAAc,CAAC,CAAC2F,MAAM,CAAC+C,OAAO,CAAC,CAAC7E,MAAM,CACnD,CAAC,EACH,CAAC,CAER6D,gBAAgB,eACbrJ,KAAA,WACI4J,OAAO,CAAEzC,eAAgB,CACzB5C,SAAS,CAAC,mJAAmJ,CAAAE,QAAA,eAE7J3E,IAAA,CAACL,CAAC,EAAC8E,SAAS,CAAC,cAAc,CAAE,CAAC,oBAElC,EAAQ,CACX,EACA,CAAC,cAENvE,KAAA,QAAKuE,SAAS,CAAC,6BAA6B,CAAAE,QAAA,eACxCzE,KAAA,WACI2E,KAAK,CAAEpD,YAAa,CACpBuI,QAAQ,CAAGG,CAAC,EAAK,CACbzI,eAAe,CAACoD,MAAM,CAACqF,CAAC,CAACC,MAAM,CAACvF,KAAK,CAAC,CAAC,CACvCrD,cAAc,CAAC,CAAC,CAAC,CACrB,CAAE,CACFiD,SAAS,CAAC,4GAA4G,CAAAE,QAAA,eAEtH3E,IAAA,WAAQ6E,KAAK,CAAE,EAAG,CAAAF,QAAA,CAAC,aAAW,CAAQ,CAAC,cACvC3E,IAAA,WAAQ6E,KAAK,CAAE,EAAG,CAAAF,QAAA,CAAC,aAAW,CAAQ,CAAC,cACvC3E,IAAA,WAAQ6E,KAAK,CAAE,EAAG,CAAAF,QAAA,CAAC,aAAW,CAAQ,CAAC,cACvC3E,IAAA,WAAQ6E,KAAK,CAAE,GAAI,CAAAF,QAAA,CAAC,cAAY,CAAQ,CAAC,EACrC,CAAC,cAETzE,KAAA,QAAKuE,SAAS,CAAC,uBAAuB,CAAAE,QAAA,EAAC,UAC3B,CAAC2C,sBAAsB,CAAC5B,MAAM,GAAK,CAAC,CAAG,CAAC,CAAI,CAACnE,WAAW,CAAG,CAAC,EAAIE,YAAY,CAAI,CAAC,CAAC,GAAC,CAAC4H,IAAI,CAACmB,GAAG,CAACjJ,WAAW,CAAGE,YAAY,CAAE6F,sBAAsB,CAAC5B,MAAM,CAAC,CAAC,MAAI,CAAC4B,sBAAsB,CAAC5B,MAAM,EACjM,CAAC,EACL,CAAC,EACL,CAAC,EACL,CAAC,CACL,CAAC,CAGL/D,kBAAkB,eACfzB,KAAA,QAAKuE,SAAS,CAAC,0CAA0C,CAAAE,QAAA,eACrDzE,KAAA,QAAKuE,SAAS,CAAC,wCAAwC,CAAAE,QAAA,eACnD3E,IAAA,OAAIyE,SAAS,CAAC,qCAAqC,CAAAE,QAAA,CAAC,wBAAsB,CAAI,CAAC,cAC/E3E,IAAA,WACI8J,OAAO,CAAEA,CAAA,GAAMlI,qBAAqB,CAAC,KAAK,CAAE,CAC5C6C,SAAS,CAAC,mCAAmC,CAAAE,QAAA,cAE7C3E,IAAA,CAACL,CAAC,EAAC8E,SAAS,CAAC,SAAS,CAAE,CAAC,CACrB,CAAC,EACR,CAAC,cACNzE,IAAA,QAAKyE,SAAS,CAAC,qEAAqE,CAAAE,QAAA,CAC/EmB,gBAAgB,CAAC2E,GAAG,CAACrE,MAAM,eACxBlG,KAAA,UAEIuE,SAAS,CAAC,yEAAyE,CAAAE,QAAA,eAEnF3E,IAAA,UACIgG,IAAI,CAAC,UAAU,CACf0E,OAAO,CAAE7I,cAAc,CAACuE,MAAM,CAACnF,GAAG,CAAE,CACpC+I,QAAQ,CAAEA,CAAA,GAAMlD,sBAAsB,CAACV,MAAM,CAACnF,GAAG,CAAE,CACnDwD,SAAS,CAAC,mEAAmE,CAChF,CAAC,cACFzE,IAAA,SAAMyE,SAAS,CAAC,uBAAuB,CAAAE,QAAA,CAAEyB,MAAM,CAACL,KAAK,CAAO,CAAC,GATxDK,MAAM,CAACnF,GAUT,CACV,CAAC,CACD,CAAC,EACL,CACR,cAGDjB,IAAA,QAAKyE,SAAS,CAAC,sEAAsE,CAAAE,QAAA,cACjFzE,KAAA,QAAKuE,SAAS,CAAC,iBAAiB,CAAAE,QAAA,eAC5BzE,KAAA,UAAOuE,SAAS,CAAC,qCAAqC,CAAAE,QAAA,eAClD3E,IAAA,UAAOyE,SAAS,CAAC,2CAA2C,CAAAE,QAAA,cACxDzE,KAAA,OAAAyE,QAAA,EACKmB,gBAAgB,CAAC0B,MAAM,CAAClB,GAAG,EAAIzE,cAAc,CAACyE,GAAG,CAACrF,GAAG,CAAC,CAAC,CAACwJ,GAAG,CAACrE,MAAM,eAC/DpG,IAAA,CAACyJ,cAAc,EAAkBG,OAAO,CAAExD,MAAM,CAACnF,GAAI,CAAA0D,QAAA,CAChDyB,MAAM,CAACL,KAAK,EADIK,MAAM,CAACnF,GAEZ,CACnB,CAAC,cACFjB,IAAA,OAAIyE,SAAS,CAAC,gFAAgF,CAAAE,QAAA,CAAC,SAAO,CAAI,CAAC,EAC3G,CAAC,CACF,CAAC,cACR3E,IAAA,UAAOyE,SAAS,CAAC,mCAAmC,CAAAE,QAAA,CAC/CsE,cAAc,CAACwB,GAAG,CAAC,CAACtE,IAAI,CAAEwE,KAAK,gBAC5BzK,KAAA,OAEIuE,SAAS,iHAAAC,MAAA,CACLiG,KAAK,CAAG,CAAC,GAAK,CAAC,CAAG,UAAU,CAAG,YAAY,CAC5C,CACHb,OAAO,CAAEA,CAAA,GAAMpJ,YAAY,CAACyF,IAAI,CAAE,CAAAxB,QAAA,EAEjCmB,gBAAgB,CAAC0B,MAAM,CAAClB,GAAG,EAAIzE,cAAc,CAACyE,GAAG,CAACrF,GAAG,CAAC,CAAC,CAACwJ,GAAG,CAACrE,MAAM,EAAI,CACnE,KAAM,CAAAwE,iBAAiB,CAAGA,CAAA,GAAM,CAC5B,GAAIxE,MAAM,CAACnF,GAAG,GAAK,MAAM,CAAE,CACvB,mBAAOjB,IAAA,QAAKyE,SAAS,CAAC,mCAAmC,CAAAE,QAAA,CAAEK,UAAU,CAACmB,IAAI,CAACpE,IAAI,CAAC,CAAM,CAAC,CAC3F,CACA,GAAIqE,MAAM,CAACnF,GAAG,GAAK,UAAU,CAAE,CAC3B,mBACIjB,IAAA,QAAKyE,SAAS,CAAC,qCAAqC,CAAAE,QAAA,CAC/CwB,IAAI,CAACI,YAAY,EAAI,GAAA7B,MAAA,CAAGyB,IAAI,CAACK,SAAS,EAAI,EAAE,MAAA9B,MAAA,CAAIyB,IAAI,CAACM,QAAQ,EAAI,EAAE,EAAGC,IAAI,CAAC,CAAC,EAAI,SAAS,CACzF,CAAC,CAEd,CACA,GAAIN,MAAM,CAACnF,GAAG,GAAK,OAAO,CAAE,CACxB,mBACIjB,IAAA,MACI6K,IAAI,QAAAnG,MAAA,CAASyB,IAAI,CAACQ,WAAW,CAAG,CAChCmD,OAAO,CAAGK,CAAC,EAAKA,CAAC,CAACE,eAAe,CAAC,CAAE,CACpC5F,SAAS,CAAC,yFAAyF,CAAAE,QAAA,CAElGU,WAAW,CAACc,IAAI,CAACQ,WAAW,CAAC,CAC/B,CAAC,CAEZ,CACA,GAAIP,MAAM,CAACnF,GAAG,GAAK,OAAO,CAAE,CACxB,MAAO,CAAAkF,IAAI,CAAChE,KAAK,cACbnC,IAAA,MACI6K,IAAI,WAAAnG,MAAA,CAAYyB,IAAI,CAAChE,KAAK,CAAG,CAC7B2H,OAAO,CAAGK,CAAC,EAAKA,CAAC,CAACE,eAAe,CAAC,CAAE,CACpC5F,SAAS,CAAC,6EAA6E,CAAAE,QAAA,CAEtFwB,IAAI,CAAChE,KAAK,CACZ,CAAC,CACJ,GAAG,CACX,CACA,GAAIiE,MAAM,CAACnF,GAAG,GAAK,SAAS,CAAE,CAC1B,mBAAOjB,IAAA,QAAKyE,SAAS,CAAC,yCAAyC,CAAAE,QAAA,CAAEwB,IAAI,CAACjE,OAAO,EAAI,GAAG,CAAM,CAAC,CAC/F,CACA,GAAIkE,MAAM,CAACnF,GAAG,GAAK,aAAa,CAAE,CAC9B,MAAO,CAAAgD,cAAc,CAACkC,IAAI,CAACzD,WAAW,CAAC,CAC3C,CACA,GAAI0D,MAAM,CAACnF,GAAG,GAAK,OAAO,CAAE,CACxB,MAAO,CAAAkF,IAAI,CAACU,YAAY,cACpB3G,KAAA,SAAMuE,SAAS,CAAC,wEAAwE,CAAAE,QAAA,EAAC,GACpF,CAACC,YAAY,CAACuB,IAAI,CAACU,YAAY,CAAC,EAC/B,CAAC,CACP,GAAG,CACX,CACA,GAAIT,MAAM,CAACJ,IAAI,GAAK,QAAQ,CAAE,CAC1B,KAAM,CAAAnB,KAAK,CAAGsB,IAAI,CAACC,MAAM,CAACnF,GAAG,CAAC,CAC9B,MAAO,CAAA4D,KAAK,cACR7E,IAAA,QAAKyE,SAAS,CAAC,mCAAmC,CAAAE,QAAA,CAAEC,YAAY,CAACC,KAAK,CAAC,CAAM,CAAC,CAC9E,GAAG,CACX,CACA,mBAAO7E,IAAA,QAAKyE,SAAS,CAAC,uBAAuB,CAAAE,QAAA,CAAEwB,IAAI,CAACC,MAAM,CAACnF,GAAG,CAAC,EAAI,GAAG,CAAM,CAAC,CACjF,CAAC,CAED,mBACIjB,IAAA,OAAqByE,SAAS,CAAC,6BAA6B,CAAAE,QAAA,CACvDiG,iBAAiB,CAAC,CAAC,EADfxE,MAAM,CAACnF,GAEZ,CAAC,CAEb,CAAC,CAAC,cACFjB,IAAA,OAAIyE,SAAS,CAAC,iDAAiD,CAAAE,QAAA,cAC3DzE,KAAA,QAAKuE,SAAS,CAAC,6BAA6B,CAAAE,QAAA,eACxC3E,IAAA,WACI8J,OAAO,CAAGK,CAAC,EAAK,CAAEA,CAAC,CAACE,eAAe,CAAC,CAAC,CAAE3J,YAAY,CAACyF,IAAI,CAAC,CAAE,CAAE,CAC7D1B,SAAS,CAAC,gHAAgH,CAC1HqG,KAAK,CAAC,cAAc,CAAAnG,QAAA,cAEpB3E,IAAA,CAAClB,GAAG,EAAC2F,SAAS,CAAC,SAAS,CAAE,CAAC,CACvB,CAAC,cACTzE,IAAA,WACI8J,OAAO,CAAGK,CAAC,EAAK,CAAEA,CAAC,CAACE,eAAe,CAAC,CAAC,CAAE9J,UAAU,CAAC4F,IAAI,CAAC,CAAE,CAAE,CAC3D1B,SAAS,CAAC,sHAAsH,CAChIqG,KAAK,CAAC,MAAM,CAAAnG,QAAA,cAEZ3E,IAAA,CAACnB,KAAK,EAAC4F,SAAS,CAAC,SAAS,CAAE,CAAC,CACzB,CAAC,EACR,CAAC,CACN,CAAC,GArFA0B,IAAI,CAAC4E,EAAE,EAAIJ,KAsFhB,CACP,CAAC,CACC,CAAC,EACL,CAAC,CACPrD,sBAAsB,CAAC5B,MAAM,GAAK,CAAC,eAChCxF,KAAA,QAAKuE,SAAS,CAAC,mBAAmB,CAAAE,QAAA,eAC9B3E,IAAA,CAACb,WAAW,EAACsF,SAAS,CAAC,iCAAiC,CAAE,CAAC,cAC3DzE,IAAA,OAAIyE,SAAS,CAAC,wCAAwC,CAAAE,QAAA,CAAC,gBAAc,CAAI,CAAC,cAC1E3E,IAAA,MAAGyE,SAAS,CAAC,4BAA4B,CAAAE,QAAA,CACpC4E,gBAAgB,CACX,+CAA+C,CAC/C,wCAAwC,CAC/C,CAAC,EACH,CACR,EACA,CAAC,CACL,CAAC,CAGLjC,sBAAsB,CAAC5B,MAAM,CAAG,CAAC,EAAI0D,UAAU,CAAG,CAAC,eAChDpJ,IAAA,QAAKyE,SAAS,CAAC,0CAA0C,CAAAE,QAAA,cACrDzE,KAAA,QAAKuE,SAAS,CAAC,mCAAmC,CAAAE,QAAA,eAC9CzE,KAAA,QAAKuE,SAAS,CAAC,6BAA6B,CAAAE,QAAA,eACxC3E,IAAA,WACI8J,OAAO,CAAEA,CAAA,GAAMtI,cAAc,CAAC,CAAC,CAAE,CACjCwJ,QAAQ,CAAEzJ,WAAW,GAAK,CAAE,CAC5BkD,SAAS,CAAC,yJAAyJ,CAAAE,QAAA,CACtK,OAED,CAAQ,CAAC,cACTzE,KAAA,WACI4J,OAAO,CAAEA,CAAA,GAAMtI,cAAc,CAACwF,IAAI,EAAIqC,IAAI,CAAC4B,GAAG,CAAC,CAAC,CAAEjE,IAAI,CAAG,CAAC,CAAC,CAAE,CAC7DgE,QAAQ,CAAEzJ,WAAW,GAAK,CAAE,CAC5BkD,SAAS,CAAC,kLAAkL,CAAAE,QAAA,eAE5L3E,IAAA,CAACH,WAAW,EAAC4E,SAAS,CAAC,cAAc,CAAE,CAAC,WAE5C,EAAQ,CAAC,EACR,CAAC,cAENzE,IAAA,QAAKyE,SAAS,CAAC,6BAA6B,CAAAE,QAAA,CACvCuG,KAAK,CAACC,IAAI,CAAC,CAAEzF,MAAM,CAAE2D,IAAI,CAACmB,GAAG,CAAC,CAAC,CAAEpB,UAAU,CAAE,CAAC,CAAE,CAACgC,CAAC,CAAEC,CAAC,GAAK,CACvD,GAAI,CAAAC,OAAO,CACX,GAAIlC,UAAU,EAAI,CAAC,CAAE,CACjBkC,OAAO,CAAGD,CAAC,CAAG,CAAC,CACnB,CAAC,IAAM,IAAI9J,WAAW,EAAI,CAAC,CAAE,CACzB+J,OAAO,CAAGD,CAAC,CAAG,CAAC,CACnB,CAAC,IAAM,IAAI9J,WAAW,EAAI6H,UAAU,CAAG,CAAC,CAAE,CACtCkC,OAAO,CAAGlC,UAAU,CAAG,CAAC,CAAGiC,CAAC,CAChC,CAAC,IAAM,CACHC,OAAO,CAAG/J,WAAW,CAAG,CAAC,CAAG8J,CAAC,CACjC,CAEA,mBACIrL,IAAA,WAEI8J,OAAO,CAAEA,CAAA,GAAMtI,cAAc,CAAC8J,OAAO,CAAE,CACvC7G,SAAS,6CAAAC,MAAA,CACLnD,WAAW,GAAK+J,OAAO,CACjB,wBAAwB,CACxB,gEAAgE,CACvE,CAAA3G,QAAA,CAEF2G,OAAO,EARHA,OASD,CAAC,CAEjB,CAAC,CAAC,CACD,CAAC,cAENpL,KAAA,QAAKuE,SAAS,CAAC,6BAA6B,CAAAE,QAAA,eACxCzE,KAAA,WACI4J,OAAO,CAAEA,CAAA,GAAMtI,cAAc,CAACwF,IAAI,EAAIqC,IAAI,CAACmB,GAAG,CAACpB,UAAU,CAAEpC,IAAI,CAAG,CAAC,CAAC,CAAE,CACtEgE,QAAQ,CAAEzJ,WAAW,GAAK6H,UAAW,CACrC3E,SAAS,CAAC,kLAAkL,CAAAE,QAAA,EAC/L,MAEG,cAAA3E,IAAA,CAACF,YAAY,EAAC2E,SAAS,CAAC,cAAc,CAAE,CAAC,EACrC,CAAC,cACTzE,IAAA,WACI8J,OAAO,CAAEA,CAAA,GAAMtI,cAAc,CAAC4H,UAAU,CAAE,CAC1C4B,QAAQ,CAAEzJ,WAAW,GAAK6H,UAAW,CACrC3E,SAAS,CAAC,yJAAyJ,CAAAE,QAAA,CACtK,MAED,CAAQ,CAAC,EACR,CAAC,EACL,CAAC,CACL,CACR,EACA,CAAC,CAEd,CAEA,cAAe,CAAAxE,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}