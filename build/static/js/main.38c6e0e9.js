/*! For license information please see main.38c6e0e9.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:s,_owner:i.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function b(){}function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var x=v.prototype=new b;x.constructor=v,p(x,y.prototype),x.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,N={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var a,s={},o=null,i=null;if(null!=t)for(a in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(o=""+t.key),t)k.call(t,a)&&!j.hasOwnProperty(a)&&(s[a]=t[a]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===s[a]&&(s[a]=l[a]);return{$$typeof:n,type:e,key:o,ref:i,props:s,_owner:N.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function I(e,t,a,s,o){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var l=!1;if(null===e)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+E(l,0):s,w(o)?(a="",null!=e&&(a=e.replace(_,"$&/")+"/"),I(o,t,a,"",function(e){return e})):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,a+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(_,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var u=s+E(i=e[c],c);l+=I(i,t,a,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(i=e.next()).done;)l+=I(i=i.value,t,a,u=s+E(i,c++),o);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,t,n){if(null==e)return e;var r=[],a=0;return I(e,r,"","",function(e){return t.call(n,e,a++)}),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},R={transition:null},A={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:R,ReactCurrentOwner:N};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:T,forEach:function(e,t,n){T(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=a,t.Profiler=o,t.PureComponent=v,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.act=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=p({},e.props),s=e.key,o=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,i=N.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!j.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:a,_owner:i}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return L.current.useCallback(e,t)},t.useContext=function(e){return L.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return L.current.useDeferredValue(e)},t.useEffect=function(e,t){return L.current.useEffect(e,t)},t.useId=function(){return L.current.useId()},t.useImperativeHandle=function(e,t,n){return L.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return L.current.useMemo(e,t)},t.useReducer=function(e,t,n){return L.current.useReducer(e,t,n)},t.useRef=function(e){return L.current.useRef(e)},t.useState=function(e){return L.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return L.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return L.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var i=2*(r+1)-1,l=e[i],c=i+1,u=e[c];if(0>s(l,n))c<a&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[i]=n,r=i);else{if(!(c<a&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,h=null,m=3,f=!1,p=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,x(e),!p)if(null!==r(c))p=!0,R(k);else{var t=r(u);null!==t&&A(w,t.startTime-e)}}function k(e,n){p=!1,g&&(g=!1,b(S),S=-1),f=!0;var s=m;try{for(x(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!I());){var o=h.callback;if("function"===typeof o){h.callback=null,m=h.priorityLevel;var i=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof i?h.callback=i:h===r(c)&&a(c),x(n)}else a(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&A(w,d.startTime-n),l=!1}return l}finally{h=null,m=s,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,j=!1,C=null,S=-1,_=5,E=-1;function I(){return!(t.unstable_now()-E<_)}function T(){if(null!==C){var e=t.unstable_now();E=e;var n=!0;try{n=C(!0,e)}finally{n?N():(j=!1,C=null)}}else j=!1}if("function"===typeof v)N=function(){v(T)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,L=P.port2;P.port1.onmessage=T,N=function(){L.postMessage(null)}}else N=function(){y(T,0)};function R(e){C=e,j||(j=!0,N())}function A(e,n){S=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,R(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,a,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:s,expirationTime:i=s+i,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(b(S),S=-1):g=!0,A(w,s-o))):(e.sortIndex=i,n(c,e),p||f||(p=!0,R(k))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),a=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,i={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},f={};function p(e,t,n,r,a,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new p(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new p(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new p(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new p(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new p(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new p(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function v(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(f,e)||!d.call(m,e)&&(h.test(e)?f[e]=!0:(m[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,b);g[t]=new p(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,b);g[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,b);g[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),_=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var A=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var M,D=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var z=!1;function U(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),s=r.stack.split("\n"),o=a.length-1,i=s.length-1;1<=o&&0<=i&&a[o]!==s[i];)i--;for(;1<=o&&0<=i;o--,i--)if(a[o]!==s[i]){if(1!==o||1!==i)do{if(o--,0>--i||a[o]!==s[i]){var l="\n"+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=i);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function V(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case k:return"Portal";case C:return"Profiler";case j:return"StrictMode";case I:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function se(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(me).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]})});var ye=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Ne=null,je=null;function Ce(e){if(e=va(e)){if("function"!==typeof ke)throw Error(s(280));var t=e.stateNode;t&&(t=wa(t),ke(e.stateNode,e.type,t))}}function Se(e){Ne?je?je.push(e):je=[e]:Ne=e}function _e(){if(Ne){var e=Ne,t=je;if(je=Ne=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ee(e,t){return e(t)}function Ie(){}var Te=!1;function Pe(e,t,n){if(Te)return e(t,n);Te=!0;try{return Ee(e,t,n)}finally{Te=!1,(null!==Ne||null!==je)&&(Ie(),_e())}}function Le(e,t){var n=e.stateNode;if(null===n)return null;var r=wa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Re=!1;if(u)try{var Ae={};Object.defineProperty(Ae,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,Ae)}catch(ue){Re=!1}function Oe(e,t,n,r,a,s,o,i,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,De=null,Fe=!1,ze=null,Ue={onError:function(e){Me=!0,De=e}};function Ve(e,t,n,r,a,s,o,i,l){Me=!1,De=null,Oe.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Be(e)!==e)throw Error(s(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return qe(a),e;if(o===r)return qe(a),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=o;else{for(var i=!1,l=a.child;l;){if(l===n){i=!0,n=a,r=o;break}if(l===r){i=!0,r=a,n=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===n){i=!0,n=o,r=a;break}if(l===r){i=!0,r=o,n=a;break}l=l.sibling}if(!i)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Je=a.unstable_scheduleCallback,Qe=a.unstable_cancelCallback,Ke=a.unstable_shouldYield,$e=a.unstable_requestPaint,Ye=a.unstable_now,Xe=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/lt|0)|0},it=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var i=o&~a;0!==i?r=dt(i):0!==(s&=o)&&(r=dt(s))}else 0!==(o=n&~a)?r=dt(o):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-ot(t)),r|=e[n],t&=~a;return r}function mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var vt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,kt,Nt,jt,Ct,St=!1,_t=[],Et=null,It=null,Tt=null,Pt=new Map,Lt=new Map,Rt=[],At="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function Mt(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=va(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Dt(e){var t=ba(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Ct(e.priority,function(){Nt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=va(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function zt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){St=!1,null!==Et&&Ft(Et)&&(Et=null),null!==It&&Ft(It)&&(It=null),null!==Tt&&Ft(Tt)&&(Tt=null),Pt.forEach(zt),Lt.forEach(zt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return Vt(t,e)}if(0<_t.length){Vt(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Et&&Vt(Et,e),null!==It&&Vt(It,e),null!==Tt&&Vt(Tt,e),Pt.forEach(t),Lt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Dt(n),null===n.blockedOn&&Rt.shift()}var Ht=x.ReactCurrentBatchConfig,qt=!0;function Wt(e,t,n,r){var a=vt,s=Ht.transition;Ht.transition=null;try{vt=1,Jt(e,t,n,r)}finally{vt=a,Ht.transition=s}}function Gt(e,t,n,r){var a=vt,s=Ht.transition;Ht.transition=null;try{vt=4,Jt(e,t,n,r)}finally{vt=a,Ht.transition=s}}function Jt(e,t,n,r){if(qt){var a=Kt(e,t,n,r);if(null===a)qr(e,t,r,Qt,n),Ot(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Et=Mt(Et,e,t,n,r,a),!0;case"dragenter":return It=Mt(It,e,t,n,r,a),!0;case"mouseover":return Tt=Mt(Tt,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return Pt.set(s,Mt(Pt.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,Lt.set(s,Mt(Lt.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<At.indexOf(e)){for(;null!==a;){var s=va(a);if(null!==s&&wt(s),null===(s=Kt(e,t,n,r))&&qr(e,t,r,Qt,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Qt=null;function Kt(e,t,n,r){if(Qt=null,null!==(e=ba(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,a="value"in Yt?Yt.value:Yt.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[s-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=D({},cn,{view:0,detail:0}),hn=an(dn),mn=D({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),fn=an(mn),pn=an(D({},mn,{dataTransfer:0})),gn=an(D({},dn,{relatedTarget:0})),yn=an(D({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=D({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=an(bn),xn=an(D({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Nn[e])&&!!t[e]}function Cn(){return jn}var Sn=D({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=an(Sn),En=an(D({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=an(D({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Tn=an(D({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=D({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=an(Pn),Rn=[9,13,27,32],An=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Mn=u&&"TextEvent"in window&&!On,Dn=u&&(!An||On&&8<On&&11>=On),Fn=String.fromCharCode(32),zn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Wn(e,t,n,r){Se(r),0<(t=Gr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Jn=null;function Qn(e){Fr(e,0)}function Kn(e){if(J(xa(e)))return e}function $n(e,t){if("change"===e)return t}var Yn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Jn=Gn=null)}function nr(e){if("value"===e.propertyName&&Kn(Jn)){var t=[];Wn(t,Jn,e,we(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Jn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Jn)}function sr(e,t){if("click"===e)return Kn(t)}function or(e,t){if("input"===e||"change"===e)return Kn(t)}var ir="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ir(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!ir(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&mr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,s=Math.min(r.start,a);r=void 0===r.end?s:Math.min(r.end,a),!e.extend&&s>r&&(a=r,r=s,s=a),a=ur(n,s);var o=ur(n,r);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,br=null,vr=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&lr(br,r)||(br=r,0<(r=Gr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Nr={},jr={};function Cr(e){if(Nr[e])return Nr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in jr)return Nr[e]=n[t];return e}u&&(jr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Sr=Cr("animationend"),_r=Cr("animationiteration"),Er=Cr("animationstart"),Ir=Cr("transitionend"),Tr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(e,t){Tr.set(e,t),l(t,[e])}for(var Rr=0;Rr<Pr.length;Rr++){var Ar=Pr[Rr];Lr(Ar.toLowerCase(),"on"+(Ar[0].toUpperCase()+Ar.slice(1)))}Lr(Sr,"onAnimationEnd"),Lr(_r,"onAnimationIteration"),Lr(Er,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Dr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,o,i,l,c){if(Ve.apply(this,arguments),Me){if(!Me)throw Error(s(198));var u=De;Me=!1,De=null,Fe||(Fe=!0,ze=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var i=r[o],l=i.instance,c=i.currentTarget;if(i=i.listener,l!==s&&a.isPropagationStopped())break e;Dr(a,i,c),s=l}else for(o=0;o<r.length;o++){if(l=(i=r[o]).instance,c=i.currentTarget,i=i.listener,l!==s&&a.isPropagationStopped())break e;Dr(a,i,c),s=l}}}if(Fe)throw e=ze,Fe=!1,ze=null,e}function zr(e,t){var n=t[pa];void 0===n&&(n=t[pa]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Vr]){e[Vr]=!0,o.forEach(function(t){"selectionchange"!==t&&(Mr.has(t)||Ur(t,!1,e),Ur(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Ur("selectionchange",!1,t))}}function Hr(e,t,n,r){switch($t(t)){case 1:var a=Wt;break;case 4:a=Gt;break;default:a=Jt}n=a.bind(null,t,n,e),a=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,a){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var i=r.stateNode.containerInfo;if(i===a||8===i.nodeType&&i.parentNode===a)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;o=o.return}for(;null!==i;){if(null===(o=ba(i)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}i=i.parentNode}}r=r.return}Pe(function(){var r=s,a=we(n),o=[];e:{var i=Tr.get(e);if(void 0!==i){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=_n;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case Sr:case _r:case Er:l=yn;break;case Ir:l=Tn;break;case"scroll":l=hn;break;case"wheel":l=Ln;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=En}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==i?i+"Capture":null:i;u=[];for(var m,f=r;null!==f;){var p=(m=f).stateNode;if(5===m.tag&&null!==p&&(m=p,null!==h&&(null!=(p=Le(f,h))&&u.push(Wr(f,p,m)))),d)break;f=f.return}0<u.length&&(i=new l(i,c,null,n,a),o.push({event:i,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!ba(c)&&!c[fa])&&(l||i)&&(i=a.window===a?a:(i=a.ownerDocument)?i.defaultView||i.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ba(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,p="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=En,p="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?i:xa(l),m=null==c?i:xa(c),(i=new u(p,f+"leave",l,n,a)).target=d,i.relatedTarget=m,p=null,ba(a)===r&&((u=new u(h,f+"enter",c,n,a)).target=m,u.relatedTarget=d,p=u),d=p,l&&c)e:{for(h=c,f=0,m=u=l;m;m=Jr(m))f++;for(m=0,p=h;p;p=Jr(p))m++;for(;0<f-m;)u=Jr(u),f--;for(;0<m-f;)h=Jr(h),m--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Jr(u),h=Jr(h)}u=null}else u=null;null!==l&&Qr(o,i,l,u,!1),null!==c&&null!==d&&Qr(o,d,c,u,!0)}if("select"===(l=(i=r?xa(r):window).nodeName&&i.nodeName.toLowerCase())||"input"===l&&"file"===i.type)var g=$n;else if(qn(i))if(Yn)g=or;else{g=ar;var y=rr}else(l=i.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(g=sr);switch(g&&(g=g(e,r))?Wn(o,g,n,a):(y&&y(e,i,r),"focusout"===e&&(y=i._wrapperState)&&y.controlled&&"number"===i.type&&ee(i,"number",i.value)),y=r?xa(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,br=null);break;case"focusout":br=yr=gr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,xr(o,n,a);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":xr(o,n,a)}var b;if(An)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Bn?Un(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Dn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Bn&&(b=en()):(Xt="value"in(Yt=a)?Yt.value:Yt.textContent,Bn=!0)),0<(y=Gr(r,v)).length&&(v=new xn(v,e,null,n,a),o.push({event:v,listeners:y}),b?v.data=b:null!==(b=Vn(n))&&(v.data=b))),(b=Mn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(zn=!0,Fn);case"textInput":return(e=t.data)===Fn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!An&&Un(e,t)?(e=en(),Zt=Xt=Yt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(a=new xn("onBeforeInput","beforeinput",null,n,a),o.push({event:a,listeners:r}),a.data=b))}Fr(o,t)})}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=Le(e,n))&&r.unshift(Wr(e,s,a)),null!=(s=Le(e,t))&&r.push(Wr(e,s,a))),e=e.return}return r}function Jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,a){for(var s=t._reactName,o=[];null!==n&&n!==r;){var i=n,l=i.alternate,c=i.stateNode;if(null!==l&&l===r)break;5===i.tag&&null!==c&&(i=c,a?null!=(l=Le(n,s))&&o.unshift(Wr(n,l,i)):a||null!=(l=Le(n,s))&&o.push(Wr(n,l,i))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Kr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace($r,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,sa="function"===typeof Promise?Promise:void 0,oa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sa?function(e){return sa.resolve(null).then(e).catch(ia)}:ra;function ia(e){setTimeout(function(){throw e})}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Bt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),ha="__reactFiber$"+da,ma="__reactProps$"+da,fa="__reactContainer$"+da,pa="__reactEvents$"+da,ga="__reactListeners$"+da,ya="__reactHandles$"+da;function ba(e){var t=e[ha];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fa]||n[ha]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ua(e);null!==e;){if(n=e[ha])return n;e=ua(e)}return t}n=(e=n).parentNode}return null}function va(e){return!(e=e[ha]||e[fa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function wa(e){return e[ma]||null}var ka=[],Na=-1;function ja(e){return{current:e}}function Ca(e){0>Na||(e.current=ka[Na],ka[Na]=null,Na--)}function Sa(e,t){Na++,ka[Na]=e.current,e.current=t}var _a={},Ea=ja(_a),Ia=ja(!1),Ta=_a;function Pa(e,t){var n=e.type.contextTypes;if(!n)return _a;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in n)s[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function La(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ra(){Ca(Ia),Ca(Ea)}function Aa(e,t,n){if(Ea.current!==_a)throw Error(s(168));Sa(Ea,t),Sa(Ia,n)}function Oa(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(s(108,H(e)||"Unknown",a));return D({},n,r)}function Ma(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_a,Ta=Ea.current,Sa(Ea,e),Sa(Ia,Ia.current),!0}function Da(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Oa(e,t,Ta),r.__reactInternalMemoizedMergedChildContext=e,Ca(Ia),Ca(Ea),Sa(Ea,e)):Ca(Ia),Sa(Ia,n)}var Fa=null,za=!1,Ua=!1;function Va(e){null===Fa?Fa=[e]:Fa.push(e)}function Ba(){if(!Ua&&null!==Fa){Ua=!0;var e=0,t=vt;try{var n=Fa;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fa=null,za=!1}catch(a){throw null!==Fa&&(Fa=Fa.slice(e+1)),Je(Ze,Ba),a}finally{vt=t,Ua=!1}}return null}var Ha=[],qa=0,Wa=null,Ga=0,Ja=[],Qa=0,Ka=null,$a=1,Ya="";function Xa(e,t){Ha[qa++]=Ga,Ha[qa++]=Wa,Wa=e,Ga=t}function Za(e,t,n){Ja[Qa++]=$a,Ja[Qa++]=Ya,Ja[Qa++]=Ka,Ka=e;var r=$a;e=Ya;var a=32-ot(r)-1;r&=~(1<<a),n+=1;var s=32-ot(t)+a;if(30<s){var o=a-a%5;s=(r&(1<<o)-1).toString(32),r>>=o,a-=o,$a=1<<32-ot(t)+a|n<<a|r,Ya=s+e}else $a=1<<s|n<<a|r,Ya=e}function es(e){null!==e.return&&(Xa(e,1),Za(e,1,0))}function ts(e){for(;e===Wa;)Wa=Ha[--qa],Ha[qa]=null,Ga=Ha[--qa],Ha[qa]=null;for(;e===Ka;)Ka=Ja[--Qa],Ja[Qa]=null,Ya=Ja[--Qa],Ja[Qa]=null,$a=Ja[--Qa],Ja[Qa]=null}var ns=null,rs=null,as=!1,ss=null;function os(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function is(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ka?{id:$a,overflow:Ya}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(as){var t=rs;if(t){var n=t;if(!is(e,t)){if(ls(e))throw Error(s(418));t=ca(n.nextSibling);var r=ns;t&&is(e,t)?os(r,n):(e.flags=-4097&e.flags|2,as=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,as=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!as)return us(e),as=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)os(e,t),t=ca(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ca(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ca(e.nextSibling)}function ms(){rs=ns=null,as=!1}function fs(e){null===ss?ss=[e]:ss.push(e)}var ps=x.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var a=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bs(e){return(0,e._init)(e._payload)}function vs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Dc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===N?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===L&&bs(s)===t.type)?((r=a(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Ac(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Oc(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Dc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Ac(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case k:return(t=Fc(t,e.mode,n)).return=e,t;case L:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Oc(t,e.mode,n,null)).return=e,t;ys(e,t)}return null}function m(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?c(e,t,n,r):null;case k:return n.key===a?u(e,t,n,r):null;case L:return m(e,t,(a=n._init)(n._payload),r)}if(te(n)||O(n))return null!==a?null:d(e,t,n,r,null);ys(e,n)}return null}function f(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case L:return f(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||O(r))return d(t,e=e.get(n)||null,r,a,null);ys(t,r)}return null}function p(a,s,i,l){for(var c=null,u=null,d=s,p=s=0,g=null;null!==d&&p<i.length;p++){d.index>p?(g=d,d=null):g=d.sibling;var y=m(a,d,i[p],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(a,d),s=o(y,s,p),null===u?c=y:u.sibling=y,u=y,d=g}if(p===i.length)return n(a,d),as&&Xa(a,p),c;if(null===d){for(;p<i.length;p++)null!==(d=h(a,i[p],l))&&(s=o(d,s,p),null===u?c=d:u.sibling=d,u=d);return as&&Xa(a,p),c}for(d=r(a,d);p<i.length;p++)null!==(g=f(d,a,p,i[p],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?p:g.key),s=o(g,s,p),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(a,e)}),as&&Xa(a,p),c}function g(a,i,l,c){var u=O(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,p=i,g=i=0,y=null,b=l.next();null!==p&&!b.done;g++,b=l.next()){p.index>g?(y=p,p=null):y=p.sibling;var v=m(a,p,b.value,c);if(null===v){null===p&&(p=y);break}e&&p&&null===v.alternate&&t(a,p),i=o(v,i,g),null===d?u=v:d.sibling=v,d=v,p=y}if(b.done)return n(a,p),as&&Xa(a,g),u;if(null===p){for(;!b.done;g++,b=l.next())null!==(b=h(a,b.value,c))&&(i=o(b,i,g),null===d?u=b:d.sibling=b,d=b);return as&&Xa(a,g),u}for(p=r(a,p);!b.done;g++,b=l.next())null!==(b=f(p,a,g,b.value,c))&&(e&&null!==b.alternate&&p.delete(null===b.key?g:b.key),i=o(b,i,g),null===d?u=b:d.sibling=b,d=b);return e&&p.forEach(function(e){return t(a,e)}),as&&Xa(a,g),u}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===N&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===N){if(7===u.tag){n(r,u.sibling),(s=a(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===L&&bs(c)===u.type){n(r,u.sibling),(s=a(u,o.props)).ref=gs(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===N?((s=Oc(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Ac(o.type,o.key,o.props,null,r.mode,l)).ref=gs(r,s,o),l.return=r,r=l)}return i(r);case k:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=a(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Fc(o,r.mode,l)).return=r,r=s}return i(r);case L:return e(r,s,(u=o._init)(o._payload),l)}if(te(o))return p(r,s,o,l);if(O(o))return g(r,s,o,l);ys(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=a(s,o)).return=r,r=s):(n(r,s),(s=Dc(o,r.mode,l)).return=r,r=s),i(r)):n(r,s)}}var xs=vs(!0),ws=vs(!1),ks=ja(null),Ns=null,js=null,Cs=null;function Ss(){Cs=js=Ns=null}function _s(e){var t=ks.current;Ca(ks),e._currentValue=t}function Es(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Is(e,t){Ns=e,Cs=js=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(vi=!0),e.firstContext=null)}function Ts(e){var t=e._currentValue;if(Cs!==e)if(e={context:e,memoizedValue:t,next:null},null===js){if(null===Ns)throw Error(s(308));js=e,Ns.dependencies={lanes:0,firstContext:e}}else js=js.next=e;return t}var Ps=null;function Ls(e){null===Ps?Ps=[e]:Ps.push(e)}function Rs(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Ls(t)):(n.next=a.next,a.next=n),t.interleaved=n,As(e,r)}function As(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Os=!1;function Ms(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ds(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&El)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,As(e,n)}return null===(a=r.interleaved)?(t.next=t,Ls(r)):(t.next=a.next,a.next=t),r.interleaved=t,As(e,n)}function Us(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}function Vs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?a=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bs(e,t,n,r){var a=e.updateQueue;Os=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,i=a.shared.pending;if(null!==i){a.shared.pending=null;var l=i,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((i=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===i?u.firstBaseUpdate=c:i.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=a.baseState;for(o=0,u=c=l=null,i=s;;){var h=i.lane,m=i.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:m,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var f=e,p=i;switch(h=t,m=n,p.tag){case 1:if("function"===typeof(f=p.payload)){d=f.call(m,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=p.payload)?f.call(m,d,h):f)||void 0===h)break e;d=D({},d,h);break e;case 2:Os=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[i]:h.push(i))}else m={eventTime:m,lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===u?(c=u=m,l=d):u=u.next=m,o|=h;if(null===(i=i.next)){if(null===(i=a.shared.pending))break;i=(h=i).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);Ml|=o,e.lanes=o,e.memoizedState=d}}function Hs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(s(191,a));a.call(r)}}}var qs={},Ws=ja(qs),Gs=ja(qs),Js=ja(qs);function Qs(e){if(e===qs)throw Error(s(174));return e}function Ks(e,t){switch(Sa(Js,t),Sa(Gs,e),Sa(Ws,qs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ca(Ws),Sa(Ws,t)}function $s(){Ca(Ws),Ca(Gs),Ca(Js)}function Ys(e){Qs(Js.current);var t=Qs(Ws.current),n=le(t,e.type);t!==n&&(Sa(Gs,e),Sa(Ws,n))}function Xs(e){Gs.current===e&&(Ca(Ws),Ca(Gs))}var Zs=ja(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=x.ReactCurrentDispatcher,ao=x.ReactCurrentBatchConfig,so=0,oo=null,io=null,lo=null,co=!1,uo=!1,ho=0,mo=0;function fo(){throw Error(s(321))}function po(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ir(e[n],t[n]))return!1;return!0}function go(e,t,n,r,a,o){if(so=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Zo:ei,e=n(r,a),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(s(301));o+=1,lo=io=null,t.updateQueue=null,ro.current=ti,e=n(r,a)}while(uo)}if(ro.current=Xo,t=null!==io&&null!==io.next,so=0,lo=io=oo=null,co=!1,t)throw Error(s(300));return e}function yo(){var e=0!==ho;return ho=0,e}function bo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function vo(){if(null===io){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=io.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,io=e;else{if(null===e)throw Error(s(310));e={memoizedState:(io=e).memoizedState,baseState:io.baseState,baseQueue:io.baseQueue,queue:io.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function xo(e,t){return"function"===typeof t?t(e):t}function wo(e){var t=vo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=io,a=r.baseQueue,o=n.pending;if(null!==o){if(null!==a){var i=a.next;a.next=o.next,o.next=i}r.baseQueue=a=o,n.pending=null}if(null!==a){o=a.next,r=r.baseState;var l=i=null,c=null,u=o;do{var d=u.lane;if((so&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,i=r):c=c.next=h,oo.lanes|=d,Ml|=d}u=u.next}while(null!==u&&u!==o);null===c?i=r:c.next=l,ir(r,t.memoizedState)||(vi=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{o=a.lane,oo.lanes|=o,Ml|=o,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ko(e){var t=vo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var i=a=a.next;do{o=e(o,i.action),i=i.next}while(i!==a);ir(o,t.memoizedState)||(vi=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function No(){}function jo(e,t){var n=oo,r=vo(),a=t(),o=!ir(r.memoizedState,a);if(o&&(r.memoizedState=a,vi=!0),r=r.queue,Mo(_o.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Po(9,So.bind(null,n,r,a,t),void 0,null),null===Il)throw Error(s(349));0!==(30&so)||Co(n,t,a)}return a}function Co(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function So(e,t,n,r){t.value=n,t.getSnapshot=r,Eo(t)&&Io(e)}function _o(e,t,n){return n(function(){Eo(t)&&Io(e)})}function Eo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ir(e,n)}catch(r){return!0}}function Io(e){var t=As(e,1);null!==t&&nc(t,e,1,-1)}function To(e){var t=bo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:e},t.queue=e,e=e.dispatch=Qo.bind(null,oo,e),[t.memoizedState,e]}function Po(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Lo(){return vo().memoizedState}function Ro(e,t,n,r){var a=bo();oo.flags|=e,a.memoizedState=Po(1|t,n,void 0,void 0===r?null:r)}function Ao(e,t,n,r){var a=vo();r=void 0===r?null:r;var s=void 0;if(null!==io){var o=io.memoizedState;if(s=o.destroy,null!==r&&po(r,o.deps))return void(a.memoizedState=Po(t,n,s,r))}oo.flags|=e,a.memoizedState=Po(1|t,n,s,r)}function Oo(e,t){return Ro(8390656,8,e,t)}function Mo(e,t){return Ao(2048,8,e,t)}function Do(e,t){return Ao(4,2,e,t)}function Fo(e,t){return Ao(4,4,e,t)}function zo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Uo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ao(4,4,zo.bind(null,t,e),n)}function Vo(){}function Bo(e,t){var n=vo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&po(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ho(e,t){var n=vo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&po(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qo(e,t,n){return 0===(21&so)?(e.baseState&&(e.baseState=!1,vi=!0),e.memoizedState=n):(ir(n,t)||(n=pt(),oo.lanes|=n,Ml|=n,e.baseState=!0),t)}function Wo(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=ao.transition;ao.transition={};try{e(!1),t()}finally{vt=n,ao.transition=r}}function Go(){return vo().memoizedState}function Jo(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ko(e))$o(t,n);else if(null!==(n=Rs(e,t,n,r))){nc(n,e,r,ec()),Yo(n,t,r)}}function Qo(e,t,n){var r=tc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ko(e))$o(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,i=s(o,n);if(a.hasEagerState=!0,a.eagerState=i,ir(i,o)){var l=t.interleaved;return null===l?(a.next=a,Ls(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=Rs(e,t,a,r))&&(nc(n,e,r,a=ec()),Yo(n,t,r))}}function Ko(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function $o(e,t){uo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}var Xo={readContext:Ts,useCallback:fo,useContext:fo,useEffect:fo,useImperativeHandle:fo,useInsertionEffect:fo,useLayoutEffect:fo,useMemo:fo,useReducer:fo,useRef:fo,useState:fo,useDebugValue:fo,useDeferredValue:fo,useTransition:fo,useMutableSource:fo,useSyncExternalStore:fo,useId:fo,unstable_isNewReconciler:!1},Zo={readContext:Ts,useCallback:function(e,t){return bo().memoizedState=[e,void 0===t?null:t],e},useContext:Ts,useEffect:Oo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ro(4194308,4,zo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ro(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ro(4,2,e,t)},useMemo:function(e,t){var n=bo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Jo.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},bo().memoizedState=e},useState:To,useDebugValue:Vo,useDeferredValue:function(e){return bo().memoizedState=e},useTransition:function(){var e=To(!1),t=e[0];return e=Wo.bind(null,e[1]),bo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,a=bo();if(as){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Il)throw Error(s(349));0!==(30&so)||Co(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Oo(_o.bind(null,r,o,e),[e]),r.flags|=2048,Po(9,So.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=bo(),t=Il.identifierPrefix;if(as){var n=Ya;t=":"+t+"R"+(n=($a&~(1<<32-ot($a)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=mo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ei={readContext:Ts,useCallback:Bo,useContext:Ts,useEffect:Mo,useImperativeHandle:Uo,useInsertionEffect:Do,useLayoutEffect:Fo,useMemo:Ho,useReducer:wo,useRef:Lo,useState:function(){return wo(xo)},useDebugValue:Vo,useDeferredValue:function(e){return qo(vo(),io.memoizedState,e)},useTransition:function(){return[wo(xo)[0],vo().memoizedState]},useMutableSource:No,useSyncExternalStore:jo,useId:Go,unstable_isNewReconciler:!1},ti={readContext:Ts,useCallback:Bo,useContext:Ts,useEffect:Mo,useImperativeHandle:Uo,useInsertionEffect:Do,useLayoutEffect:Fo,useMemo:Ho,useReducer:ko,useRef:Lo,useState:function(){return ko(xo)},useDebugValue:Vo,useDeferredValue:function(e){var t=vo();return null===io?t.memoizedState=e:qo(t,io.memoizedState,e)},useTransition:function(){return[ko(xo)[0],vo().memoizedState]},useMutableSource:No,useSyncExternalStore:jo,useId:Go,unstable_isNewReconciler:!1};function ni(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ri(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:D({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ai={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),s=Fs(r,a);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=zs(e,s,a))&&(nc(t,e,a,r),Us(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),s=Fs(r,a);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=zs(e,s,a))&&(nc(t,e,a,r),Us(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),a=Fs(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=zs(e,a,r))&&(nc(t,e,r,n),Us(t,e,r))}};function si(e,t,n,r,a,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,s))}function oi(e,t,n){var r=!1,a=_a,s=t.contextType;return"object"===typeof s&&null!==s?s=Ts(s):(a=La(t)?Ta:Ea.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pa(e,a):_a),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ai,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function ii(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ai.enqueueReplaceState(t,t.state,null)}function li(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Ms(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=Ts(s):(s=La(t)?Ta:Ea.current,a.context=Pa(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ri(e,t,s,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ai.enqueueReplaceState(a,a.state,null),Bs(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function ci(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var a=n}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:a,digest:null}}function ui(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function di(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var hi="function"===typeof WeakMap?WeakMap:Map;function mi(e,t,n){(n=Fs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Wl=r),di(0,t)},n}function fi(e,t,n){(n=Fs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){di(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){di(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function pi(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hi;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function gi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yi(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fs(-1,1)).tag=2,zs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var bi=x.ReactCurrentOwner,vi=!1;function xi(e,t,n,r){t.child=null===e?ws(t,null,n,r):xs(t,e.child,n,r)}function wi(e,t,n,r,a){n=n.render;var s=t.ref;return Is(t,a),r=go(e,t,n,r,s,a),n=yo(),null===e||vi?(as&&n&&es(t),t.flags|=1,xi(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,qi(e,t,a))}function ki(e,t,n,r,a){if(null===e){var s=n.type;return"function"!==typeof s||Lc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ac(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ni(e,t,s,r,a))}if(s=e.child,0===(e.lanes&a)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return qi(e,t,a)}return t.flags|=1,(e=Rc(s,r)).ref=t.ref,e.return=t,t.child=e}function Ni(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(vi=!1,t.pendingProps=r=s,0===(e.lanes&a))return t.lanes=e.lanes,qi(e,t,a);0!==(131072&e.flags)&&(vi=!0)}}return Si(e,t,n,r,a)}function ji(e,t,n){var r=t.pendingProps,a=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sa(Rl,Ll),Ll|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Sa(Rl,Ll),Ll|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Sa(Rl,Ll),Ll|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Sa(Rl,Ll),Ll|=r;return xi(e,t,a,n),t.child}function Ci(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Si(e,t,n,r,a){var s=La(n)?Ta:Ea.current;return s=Pa(t,s),Is(t,a),n=go(e,t,n,r,s,a),r=yo(),null===e||vi?(as&&r&&es(t),t.flags|=1,xi(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,qi(e,t,a))}function _i(e,t,n,r,a){if(La(n)){var s=!0;Ma(t)}else s=!1;if(Is(t,a),null===t.stateNode)Hi(e,t),oi(t,n,r),li(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,i=t.memoizedProps;o.props=i;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ts(c):c=Pa(t,c=La(n)?Ta:Ea.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i!==r||l!==c)&&ii(t,o,r,c),Os=!1;var h=t.memoizedState;o.state=h,Bs(t,r,o,a),l=t.memoizedState,i!==r||h!==l||Ia.current||Os?("function"===typeof u&&(ri(t,n,u,r),l=t.memoizedState),(i=Os||si(t,n,i,r,h,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=i):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ds(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:ni(t.type,i),o.props=c,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ts(l):l=Pa(t,l=La(n)?Ta:Ea.current);var m=n.getDerivedStateFromProps;(u="function"===typeof m||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i!==d||h!==l)&&ii(t,o,r,l),Os=!1,h=t.memoizedState,o.state=h,Bs(t,r,o,a);var f=t.memoizedState;i!==d||h!==f||Ia.current||Os?("function"===typeof m&&(ri(t,n,m,r),f=t.memoizedState),(c=Os||si(t,n,c,r,h,f,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ei(e,t,n,r,s,a)}function Ei(e,t,n,r,a,s){Ci(e,t);var o=0!==(128&t.flags);if(!r&&!o)return a&&Da(t,n,!1),qi(e,t,s);r=t.stateNode,bi.current=t;var i=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=xs(t,e.child,null,s),t.child=xs(t,null,i,s)):xi(e,t,i,s),t.memoizedState=r.state,a&&Da(t,n,!0),t.child}function Ii(e){var t=e.stateNode;t.pendingContext?Aa(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Aa(0,t.context,!1),Ks(e,t.containerInfo)}function Ti(e,t,n,r,a){return ms(),fs(a),t.flags|=256,xi(e,t,n,r),t.child}var Pi,Li,Ri,Ai,Oi={dehydrated:null,treeContext:null,retryLane:0};function Mi(e){return{baseLanes:e,cachePool:null,transitions:null}}function Di(e,t,n){var r,a=t.pendingProps,o=Zs.current,i=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Sa(Zs,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,i?(a=t.mode,i=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==i?(i.childLanes=0,i.pendingProps=l):i=Mc(l,a,0,null),e=Oc(e,a,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Mi(n),t.memoizedState=Oi,e):Fi(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,a,o,i){if(n)return 256&t.flags?(t.flags&=-257,zi(e,t,i,r=ui(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=Mc({mode:"visible",children:r.children},a,0,null),(o=Oc(o,a,i,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&xs(t,e.child,null,i),t.child.memoizedState=Mi(i),t.memoizedState=Oi,o);if(0===(1&t.mode))return zi(e,t,i,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,zi(e,t,i,r=ui(o=Error(s(419)),r,void 0))}if(l=0!==(i&e.childLanes),vi||l){if(null!==(r=Il)){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|i))?0:a)&&a!==o.retryLane&&(o.retryLane=a,As(e,a),nc(r,e,a,-1))}return pc(),zi(e,t,i,r=ui(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=_c.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,rs=ca(a.nextSibling),ns=t,as=!0,ss=null,null!==e&&(Ja[Qa++]=$a,Ja[Qa++]=Ya,Ja[Qa++]=Ka,$a=e.id,Ya=e.overflow,Ka=t),t=Fi(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,o,n);if(i){i=a.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==o?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Rc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?i=Rc(r,i):(i=Oc(i,l,n,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,l=null===(l=e.child.memoizedState)?Mi(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=Oi,a}return e=(i=e.child).sibling,a=Rc(i,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Fi(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zi(e,t,n,r){return null!==r&&fs(r),xs(t,e.child,null,n),(e=Fi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ui(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Es(e.return,t,n)}function Vi(e,t,n,r,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function Bi(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(xi(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ui(e,n,t);else if(19===e.tag)Ui(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Sa(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Vi(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===eo(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Vi(t,!0,n,null,s);break;case"together":Vi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wi(e,t){if(!as)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gi(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ji(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gi(t),null;case 1:case 17:return La(t.type)&&Ra(),Gi(t),null;case 3:return r=t.stateNode,$s(),Ca(Ia),Ca(Ea),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(oc(ss),ss=null))),Li(e,t),Gi(t),null;case 5:Xs(t);var a=Qs(Js.current);if(n=t.type,null!==e&&null!=t.stateNode)Ri(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Gi(t),null}if(e=Qs(Ws.current),ds(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ha]=t,r[ma]=o,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(a=0;a<Or.length;a++)zr(Or[a],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":$(r,o),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},zr("invalid",r);break;case"textarea":ae(r,o),zr("invalid",r)}for(var l in be(n,o),a=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),a=["children",""+c]):i.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ha]=t,e[ma]=r,Pi(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(n,r),n){case"dialog":zr("cancel",e),zr("close",e),a=r;break;case"iframe":case"object":case"embed":zr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Or.length;a++)zr(Or[a],e);a=r;break;case"source":zr("error",e),a=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),a=r;break;case"details":zr("toggle",e),a=r;break;case"input":$(e,r),a=K(e,r),zr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=D({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),zr("invalid",e)}for(o in be(n,a),c=a)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(i.hasOwnProperty(o)?null!=u&&"onScroll"===o&&zr("scroll",e):null!=u&&v(e,o,u,l))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gi(t),null;case 6:if(e&&null!=t.stateNode)Ai(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Qs(Js.current),Qs(Ws.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[ha]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ha]=t,t.stateNode=r}return Gi(t),null;case 13:if(Ca(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(as&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),ms(),t.flags|=98560,o=!1;else if(o=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[ha]=t}else ms(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gi(t),o=!1}else null!==ss&&(oc(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Al&&(Al=3):pc())),null!==t.updateQueue&&(t.flags|=4),Gi(t),null);case 4:return $s(),Li(e,t),null===e&&Br(t.stateNode.containerInfo),Gi(t),null;case 10:return _s(t.type._context),Gi(t),null;case 19:if(Ca(Zs),null===(o=t.memoizedState))return Gi(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Wi(o,!1);else{if(0!==Al||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Wi(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Sa(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>Bl&&(t.flags|=128,r=!0,Wi(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wi(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!as)return Gi(t),null}else 2*Ye()-o.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,Wi(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=Zs.current,Sa(Zs,r?1&n|2:1&n),t):(Gi(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ll)&&(Gi(t),6&t.subtreeFlags&&(t.flags|=8192)):Gi(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Qi(e,t){switch(ts(t),t.tag){case 1:return La(t.type)&&Ra(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $s(),Ca(Ia),Ca(Ea),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xs(t),null;case 13:if(Ca(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ms()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ca(Zs),null;case 4:return $s(),null;case 10:return _s(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Pi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Li=function(){},Ri=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Qs(Ws.current);var s,o=null;switch(n){case"input":a=K(e,a),r=K(e,r),o=[];break;case"select":a=D({},a,{value:void 0}),r=D({},r,{value:void 0}),o=[];break;case"textarea":a=re(e,a),r=re(e,r),o=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in be(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(i.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(i.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Ai=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ki=!1,$i=!1,Yi="function"===typeof WeakSet?WeakSet:Set,Xi=null;function Zi(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){jc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){jc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&el(t,n,s)}a=a.next}while(a!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ha],delete t[ma],delete t[pa],delete t[ga],delete t[ya])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function il(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)ml(e,t,n),n=n.sibling}function ml(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(at,n)}catch(i){}switch(n.tag){case 5:$i||Zi(n,t);case 6:var r=ul,a=dl;ul=null,hl(e,t,n),dl=a,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),Bt(e)):la(ul,n.stateNode));break;case 4:r=ul,a=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=a;break;case 0:case 11:case 14:case 15:if(!$i&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var s=a,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&el(n,t,o),a=a.next}while(a!==r)}hl(e,t,n);break;case 1:if(!$i&&(Zi(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){jc(n,t,i)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?($i=(r=$i)||null!==n.memoizedState,hl(e,t,n),$i=r):hl(e,t,n);break;default:hl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Yi),t.forEach(function(t){var r=Ec.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function pl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var o=e,i=t,l=i;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(s(160));ml(o,i,a),ul=null,dl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){jc(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pl(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){jc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){jc(e,e.return,g)}}break;case 1:pl(t,e),yl(e),512&r&&null!==n&&Zi(n,n.return);break;case 5:if(pl(t,e),yl(e),512&r&&null!==n&&Zi(n,n.return),32&e.flags){var a=e.stateNode;try{he(a,"")}catch(g){jc(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var o=e.memoizedProps,i=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&Y(a,o),ve(l,i);var u=ve(l,o);for(i=0;i<c.length;i+=2){var d=c[i],h=c[i+1];"style"===d?ge(a,h):"dangerouslySetInnerHTML"===d?de(a,h):"children"===d?he(a,h):v(a,d,h,u)}switch(l){case"input":X(a,o);break;case"textarea":se(a,o);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var f=o.value;null!=f?ne(a,!!o.multiple,f,!1):m!==!!o.multiple&&(null!=o.defaultValue?ne(a,!!o.multiple,o.defaultValue,!0):ne(a,!!o.multiple,o.multiple?[]:"",!1))}a[ma]=o}catch(g){jc(e,e.return,g)}}break;case 6:if(pl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(g){jc(e,e.return,g)}}break;case 3:if(pl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){jc(e,e.return,g)}break;case 4:default:pl(t,e),yl(e);break;case 13:pl(t,e),yl(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(Vl=Ye())),4&r&&fl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?($i=(u=$i)||d,pl(t,e),$i=u):pl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Xi=e,d=e.child;null!==d;){for(h=Xi=d;null!==Xi;){switch(f=(m=Xi).child,m.tag){case 0:case 11:case 14:case 15:nl(4,m,m.return);break;case 1:Zi(m,m.return);var p=m.stateNode;if("function"===typeof p.componentWillUnmount){r=m,n=m.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){jc(r,n,g)}}break;case 5:Zi(m,m.return);break;case 22:if(null!==m.memoizedState){wl(h);continue}}null!==f?(f.return=m,Xi=f):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{a=h.stateNode,u?"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,i=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",i))}catch(g){jc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){jc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:pl(t,e),yl(e),4&r&&fl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(he(a,""),r.flags&=-33),cl(e,il(e),a);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,il(e),o);break;default:throw Error(s(161))}}catch(i){jc(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Xi=e,vl(e,t,n)}function vl(e,t,n){for(var r=0!==(1&e.mode);null!==Xi;){var a=Xi,s=a.child;if(22===a.tag&&r){var o=null!==a.memoizedState||Ki;if(!o){var i=a.alternate,l=null!==i&&null!==i.memoizedState||$i;i=Ki;var c=$i;if(Ki=o,($i=l)&&!c)for(Xi=a;null!==Xi;)l=(o=Xi).child,22===o.tag&&null!==o.memoizedState?kl(a):null!==l?(l.return=o,Xi=l):kl(a);for(;null!==s;)Xi=s,vl(s,t,n),s=s.sibling;Xi=a,Ki=i,$i=c}xl(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,Xi=s):xl(e)}}function xl(e){for(;null!==Xi;){var t=Xi;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$i||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$i)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ni(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Hs(t,o,r);break;case 3:var i=t.updateQueue;if(null!==i){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hs(t,i,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(s(163))}$i||512&t.flags&&al(t)}catch(m){jc(t,t.return,m)}}if(t===e){Xi=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xi=n;break}Xi=t.return}}function wl(e){for(;null!==Xi;){var t=Xi;if(t===e){Xi=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xi=n;break}Xi=t.return}}function kl(e){for(;null!==Xi;){var t=Xi;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){jc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){jc(t,a,l)}}var s=t.return;try{al(t)}catch(l){jc(t,s,l)}break;case 5:var o=t.return;try{al(t)}catch(l){jc(t,o,l)}}}catch(l){jc(t,t.return,l)}if(t===e){Xi=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Xi=i;break}Xi=t.return}}var Nl,jl=Math.ceil,Cl=x.ReactCurrentDispatcher,Sl=x.ReactCurrentOwner,_l=x.ReactCurrentBatchConfig,El=0,Il=null,Tl=null,Pl=0,Ll=0,Rl=ja(0),Al=0,Ol=null,Ml=0,Dl=0,Fl=0,zl=null,Ul=null,Vl=0,Bl=1/0,Hl=null,ql=!1,Wl=null,Gl=null,Jl=!1,Ql=null,Kl=0,$l=0,Yl=null,Xl=-1,Zl=0;function ec(){return 0!==(6&El)?Ye():-1!==Xl?Xl:Xl=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&El)&&0!==Pl?Pl&-Pl:null!==ps.transition?(0===Zl&&(Zl=pt()),Zl):0!==(e=vt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nc(e,t,n,r){if(50<$l)throw $l=0,Yl=null,Error(s(185));yt(e,n,r),0!==(2&El)&&e===Il||(e===Il&&(0===(2&El)&&(Dl|=n),4===Al&&ic(e,Pl)),rc(e,r),1===n&&0===El&&0===(1&t.mode)&&(Bl=Ye()+500,za&&Ba()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),i=1<<o,l=a[o];-1===l?0!==(i&n)&&0===(i&r)||(a[o]=mt(i,t)):l<=t&&(e.expiredLanes|=i),s&=~i}}(e,t);var r=ht(e,e===Il?Pl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){za=!0,Va(e)}(lc.bind(null,e)):Va(lc.bind(null,e)),oa(function(){0===(6&El)&&Ba()}),n=null;else{switch(xt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ic(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Xl=-1,Zl=0,0!==(6&El))throw Error(s(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var r=ht(e,e===Il?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var a=El;El|=2;var o=fc();for(Il===e&&Pl===t||(Hl=null,Bl=Ye()+500,hc(e,t));;)try{bc();break}catch(l){mc(e,l)}Ss(),Cl.current=o,El=a,null!==Tl?t=0:(Il=null,Pl=0,t=Al)}if(0!==t){if(2===t&&(0!==(a=ft(e))&&(r=a,t=sc(e,a))),1===t)throw n=Ol,hc(e,0),ic(e,r),rc(e,Ye()),n;if(6===t)ic(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!ir(s(),a))return!1}catch(i){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=gc(e,r))&&(0!==(o=ft(e))&&(r=o,t=sc(e,o))),1===t))throw n=Ol,hc(e,0),ic(e,r),rc(e,Ye()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:wc(e,Ul,Hl);break;case 3:if(ic(e,r),(130023424&r)===r&&10<(t=Vl+500-Ye())){if(0!==ht(e,0))break;if(((a=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(wc.bind(null,e,Ul,Hl),t);break}wc(e,Ul,Hl);break;case 4:if(ic(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var i=31-ot(r);o=1<<i,(i=t[i])>a&&(a=i),r&=~o}if(r=a,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jl(r/1960))-r)){e.timeoutHandle=ra(wc.bind(null,e,Ul,Hl),r);break}wc(e,Ul,Hl);break;default:throw Error(s(329))}}}return rc(e,Ye()),e.callbackNode===n?ac.bind(null,e):null}function sc(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Ul,Ul=n,null!==t&&oc(t)),e}function oc(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function ic(e,t){for(t&=~Fl,t&=~Dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&El))throw Error(s(327));kc();var t=ht(e,0);if(0===(1&t))return rc(e,Ye()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Ol,hc(e,0),ic(e,t),rc(e,Ye()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Ul,Hl),rc(e,Ye()),null}function cc(e,t){var n=El;El|=1;try{return e(t)}finally{0===(El=n)&&(Bl=Ye()+500,za&&Ba())}}function uc(e){null!==Ql&&0===Ql.tag&&0===(6&El)&&kc();var t=El;El|=1;var n=_l.transition,r=vt;try{if(_l.transition=null,vt=1,e)return e()}finally{vt=r,_l.transition=n,0===(6&(El=t))&&Ba()}}function dc(){Ll=Rl.current,Ca(Rl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Tl)for(n=Tl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ra();break;case 3:$s(),Ca(Ia),Ca(Ea),no();break;case 5:Xs(r);break;case 4:$s();break;case 13:case 19:Ca(Zs);break;case 10:_s(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Il=e,Tl=e=Rc(e.current,null),Pl=Ll=t,Al=0,Ol=null,Fl=Dl=Ml=0,Ul=zl=null,null!==Ps){for(t=0;t<Ps.length;t++)if(null!==(r=(n=Ps[t]).interleaved)){n.interleaved=null;var a=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=a,r.next=o}n.pending=r}Ps=null}return e}function mc(e,t){for(;;){var n=Tl;try{if(Ss(),ro.current=Xo,co){for(var r=oo.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}co=!1}if(so=0,lo=io=oo=null,uo=!1,ho=0,Sl.current=null,null===n||null===n.return){Al=1,Ol=t,Tl=null;break}e:{var o=e,i=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=gi(i);if(null!==f){f.flags&=-257,yi(f,i,l,0,t),1&f.mode&&pi(o,u,t),c=u;var p=(t=f).updateQueue;if(null===p){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}if(0===(1&t)){pi(o,u,t),pc();break e}c=Error(s(426))}else if(as&&1&l.mode){var y=gi(i);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),yi(y,i,l,0,t),fs(ci(c,l));break e}}o=c=ci(c,l),4!==Al&&(Al=2),null===zl?zl=[o]:zl.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Vs(o,mi(0,c,t));break e;case 1:l=c;var b=o.type,v=o.stateNode;if(0===(128&o.flags)&&("function"===typeof b.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Gl||!Gl.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t,Vs(o,fi(o,l,t));break e}}o=o.return}while(null!==o)}xc(n)}catch(x){t=x,Tl===n&&null!==n&&(Tl=n=n.return);continue}break}}function fc(){var e=Cl.current;return Cl.current=Xo,null===e?Xo:e}function pc(){0!==Al&&3!==Al&&2!==Al||(Al=4),null===Il||0===(268435455&Ml)&&0===(268435455&Dl)||ic(Il,Pl)}function gc(e,t){var n=El;El|=2;var r=fc();for(Il===e&&Pl===t||(Hl=null,hc(e,t));;)try{yc();break}catch(a){mc(e,a)}if(Ss(),El=n,Cl.current=r,null!==Tl)throw Error(s(261));return Il=null,Pl=0,Al}function yc(){for(;null!==Tl;)vc(Tl)}function bc(){for(;null!==Tl&&!Ke();)vc(Tl)}function vc(e){var t=Nl(e.alternate,e,Ll);e.memoizedProps=e.pendingProps,null===t?xc(e):Tl=t,Sl.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ji(n,t,Ll)))return void(Tl=n)}else{if(null!==(n=Qi(n,t)))return n.flags&=32767,void(Tl=n);if(null===e)return Al=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===Al&&(Al=5)}function wc(e,t,n){var r=vt,a=_l.transition;try{_l.transition=null,vt=1,function(e,t,n,r){do{kc()}while(null!==Ql);if(0!==(6&El))throw Error(s(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-ot(n),s=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~s}}(e,o),e===Il&&(Tl=Il=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Jl||(Jl=!0,Ic(tt,function(){return kc(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=_l.transition,_l.transition=null;var i=vt;vt=1;var l=El;El|=4,Sl.current=null,function(e,t){if(ea=qt,mr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var i=0,l=-1,c=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var f;h!==n||0!==a&&3!==h.nodeType||(l=i+a),h!==o||0!==r&&3!==h.nodeType||(c=i+r),3===h.nodeType&&(i+=h.nodeValue.length),null!==(f=h.firstChild);)m=h,h=f;for(;;){if(h===e)break t;if(m===n&&++u===a&&(l=i),m===o&&++d===r&&(c=i),null!==(f=h.nextSibling))break;m=(h=m).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},qt=!1,Xi=t;null!==Xi;)if(e=(t=Xi).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xi=e;else for(;null!==Xi;){t=Xi;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var g=p.memoizedProps,y=p.memoizedState,b=t.stateNode,v=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:ni(t.type,g),y);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(s(163))}}catch(w){jc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xi=e;break}Xi=t.return}p=tl,tl=!1}(e,n),gl(n,e),fr(ta),qt=!!ea,ta=ea=null,e.current=n,bl(n,e,a),$e(),El=l,vt=i,_l.transition=o}else e.current=n;if(Jl&&(Jl=!1,Ql=e,Kl=a),o=e.pendingLanes,0===o&&(Gl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(ql)throw ql=!1,e=Wl,Wl=null,e;0!==(1&Kl)&&0!==e.tag&&kc(),o=e.pendingLanes,0!==(1&o)?e===Yl?$l++:($l=0,Yl=e):$l=0,Ba()}(e,t,n,r)}finally{_l.transition=a,vt=r}return null}function kc(){if(null!==Ql){var e=xt(Kl),t=_l.transition,n=vt;try{if(_l.transition=null,vt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Kl=0,0!==(6&El))throw Error(s(331));var a=El;for(El|=4,Xi=e.current;null!==Xi;){var o=Xi,i=o.child;if(0!==(16&Xi.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Xi=u;null!==Xi;){var d=Xi;switch(d.tag){case 0:case 11:case 15:nl(8,d,o)}var h=d.child;if(null!==h)h.return=d,Xi=h;else for(;null!==Xi;){var m=(d=Xi).sibling,f=d.return;if(sl(d),d===u){Xi=null;break}if(null!==m){m.return=f,Xi=m;break}Xi=f}}}var p=o.alternate;if(null!==p){var g=p.child;if(null!==g){p.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Xi=o}}if(0!==(2064&o.subtreeFlags)&&null!==i)i.return=o,Xi=i;else e:for(;null!==Xi;){if(0!==(2048&(o=Xi).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var b=o.sibling;if(null!==b){b.return=o.return,Xi=b;break e}Xi=o.return}}var v=e.current;for(Xi=v;null!==Xi;){var x=(i=Xi).child;if(0!==(2064&i.subtreeFlags)&&null!==x)x.return=i,Xi=x;else e:for(i=v;null!==Xi;){if(0!==(2048&(l=Xi).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(k){jc(l,l.return,k)}if(l===i){Xi=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Xi=w;break e}Xi=l.return}}if(El=a,Ba(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(at,e)}catch(k){}r=!0}return r}finally{vt=n,_l.transition=t}}return!1}function Nc(e,t,n){e=zs(e,t=mi(0,t=ci(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function jc(e,t,n){if(3===e.tag)Nc(e,e,n);else for(;null!==t;){if(3===t.tag){Nc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=zs(t,e=fi(t,e=ci(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Il===e&&(Pl&n)===n&&(4===Al||3===Al&&(130023424&Pl)===Pl&&500>Ye()-Vl?hc(e,0):Fl|=n),rc(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=As(e,t))&&(yt(e,t,n),rc(e,n))}function _c(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function Ec(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Sc(e,n)}function Ic(e,t){return Je(e,t)}function Tc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Tc(e,t,n,r)}function Lc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ac(e,t,n,r,a,o){var i=2;if(r=e,"function"===typeof e)Lc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case N:return Oc(n.children,a,o,t);case j:i=8,a|=8;break;case C:return(e=Pc(12,n,t,2|a)).elementType=C,e.lanes=o,e;case I:return(e=Pc(13,n,t,a)).elementType=I,e.lanes=o,e;case T:return(e=Pc(19,n,t,a)).elementType=T,e.lanes=o,e;case R:return Mc(n,a,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:i=10;break e;case _:i=9;break e;case E:i=11;break e;case P:i=14;break e;case L:i=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Pc(i,n,t,a)).elementType=e,t.type=r,t.lanes=o,t}function Oc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Dc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,a,s,o,i,l){return e=new zc(e,t,n,i,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Pc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ms(s),e}function Vc(e){if(!e)return _a;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(La(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(La(n))return Oa(e,n,t)}return t}function Bc(e,t,n,r,a,s,o,i,l){return(e=Uc(n,r,!0,e,0,s,0,i,l)).context=Vc(null),n=e.current,(s=Fs(r=ec(),a=tc(n))).callback=void 0!==t&&null!==t?t:null,zs(n,s,a),e.current.lanes=a,yt(e,a,r),rc(e,r),e}function Hc(e,t,n,r){var a=t.current,s=ec(),o=tc(a);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fs(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=zs(a,t,o))&&(nc(e,a,o,s),Us(e,a,o)),o}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Nl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ia.current)vi=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return vi=!1,function(e,t,n){switch(t.tag){case 3:Ii(t),ms();break;case 5:Ys(t);break;case 1:La(t.type)&&Ma(t);break;case 4:Ks(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Sa(ks,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Sa(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Di(e,t,n):(Sa(Zs,1&Zs.current),null!==(e=qi(e,t,n))?e.sibling:null);Sa(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bi(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Sa(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,ji(e,t,n)}return qi(e,t,n)}(e,t,n);vi=0!==(131072&e.flags)}else vi=!1,as&&0!==(1048576&t.flags)&&Za(t,Ga,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hi(e,t),e=t.pendingProps;var a=Pa(t,Ea.current);Is(t,n),a=go(null,t,r,e,a,n);var o=yo();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,La(r)?(o=!0,Ma(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ms(t),a.updater=ai,t.stateNode=a,a._reactInternals=t,li(t,r,e,n),t=Ei(null,t,r,!0,o,n)):(t.tag=0,as&&o&&es(t),xi(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hi(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Lc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===P)return 14}return 2}(r),e=ni(r,e),a){case 0:t=Si(null,t,r,e,n);break e;case 1:t=_i(null,t,r,e,n);break e;case 11:t=wi(null,t,r,e,n);break e;case 14:t=ki(null,t,r,ni(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Si(e,t,r,a=t.elementType===r?a:ni(r,a),n);case 1:return r=t.type,a=t.pendingProps,_i(e,t,r,a=t.elementType===r?a:ni(r,a),n);case 3:e:{if(Ii(t),null===e)throw Error(s(387));r=t.pendingProps,a=(o=t.memoizedState).element,Ds(e,t),Bs(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ti(e,t,r,n,a=ci(Error(s(423)),t));break e}if(r!==a){t=Ti(e,t,r,n,a=ci(Error(s(424)),t));break e}for(rs=ca(t.stateNode.containerInfo.firstChild),ns=t,as=!0,ss=null,n=ws(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ms(),r===a){t=qi(e,t,n);break e}xi(e,t,r,n)}t=t.child}return t;case 5:return Ys(t),null===e&&cs(t),r=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,i=a.children,na(r,a)?i=null:null!==o&&na(r,o)&&(t.flags|=32),Ci(e,t),xi(e,t,i,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Di(e,t,n);case 4:return Ks(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xs(t,null,r,n):xi(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,wi(e,t,r,a=t.elementType===r?a:ni(r,a),n);case 7:return xi(e,t,t.pendingProps,n),t.child;case 8:case 12:return xi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,Sa(ks,r._currentValue),r._currentValue=i,null!==o)if(ir(o.value,i)){if(o.children===a.children&&!Ia.current){t=qi(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){i=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Fs(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Es(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)i=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(i=o.return))throw Error(s(341));i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),Es(i,n,t),i=o.sibling}else i=o.child;if(null!==i)i.return=o;else for(i=o;null!==i;){if(i===t){i=null;break}if(null!==(o=i.sibling)){o.return=i.return,i=o;break}i=i.return}o=i}xi(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Is(t,n),r=r(a=Ts(a)),t.flags|=1,xi(e,t,r,n),t.child;case 14:return a=ni(r=t.type,t.pendingProps),ki(e,t,r,a=ni(r.type,a),n);case 15:return Ni(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ni(r,a),Hi(e,t),t.tag=1,La(r)?(e=!0,Ma(t)):e=!1,Is(t,n),oi(t,r,a),li(t,r,a,n),Ei(null,t,r,!0,e,n);case 19:return Bi(e,t,n);case 22:return ji(e,t,n)}throw Error(s(156,t.tag))};var Jc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Kc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,n,r,a){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof a){var i=a;a=function(){var e=qc(o);i.call(e)}}Hc(t,o,e,a)}else o=function(e,t,n,r,a){if(a){if("function"===typeof r){var s=r;r=function(){var e=qc(o);s.call(e)}}var o=Bc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=o,e[fa]=o.current,Br(8===e.nodeType?e.parentNode:e),uc(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var i=r;r=function(){var e=qc(l);i.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[fa]=l.current,Br(8===e.nodeType?e.parentNode:e),uc(function(){Hc(t,l,n,r)}),l}(n,t,e,a,r);return qc(o)}Kc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Hc(e,t,null,null)},Kc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Hc(null,e,null,null)}),t[fa]=null}},Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=jt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Dt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(bt(t,1|n),rc(t,Ye()),0===(6&El)&&(Bl=Ye()+500,Ba()))}break;case 13:uc(function(){var t=As(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Gc(e,1)}},kt=function(e){if(13===e.tag){var t=As(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=tc(e),n=As(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},jt=function(){return vt},Ct=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},ke=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=wa(r);if(!a)throw Error(s(90));J(r),X(r,a)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=cc,Ie=uc;var eu={usingClientEntryPoint:!1,Events:[va,xa,wa,Se,_e,cc]},tu={findFiberByHostInstance:ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{at=ru.inject(nu),st=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(s(299));var n=!1,r="",a=Jc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,a),e[fa]=t.current,Br(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(s(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,a=!1,o="",i=Jc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,a,0,o,i),e[fa]=t.current,Br(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Kc(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(s(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(s(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[fa]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}();var r=n(43),a=n(391);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function o(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}function i(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const d=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},h=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var m={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const f=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],p=(0,r.forwardRef)((e,t)=>{let{color:n="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:i="",children:l,iconNode:d}=e,p=u(e,f);return(0,r.createElement)("svg",c(c(c({ref:t},m),{},{width:a,height:a,stroke:n,strokeWidth:o?24*Number(s)/Number(a):s,className:h("lucide",i)},!l&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(p)&&{"aria-hidden":"true"}),p),[...d.map(e=>{let[t,n]=e;return(0,r.createElement)(t,n)}),...Array.isArray(l)?l:[l]])}),g=["className"],y=(e,t)=>{const n=(0,r.forwardRef)((n,a)=>{let{className:s}=n,o=u(n,g);return(0,r.createElement)(p,c({ref:a,iconNode:t,className:h("lucide-".concat((i=d(e),i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),s)},o));var i});return n.displayName=d(e),n},b=y("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),v=y("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),x=y("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),w=y("clipboard-list",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),k=y("calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),N=y("map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]),j=y("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),C=y("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]),S=y("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),_=y("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),E=y("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),I=y("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);let T="https://script.google.com/macros/s/AKfycbweOri4v6JDVEsMnU2KbxiQ2_MicbaltR49-cqYwwT2J8YE1dbLhd_Klc5AuUThJjpNZA/exec";T&&T.includes("REACT_APP_GAS_WEB_APP_URL=")&&(T=T.split("REACT_APP_GAS_WEB_APP_URL=")[1]),T&&!T.startsWith("http")&&(T="https://"+T.replace(/^\/+/,""));const P=new class{constructor(e){this.baseURL=e}async makeRequest(e,t){if(!this.baseURL)return{success:!1,message:"API endpoint is not configured."};try{const r=await fetch(this.baseURL,{method:"POST",mode:"cors",credentials:"omit",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify(c({action:e},t))});if(!r.ok)throw new Error("Server responded with status: ".concat(r.status));const a=await r.text();try{const e=JSON.parse(a);if(!1===e.success)throw new Error(e.message||"An unknown backend error occurred.");return e}catch(n){throw new Error("Invalid server response. The backend may have crashed.")}}catch(r){return{success:!1,message:"Network error: ".concat(r.message)}}}fetchLeads(){return this.makeRequest("getLeads",{})}addLead(e){return this.makeRequest("addLead",{lead:e})}updateLead(e){return this.makeRequest("updateLead",{lead:e})}deleteLead(e){return this.makeRequest("deleteLead",{leadId:e})}fetchJobCounts(){return this.makeRequest("getJobCounts",{})}addJobCount(e){return this.makeRequest("addJobCount",{jobCount:e})}updateJobCount(e){return this.makeRequest("updateJobCount",{jobCount:e})}deleteJobCount(e){return this.makeRequest("deleteJobCount",{jobCountId:e})}testConnection(){return this.makeRequest("testConnection",{})}geocodeAddress(e){return this.makeRequest("geocodeAddress",{address:e})}calculateLomacoVents(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.makeRequest("calculateLomacoVents",{sqft:e,options:t})}batchCalculateVents(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.makeRequest("batchCalculateVents",{jobCountIds:e})}}(T);const L="https://script.google.com/macros/s/YOUR_SCRIPT_ID/exec";const R="crm_communications";function A(e){try{const t=JSON.parse(localStorage.getItem(R)||"[]");return t.push(c(c({},e),{},{id:Date.now().toString()})),localStorage.setItem(R,JSON.stringify(t)),{success:!0,data:e}}catch(t){throw console.error("Error saving to local storage:",t),t}}function O(){try{return JSON.parse(localStorage.getItem(R)||"[]")}catch(e){return console.error("Error reading from local storage:",e),[]}}function M(e){const[t,n]=(0,r.useState)([]),[a,s]=(0,r.useState)(!1),[o,i]=(0,r.useState)(null),l=(0,r.useCallback)(()=>{try{const e=O();return n(e),e}catch(e){return console.error("Error loading communications from local storage:",e),[]}},[]);(0,r.useEffect)(()=>{l()},[l]);const c=(0,r.useCallback)(async t=>{s(!0);try{await async function(e){try{return await fetch("".concat(L,"?action=addCommunication"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),mode:"no-cors"}),console.log("Communication logged successfully:",e),{success:!0,data:e}}catch(t){throw console.error("Error logging communication:",t),new Error("Failed to log communication")}}(t);const r=A(t);return n(e=>[...e,r.data]),e&&e("Communication logged successfully","success"),r.data}catch(r){console.error("Error adding communication:",r);try{const r=A(t);return n(e=>[...e,r.data]),e&&e("Communication saved locally (offline mode)","warning"),r.data}catch(a){throw e&&e("Failed to save communication","error"),a}}finally{s(!1)}},[e]),u=(0,r.useCallback)(async e=>{s(!0);try{const t=await async function(e){try{return await fetch("".concat(L,"?action=getCommunications&leadId=").concat(e),{method:"GET",mode:"no-cors"}),console.log("Fetching communications for lead:",e),[]}catch(t){return console.error("Error fetching communications:",t),[]}}(e);if(!t||0===t.length){const t=O();return t.filter(t=>t.leadId===e)}return t}catch(t){console.error("Error fetching communications for lead:",t);return O().filter(t=>t.leadId===e)}finally{s(!1)}},[]),d=(0,r.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7;s(!0);try{const t=await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7;try{return await fetch("".concat(L,"?action=getRecentCommunications&days=").concat(e),{method:"GET",mode:"no-cors"}),console.log("Fetching communications from last ".concat(e," days")),[]}catch(t){return console.error("Error fetching recent communications:",t),[]}}(e);if(!t||0===t.length){const t=O(),r=new Date;r.setDate(r.getDate()-e);const a=t.filter(e=>new Date(e.dateTime)>=r);return n(a),a}return n(t),t}catch(t){console.error("Error fetching recent communications:",t);const r=O(),a=new Date;a.setDate(a.getDate()-e);const s=r.filter(e=>new Date(e.dateTime)>=a);return n(s),s}finally{s(!1)}},[]);return{communications:t,loading:a,stats:o,addCommunication:c,getForLead:u,getRecent:d,getStats:(0,r.useCallback)(async()=>{s(!0);try{const e=await async function(){try{return await fetch("".concat(L,"?action=getCommunicationStats"),{method:"GET",mode:"no-cors"}),console.log("Fetching communication statistics"),{totalCalls:0,totalSMS:0,totalEmails:0,appointmentsConfirmed:0,noAnswers:0,voicemailsLeft:0}}catch(e){return console.error("Error fetching communication stats:",e),null}}();if(!e){const e=O(),t={totalCalls:e.filter(e=>"Call"===e.communicationType).length,totalSMS:e.filter(e=>"SMS"===e.communicationType).length,totalEmails:e.filter(e=>"Email"===e.communicationType).length,appointmentsConfirmed:e.filter(e=>{var t;return"Completed"===e.status&&(null===(t=e.notes)||void 0===t?void 0:t.includes("confirmed"))}).length,noAnswers:e.filter(e=>"No Answer"===e.status).length,voicemailsLeft:e.filter(e=>"Left Voicemail"===e.status).length};return i(t),t}return i(e),e}catch(e){return console.error("Error fetching communication stats:",e),null}finally{s(!1)}},[]),removeCommunication:(0,r.useCallback)(async t=>{s(!0);try{await async function(e){try{return await fetch("".concat(L,"?action=deleteCommunication&id=").concat(e),{method:"DELETE",mode:"no-cors"}),console.log("Communication deleted:",e),{success:!0}}catch(t){throw console.error("Error deleting communication:",t),new Error("Failed to delete communication")}}(t),n(e=>e.filter(e=>e.id!==t)),e&&e("Communication deleted","success")}catch(r){throw console.error("Error deleting communication:",r),e&&e("Failed to delete communication","error"),r}finally{s(!1)}},[e]),loadFromLocal:l}}const D=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=63&a|128):55296===(64512&a)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++r)),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=63&a|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=63&a|128)}return t},F={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<e.length;a+=3){const t=e[a],s=a+1<e.length,o=s?e[a+1]:0,i=a+2<e.length,l=i?e[a+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let d=(15&o)<<2|l>>6,h=63&l;i||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(D(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const s=e[n++];t[r++]=String.fromCharCode((31&a)<<6|63&s)}else if(a>239&&a<365){const s=((7&a)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&a)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<e.length;){const t=n[e.charAt(a++)],s=a<e.length?n[e.charAt(a)]:0;++a;const o=a<e.length?n[e.charAt(a)]:64;++a;const i=a<e.length?n[e.charAt(a)]:64;if(++a,null==t||null==s||null==o||null==i)throw new z;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==i){const e=o<<6&192|i;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class z extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const U=function(e){return function(e){const t=D(e);return F.encodeByteArray(t,!0)}(e).replace(/\./g,"")},V=function(e){try{return F.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const B=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,H=()=>{try{return B()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTH_CODE:"IAMBRANDON",REACT_APP_FIREBASE_API_KEY:"AIzaSyCa63Fy9PF-NV8C_z_5Qp7VWse5nRxRRJ8",REACT_APP_FIREBASE_APP_ID:"1:874590395925:web:41fff249ed9a7b349af81c",REACT_APP_FIREBASE_AUTH_DOMAIN:"crmbackend-470221.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-4BG7SZMK6K",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"874590395925",REACT_APP_FIREBASE_PROJECT_ID:"crmbackend-470221",REACT_APP_FIREBASE_STORAGE_BUCKET:"crmbackend-470221.firebasestorage.app",REACT_APP_GAS_WEB_APP_URL:"https://script.google.com/macros/s/AKfycbweOri4v6JDVEsMnU2KbxiQ2_MicbaltR49-cqYwwT2J8YE1dbLhd_Klc5AuUThJjpNZA/exec",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyA-IhqTEAOQMTU9DlEeUwt1_oM5yq3-sb4",REACT_APP_SHEET_NAME:"Bhotchleads",REACT_APP_SPREADSHEET_ID:"1E9VX7XI7GNGJa8Hq9__XAWv95WNgfJto1gUEXMbGqi0",REACT_APP_TWILIO_ACCOUNT_SID:"AC20e24f43ac063d43511d06c688b5ec06",REACT_APP_TWILIO_AUTH_TOKEN:"65cc837132a39a100d4b03a8a234f2ed",REACT_APP_TWILIO_PHONE_NUMBER:"+13852357204"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&V(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},q=e=>{var t,n;return null===(n=null===(t=H())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},W=()=>{var e;return null===(e=H())||void 0===e?void 0:e.config},G=e=>{var t;return null===(t=H())||void 0===t?void 0:t["_".concat(e)]};class J{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function Q(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}class K extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,K.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$.prototype.create)}}class ${constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],a=r?function(e,t){return e.replace(Y,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(a," (").concat(n,").");return new K(n,s,t)}}const Y=/\{\$([^}]+)}/g;function X(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const a of n){if(!r.includes(a))return!1;const n=e[a],s=t[a];if(Z(n)&&Z(s)){if(!X(n,s))return!1}else if(n!==s)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function Z(e){return null!==e&&"object"===typeof e}function ee(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function te(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function ne(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class re{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=ae),void 0===r.error&&(r.error=ae),void 0===r.complete&&(r.complete=ae);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),a}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ae(){}function se(e){return e&&e._delegate?e._delegate:e}class oe{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ie="[DEFAULT]";class le{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new J;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ie})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[a,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(a)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),a=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;a.add(e),this.onInitCallbacks.set(r,a);const s=this.instances.get(r);return s&&e(s,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const a of n)try{a(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(a=t,a===ie?void 0:a),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var a;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie;return this.component?this.component.multipleInstances?e:ie:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new le(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const ue=[];var de;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(de||(de={}));const he={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},me=de.INFO,fe={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},pe=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=fe[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var a=arguments.length,s=new Array(a>2?a-2:0),o=2;o<a;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class ge{constructor(e){this.name=e,this._logLevel=me,this._logHandler=pe,this._userLogHandler=null,ue.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?he[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...t),this._logHandler(this,de.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...t),this._logHandler(this,de.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,de.INFO,...t),this._logHandler(this,de.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,de.WARN,...t),this._logHandler(this,de.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,de.ERROR,...t),this._logHandler(this,de.ERROR,...t)}}let ye,be;const ve=new WeakMap,xe=new WeakMap,we=new WeakMap,ke=new WeakMap,Ne=new WeakMap;let je={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return xe.get(e);if("objectStoreNames"===t)return e.objectStoreNames||we.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _e(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ce(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(be||(be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ee(this),n),_e(ve.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _e(e.apply(Ee(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];const s=e.call(Ee(this),t,...r);return we.set(s,t.sort?t.sort():[t]),_e(s)}}function Se(e){return"function"===typeof e?Ce(e):(e instanceof IDBTransaction&&function(e){if(xe.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",s),e.removeEventListener("abort",s)},a=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",a),e.addEventListener("error",s),e.addEventListener("abort",s)});xe.set(e,t)}(e),t=e,(ye||(ye=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,je):e);var t}function _e(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",a),e.removeEventListener("error",s)},a=()=>{t(_e(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",a),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&ve.set(t,e)}).catch(()=>{}),Ne.set(t,e),t}(e);if(ke.has(e))return ke.get(e);const t=Se(e);return t!==e&&(ke.set(e,t),Ne.set(t,e)),t}const Ee=e=>Ne.get(e);const Ie=["get","getKey","getAll","getAllKeys","count"],Te=["put","add","delete","clear"],Pe=new Map;function Le(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Pe.get(t))return Pe.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=Te.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!a&&!Ie.includes(n))return;const s=async function(e){const t=this.transaction(e,a?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,i=new Array(o>1?o-1:0),l=1;l<o;l++)i[l-1]=arguments[l];return r&&(s=s.index(i.shift())),(await Promise.all([s[n](...i),a&&t.done]))[0]};return Pe.set(t,s),s}je=(e=>c(c({},e),{},{get:(t,n,r)=>Le(t,n)||e.get(t,n,r),has:(t,n)=>!!Le(t,n)||e.has(t,n)}))(je);class Re{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const Ae="@firebase/app",Oe="0.10.13",Me=new ge("@firebase/app"),De="@firebase/app-compat",Fe="@firebase/analytics-compat",ze="@firebase/analytics",Ue="@firebase/app-check-compat",Ve="@firebase/app-check",Be="@firebase/auth",He="@firebase/auth-compat",qe="@firebase/database",We="@firebase/data-connect",Ge="@firebase/database-compat",Je="@firebase/functions",Qe="@firebase/functions-compat",Ke="@firebase/installations",$e="@firebase/installations-compat",Ye="@firebase/messaging",Xe="@firebase/messaging-compat",Ze="@firebase/performance",et="@firebase/performance-compat",tt="@firebase/remote-config",nt="@firebase/remote-config-compat",rt="@firebase/storage",at="@firebase/storage-compat",st="@firebase/firestore",ot="@firebase/vertexai-preview",it="@firebase/firestore-compat",lt="firebase",ct="[DEFAULT]",ut={[Ae]:"fire-core",[De]:"fire-core-compat",[ze]:"fire-analytics",[Fe]:"fire-analytics-compat",[Ve]:"fire-app-check",[Ue]:"fire-app-check-compat",[Be]:"fire-auth",[He]:"fire-auth-compat",[qe]:"fire-rtdb",[We]:"fire-data-connect",[Ge]:"fire-rtdb-compat",[Je]:"fire-fn",[Qe]:"fire-fn-compat",[Ke]:"fire-iid",[$e]:"fire-iid-compat",[Ye]:"fire-fcm",[Xe]:"fire-fcm-compat",[Ze]:"fire-perf",[et]:"fire-perf-compat",[tt]:"fire-rc",[nt]:"fire-rc-compat",[rt]:"fire-gcs",[at]:"fire-gcs-compat",[st]:"fire-fst",[it]:"fire-fst-compat",[ot]:"fire-vertex","fire-js":"fire-js",[lt]:"fire-js-all"},dt=new Map,ht=new Map,mt=new Map;function ft(e,t){try{e.container.addComponent(t)}catch(n){Me.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function pt(e){const t=e.name;if(mt.has(t))return Me.debug("There were multiple attempts to register component ".concat(t,".")),!1;mt.set(t,e);for(const n of dt.values())ft(n,e);for(const n of ht.values())ft(n,e);return!0}function gt(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function yt(e){return void 0!==e.settings}const bt=new $("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class vt{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new oe("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bt.create("app-deleted",{appName:this._name})}}const xt="10.14.1";function wt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:ct,automaticDataCollectionEnabled:!1},t),a=r.name;if("string"!==typeof a||!a)throw bt.create("bad-app-name",{appName:String(a)});if(n||(n=W()),!n)throw bt.create("no-options");const s=dt.get(a);if(s){if(X(n,s.options)&&X(r,s.config))return s;throw bt.create("duplicate-app",{appName:a})}const o=new ce(a);for(const l of mt.values())o.addComponent(l);const i=new vt(n,r,o);return dt.set(a,i),i}function kt(e,t,n){var r;let a=null!==(r=ut[e])&&void 0!==r?r:e;n&&(a+="-".concat(n));const s=a.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(a,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(a,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Me.warn(e.join(" "))}pt(new oe("".concat(a,"-version"),()=>({library:a,version:t}),"VERSION"))}const Nt="firebase-heartbeat-store";let jt=null;function Ct(){return jt||(jt=function(e,t){let{blocked:n,upgrade:r,blocking:a,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),i=_e(o);return r&&o.addEventListener("upgradeneeded",e=>{r(_e(o.result),e.oldVersion,e.newVersion,_e(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),i.then(e=>{s&&e.addEventListener("close",()=>s()),a&&e.addEventListener("versionchange",e=>a(e.oldVersion,e.newVersion,e))}).catch(()=>{}),i}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Nt)}catch(n){console.warn(n)}}}).catch(e=>{throw bt.create("idb-open",{originalErrorMessage:e.message})})),jt}async function St(e,t){try{const n=(await Ct()).transaction(Nt,"readwrite"),r=n.objectStore(Nt);await r.put(t,_t(e)),await n.done}catch(n){if(n instanceof K)Me.warn(n.message);else{const e=bt.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Me.warn(e.message)}}}function _t(e){return"".concat(e.name,"!").concat(e.options.appId)}class Et{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Tt(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=It();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}catch(n){Me.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=It(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const a of e){const e=n.find(e=>e.agent===a.agent);if(e){if(e.dates.push(a.date),Pt(n)>t){e.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Pt(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),a=U(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Me.warn(t),""}}}function It(){return(new Date).toISOString().substring(0,10)}class Tt{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"===typeof indexedDB}catch(e){return!1}}()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var e;t((null===(e=a.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Ct()).transaction(Nt),n=await t.objectStore(Nt).get(_t(e));return await t.done,n}catch(t){if(t instanceof K)Me.warn(t.message);else{const e=bt.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});Me.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return St(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return St(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Pt(e){return U(JSON.stringify({version:2,heartbeats:e})).length}var Lt;Lt="",pt(new oe("platform-logger",e=>new Re(e),"PRIVATE")),pt(new oe("heartbeat",e=>new Et(e),"PRIVATE")),kt(Ae,Oe,Lt),kt(Ae,Oe,"esm2017"),kt("fire-js","");function Rt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function At(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ot=At,Mt=new $("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Dt=new ge("@firebase/auth");function Ft(e){if(Dt.logLevel<=de.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Dt.error("Auth (".concat(xt,"): ").concat(e),...n)}}function zt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ht(e,...n)}function Ut(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ht(e,...n)}function Vt(e,t,n){const r=Object.assign(Object.assign({},Ot()),{[t]:n});return new $("auth","Firebase",r).create(t,{appName:e.name})}function Bt(e){return Vt(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ht(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Mt.create(e,...n)}function qt(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];throw Ht(t,...r)}}function Wt(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Ft(t),new Error(t)}function Gt(e,t){e||Wt(t)}function Jt(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Qt(){return"http:"===Kt()||"https:"===Kt()}function Kt(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function $t(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Qt()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Yt{constructor(e,t){this.shortDelay=e,this.longDelay=t,Gt(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Q())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return $t()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Xt(e,t){Gt(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Zt{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Wt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Wt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Wt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const en={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},tn=new Yt(3e4,6e4);function nn(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function rn(e,t,n,r){return an(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let a={},s={};r&&("GET"===t?s=r:a={body:JSON.stringify(r)});const o=ee(Object.assign({key:e.config.apiKey},s)).slice(1),i=await e._getAdditionalHeaders();i["Content-Type"]="application/json",e.languageCode&&(i["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:i},a);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),Zt.fetch()(on(e,e.config.apiHost,n,o),l)})}async function an(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},en),t);try{const t=new cn(e),a=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw un(e,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const t=a.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw un(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw un(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw un(e,"user-disabled",s);const i=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Vt(e,i,o);zt(e,i)}}catch(a){if(a instanceof K)throw a;zt(e,"network-request-failed",{message:String(a)})}}async function sn(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await rn(e,t,n,r,a);return"mfaPendingCredential"in s&&zt(e,"multi-factor-auth-required",{_serverResponse:s}),s}function on(e,t,n,r){const a="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Xt(e.config,a):"".concat(e.config.apiScheme,"://").concat(a)}function ln(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class cn{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Ut(this.auth,"network-request-failed")),tn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function un(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Ut(e,t,r);return a.customData._tokenResponse=n,a}function dn(e){return void 0!==e&&void 0!==e.enterprise}class hn{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ln(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function mn(e,t){return rn(e,"GET","/v2/recaptchaConfig",nn(e,t))}async function fn(e,t){return rn(e,"POST","/v1/accounts:lookup",t)}function pn(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function gn(e){return 1e3*Number(e)}function yn(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Ft("JWT malformed, contained fewer than 3 sections"),null;try{const e=V(n);return e?JSON.parse(e):(Ft("Failed to decode base64 JWT payload"),null)}catch(a){return Ft("Caught error parsing JWT payload as JSON",null===a||void 0===a?void 0:a.toString()),null}}function bn(e){const t=yn(e);return qt(t,"internal-error"),qt("undefined"!==typeof t.exp,"internal-error"),qt("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function vn(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof K&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class xn{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class wn{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=pn(this.lastLoginAt),this.creationTime=pn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function kn(e){var t;const n=e.auth,r=await e.getIdToken(),a=await vn(e,fn(n,{idToken:r}));qt(null===a||void 0===a?void 0:a.users.length,n,"internal-error");const s=a.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?Nn(s.providerUserInfo):[],i=(l=e.providerData,c=o,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&s.passwordHash)&&!(null===i||void 0===i?void 0:i.length),h=!!u&&d,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new wn(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,m)}function Nn(e){return e.map(e=>{var{providerId:t}=e,n=Rt(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class jn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qt(e.idToken,"internal-error"),qt("undefined"!==typeof e.idToken,"internal-error"),qt("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):bn(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){qt(0!==e.length,"internal-error");const t=bn(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(qt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:a}=await async function(e,t){const n=await an(e,{},async()=>{const n=ee({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:a}=e.config,s=on(e,r,"/v1/token","key=".concat(a)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Zt.fetch()(s,{method:"POST",headers:o,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(a))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:a}=t,s=new jn;return n&&(qt("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(qt("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),a&&(qt("number"===typeof a,"internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jn,this.toJSON())}_performRefresh(){return Wt("not implemented")}}function Cn(e,t){qt("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Sn{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,a=Rt(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new wn(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await vn(this,this.stsTokenManager.getToken(this.auth,e));return qt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=se(e),r=await n.getIdToken(t),a=yn(r);qt(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const s="object"===typeof a.firebase?a.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:a,token:r,authTime:pn(gn(a.auth_time)),issuedAtTime:pn(gn(a.iat)),expirationTime:pn(gn(a.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=se(e);await kn(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(qt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Sn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){qt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await kn(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yt(this.auth.app))return Promise.reject(Bt(this.auth));const e=await this.getIdToken();return await vn(this,async function(e,t){return rn(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,a,s,o,i,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(a=t.phoneNumber)&&void 0!==a?a:void 0,m=null!==(s=t.photoURL)&&void 0!==s?s:void 0,f=null!==(o=t.tenantId)&&void 0!==o?o:void 0,p=null!==(i=t._redirectEventId)&&void 0!==i?i:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:b,emailVerified:v,isAnonymous:x,providerData:w,stsTokenManager:k}=t;qt(b&&k,e,"internal-error");const N=jn.fromJSON(this.name,k);qt("string"===typeof b,e,"internal-error"),Cn(u,e.name),Cn(d,e.name),qt("boolean"===typeof v,e,"internal-error"),qt("boolean"===typeof x,e,"internal-error"),Cn(h,e.name),Cn(m,e.name),Cn(f,e.name),Cn(p,e.name),Cn(g,e.name),Cn(y,e.name);const j=new Sn({uid:b,auth:e,email:d,emailVerified:v,displayName:u,isAnonymous:x,photoURL:m,phoneNumber:h,tenantId:f,stsTokenManager:N,createdAt:g,lastLoginAt:y});return w&&Array.isArray(w)&&(j.providerData=w.map(e=>Object.assign({},e))),p&&(j._redirectEventId=p),j}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new jn;r.updateFromServerResponse(t);const a=new Sn({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await kn(a),a}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];qt(void 0!==r.localId,"internal-error");const a=void 0!==r.providerUserInfo?Nn(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===a||void 0===a?void 0:a.length),o=new jn;o.updateFromIdToken(n);const i=new Sn({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new wn(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===a||void 0===a?void 0:a.length)};return Object.assign(i,l),i}}const _n=new Map;function En(e){Gt(e instanceof Function,"Expected a class definition");let t=_n.get(e);return t?(Gt(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,_n.set(e,t),t)}class In{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}In.type="NONE";const Tn=In;function Pn(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Ln{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:a}=this.auth;this.fullUserKey=Pn(this.userKey,r.apiKey,a),this.fullPersistenceKey=Pn("persistence",r.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Sn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Ln(En(Tn),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let a=r[0]||En(Tn);const s=Pn(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(s);if(t){const n=Sn._fromJSON(e,t);c!==a&&(o=n),a=c;break}}catch(l){}const i=r.filter(e=>e._shouldAllowMigration);return a._shouldAllowMigration&&i.length?(a=i[0],o&&await a._set(s,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==a)try{await e._remove(s)}catch(l){}})),new Ln(a,e,n)):new Ln(a,e,n)}}function Rn(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Dn(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(An(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(zn(t))return"Blackberry";if(Un(t))return"Webos";if(On(t))return"Safari";if((t.includes("chrome/")||Mn(t))&&!t.includes("edge/"))return"Chrome";if(Fn(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function An(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q();return/firefox\//i.test(e)}function On(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Mn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q();return/crios\//i.test(e)}function Dn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q();return/iemobile/i.test(e)}function Fn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q();return/android/i.test(e)}function zn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q();return/blackberry/i.test(e)}function Un(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q();return/webos/i.test(e)}function Vn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Bn(){return function(){const e=Q();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Hn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q();return Vn(e)||Fn(e)||Un(e)||zn(e)||/windows phone/i.test(e)||Dn(e)}function qn(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Rn(Q());break;case"Worker":t="".concat(Rn(Q()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(xt,"/").concat(r)}class Wn{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(a){r(a)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Gn{constructor(e){var t,n,r,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(a=e.forceUpgradeOnSignin)&&void 0!==a&&a,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,a,s,o;const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=null===(t=i.meetsMinPasswordLength)||void 0===t||t),i.isValid&&(i.isValid=null===(n=i.meetsMaxPasswordLength)||void 0===n||n),i.isValid&&(i.isValid=null===(r=i.containsLowercaseLetter)||void 0===r||r),i.isValid&&(i.isValid=null===(a=i.containsUppercaseLetter)||void 0===a||a),i.isValid&&(i.isValid=null===(s=i.containsNumericCharacter)||void 0===s||s),i.isValid&&(i.isValid=null===(o=i.containsNonAlphanumericCharacter)||void 0===o||o),i}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class Jn{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kn(this),this.idTokenSubscription=new Kn(this),this.beforeStateQueue=new Wn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=En(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Ln.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(a){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await fn(this,{idToken:e}),n=await Sn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(yt(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return qt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await kn(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yt(this.app))return Promise.reject(Bt(this));const t=e?se(e):null;return t&&qt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&qt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yt(this.app)?Promise.reject(Bt(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yt(this.app)?Promise.reject(Bt(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(En(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return rn(e,"GET","/v2/passwordPolicy",nn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Gn(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new $("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return rn(e,"POST","/v2/accounts:revokeToken",nn(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&En(e)||this._popupRedirectResolver;qt(t,this,"argument-error"),this.redirectPersistenceManager=await Ln.create(this,[En(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const a="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(qt(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),"function"===typeof t){const a=e.addObserver(t,n,r);return()=>{s=!0,a()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Dt.logLevel<=de.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Dt.warn("Auth (".concat(xt,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Qn(e){return se(e)}class Kn{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new re(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return qt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let $n={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Yn(e){return $n.loadJS(e)}function Xn(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Zn{constructor(e){this.type="recaptcha-enterprise",this.auth=Qn(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const a=window.grecaptcha;dn(a)?a.enterprise.ready(()=>{a.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{mn(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new hn(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(a=>{if(!t&&dn(window.grecaptcha))n(a,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=$n.recaptchaEnterpriseScript;0!==t.length&&(t+=a),Yn(t).then(()=>{n(a,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function er(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=new Zn(e);let s;try{s=await a.verify(n)}catch(i){s=await a.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function tr(e,t,n,r){var a;if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await er(e,t,n,"getOobCode"===n);return r(e,a)}return r(e,t).catch(async a=>{if(a.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const a=await er(e,t,n,"getOobCode"===n);return r(e,a)}return Promise.reject(a)})}function nr(e,t,n){const r=Qn(e);qt(r._canInitEmulator,r,"emulator-config-failed"),qt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const a=!!(null===n||void 0===n?void 0:n.disableWarnings),s=rr(t),{host:o,port:i}=function(e){const t=rr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const e=a[1];return{host:e,port:ar(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:ar(t)}}}(t),l=null===i?"":":".concat(i);r.config.emulator={url:"".concat(s,"//").concat(o).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:i,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:a})}),a||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function rr(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ar(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class sr{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Wt("not implemented")}_getIdTokenResponse(e){return Wt("not implemented")}_linkToIdToken(e,t){return Wt("not implemented")}_getReauthenticationResolver(e){return Wt("not implemented")}}async function or(e,t){return rn(e,"POST","/v1/accounts:signUp",t)}async function ir(e,t){return sn(e,"POST","/v1/accounts:signInWithPassword",nn(e,t))}class lr extends sr{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new lr(e,t,"password")}static _fromEmailAndCode(e,t){return new lr(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return tr(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ir);case"emailLink":return async function(e,t){return sn(e,"POST","/v1/accounts:signInWithEmailLink",nn(e,t))}(e,{email:this._email,oobCode:this._password});default:zt(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return tr(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",or);case"emailLink":return async function(e,t){return sn(e,"POST","/v1/accounts:signInWithEmailLink",nn(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:zt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function cr(e,t){return sn(e,"POST","/v1/accounts:signInWithIdp",nn(e,t))}class ur extends sr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ur(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):zt("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,a=Rt(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new ur(n,r);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){return cr(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,cr(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,cr(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ee(t)}return e}}const dr={USER_NOT_FOUND:"user-not-found"};class hr extends sr{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new hr({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new hr({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return sn(e,"POST","/v1/accounts:signInWithPhoneNumber",nn(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await sn(e,"POST","/v1/accounts:signInWithPhoneNumber",nn(e,t));if(n.temporaryProof)throw un(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return sn(e,"POST","/v1/accounts:signInWithPhoneNumber",nn(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),dr)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:a}=e;return n||t||r||a?new hr({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:a}):null}}class mr{constructor(e){var t,n,r,a,s,o;const i=te(ne(e)),l=null!==(t=i.apiKey)&&void 0!==t?t:null,c=null!==(n=i.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=i.mode)&&void 0!==r?r:null);qt(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(a=i.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(s=i.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=i.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=te(ne(e)).link,n=t?te(ne(t)).deep_link_id:null,r=te(ne(e)).deep_link_id;return(r?te(ne(r)).link:null)||r||n||t||e}(e);try{return new mr(t)}catch(n){return null}}}class fr{constructor(){this.providerId=fr.PROVIDER_ID}static credential(e,t){return lr._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=mr.parseLink(t);return qt(n,"argument-error"),lr._fromEmailAndCode(e,n.code,n.tenantId)}}fr.PROVIDER_ID="password",fr.EMAIL_PASSWORD_SIGN_IN_METHOD="password",fr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class pr{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class gr extends pr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class yr extends gr{constructor(){super("facebook.com")}static credential(e){return ur._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return yr.credential(t.oauthAccessToken)}catch(n){return null}}}yr.FACEBOOK_SIGN_IN_METHOD="facebook.com",yr.PROVIDER_ID="facebook.com";class br extends gr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ur._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return br.credential(n,r)}catch(a){return null}}}br.GOOGLE_SIGN_IN_METHOD="google.com",br.PROVIDER_ID="google.com";class vr extends gr{constructor(){super("github.com")}static credential(e){return ur._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return vr.credential(t.oauthAccessToken)}catch(n){return null}}}vr.GITHUB_SIGN_IN_METHOD="github.com",vr.PROVIDER_ID="github.com";class xr extends gr{constructor(){super("twitter.com")}static credential(e,t){return ur._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return xr.credential(n,r)}catch(a){return null}}}xr.TWITTER_SIGN_IN_METHOD="twitter.com",xr.PROVIDER_ID="twitter.com";class wr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=await Sn._fromIdTokenResponse(e,n,r),s=kr(n);return new wr({user:a,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=kr(n);return new wr({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function kr(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Nr extends K{constructor(e,t,n,r){var a;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Nr.prototype),this.customData={appName:e.name,tenantId:null!==(a=e.tenantId)&&void 0!==a?a:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Nr(e,t,n,r)}}function jr(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Nr._fromErrorAndOperation(e,n,t,r);throw n})}async function Cr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await vn(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return wr._forOperation(e,"link",r)}async function Sr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(yt(r.app))return Promise.reject(Bt(r));const a="reauthenticate";try{const s=await vn(e,jr(r,a,t,e),n);qt(s.idToken,r,"internal-error");const o=yn(s.idToken);qt(o,r,"internal-error");const{sub:i}=o;return qt(e.uid===i,r,"user-mismatch"),wr._forOperation(e,a,s)}catch(s){throw(null===s||void 0===s?void 0:s.code)==="auth/".concat("user-not-found")&&zt(r,"user-mismatch"),s}}async function _r(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(yt(e.app))return Promise.reject(Bt(e));const r="signIn",a=await jr(e,r,t),s=await wr._fromIdTokenResponse(e,r,a);return n||await e._updateCurrentUser(s.user),s}async function Er(e,t){return _r(Qn(e),t)}async function Ir(e){const t=Qn(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}new WeakMap;const Tr="__sak";class Pr{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Tr,"1"),this.storage.removeItem(Tr),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Lr extends Pr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Hn(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},a=this.storage.getItem(n);Bn()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Lr.type="LOCAL";const Rr=Lr;class Ar extends Pr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ar.type="SESSION";const Or=Ar;class Mr{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Mr(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:a}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map(async e=>e(t.origin,a)),i=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:i})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Dr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Mr.receivers=[];class Fr{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,s;return new Promise((o,i)=>{const l=Dr("",20);r.port1.start();const c=setTimeout(()=>{i(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),a=setTimeout(()=>{i(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(t.data.response);break;default:clearTimeout(c),clearTimeout(a),i(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function zr(){return window}function Ur(){return"undefined"!==typeof zr().WorkerGlobalScope&&"function"===typeof zr().importScripts}const Vr="firebaseLocalStorageDb",Br="firebaseLocalStorage",Hr="fbase_key";class qr{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Wr(e,t){return e.transaction([Br],t?"readwrite":"readonly").objectStore(Br)}function Gr(){const e=indexedDB.open(Vr,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Br,{keyPath:Hr})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Br)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Vr);return new qr(e).toPromise()}(),t(await Gr()))})})}async function Jr(e,t,n){const r=Wr(e,!0).put({[Hr]:t,value:n});return new qr(r).toPromise()}function Qr(e,t){const n=Wr(e,!0).delete(t);return new qr(n).toPromise()}class Kr{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Gr()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ur()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mr._getInstance(Ur()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Fr(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gr();return await Jr(e,Tr,"1"),await Qr(e,Tr),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Jr(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Wr(e,!1).get(t),r=await new qr(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Qr(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Wr(e,!1).getAll();return new qr(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:a}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Kr.type="LOCAL";const $r=Kr;Xn("rcb"),new Yt(3e4,6e4);const Yr="recaptcha";async function Xr(e,t,n){var r;const a=await n.verify();try{let s;if(qt("string"===typeof a,e,"argument-error"),qt(n.type===Yr,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){qt("enroll"===t.type,e,"internal-error");const n=await function(e,t){return rn(e,"POST","/v2/accounts/mfaEnrollment:start",nn(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:a}});return n.phoneSessionInfo.sessionInfo}{qt("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;qt(n,e,"missing-multi-factor-info");const o=await function(e,t){return rn(e,"POST","/v2/accounts/mfaSignIn:start",nn(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:a}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return rn(e,"POST","/v1/accounts:sendVerificationCode",nn(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:a});return t}}finally{n._reset()}}class Zr{constructor(e){this.providerId=Zr.PROVIDER_ID,this.auth=Qn(e)}verifyPhoneNumber(e,t){return Xr(this.auth,e,se(t))}static credential(e,t){return hr._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Zr.credentialFromTaggedObject(t)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?hr._fromTokenResponse(n,r):null}}function ea(e,t){return t?En(t):(qt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Zr.PROVIDER_ID="phone",Zr.PHONE_SIGN_IN_METHOD="phone";class ta extends sr{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cr(e,this._buildIdpRequest())}_linkToIdToken(e,t){return cr(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return cr(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function na(e){return _r(e.auth,new ta(e),e.bypassAuthState)}function ra(e){const{auth:t,user:n}=e;return qt(n,t,"internal-error"),Sr(n,new ta(e),e.bypassAuthState)}async function aa(e){const{auth:t,user:n}=e;return qt(n,t,"internal-error"),Cr(n,new ta(e),e.bypassAuthState)}class sa{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:a,error:s,type:o}=e;if(s)return void this.reject(s);const i={auth:this.auth,requestUri:t,sessionId:n,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(i))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return na;case"linkViaPopup":case"linkViaRedirect":return aa;case"reauthViaPopup":case"reauthViaRedirect":return ra;default:zt(this.auth,"internal-error")}}resolve(e){Gt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const oa=new Yt(2e3,1e4);class ia extends sa{constructor(e,t,n,r,a){super(e,t,r,a),this.provider=n,this.authWindow=null,this.pollId=null,ia.currentPopupAction&&ia.currentPopupAction.cancel(),ia.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qt(e,this.auth,"internal-error"),e}async onExecution(){Gt(1===this.filter.length,"Popup operations only handle one event");const e=Dr();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Ut(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Ut(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ia.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ut(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,oa.get())};e()}}ia.currentPopupAction=null;const la=new Map;class ca extends sa{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=la.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=ha(t),r=da(e);if(!await r._isAvailable())return!1;const a="true"===await r._get(n);return await r._remove(n),a}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}la.set(this.auth._key(),e)}return this.bypassAuthState||la.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function ua(e,t){la.set(e._key(),t)}function da(e){return En(e._redirectPersistence)}function ha(e){return Pn("pendingRedirect",e.config.apiKey,e.name)}async function ma(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(yt(e.app))return Promise.reject(Bt(e));const r=Qn(e),a=ea(r,t),s=new ca(r,a,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class fa{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ga(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!ga(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ut(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(pa(e))}saveEventToCache(e){this.cachedEventUids.add(pa(e)),this.lastProcessedEventTime=Date.now()}}function pa(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function ga(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const ya=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ba=/^https?/;async function va(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return rn(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(xa(r))return}catch(n){}zt(e,"unauthorized-domain")}function xa(e){const t=Jt(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return""===a.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&a.hostname===r}if(!ba.test(n))return!1;if(ya.test(e))return r===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const wa=new Yt(3e4,6e4);function ka(){const e=zr().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Na(e){return new Promise((t,n)=>{var r,a,s;function o(){ka(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ka(),n(Ut(e,"network-request-failed"))},timeout:wa.get()})}if(null===(a=null===(r=zr().gapi)||void 0===r?void 0:r.iframes)||void 0===a?void 0:a.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=zr().gapi)||void 0===s?void 0:s.load)){const t=Xn("iframefcb");return zr()[t]=()=>{gapi.load?o():n(Ut(e,"network-request-failed"))},Yn("".concat($n.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}o()}}).catch(e=>{throw ja=null,e})}let ja=null;const Ca=new Yt(5e3,15e3),Sa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_a=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ea(e){const t=e.config;qt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Xt(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:xt},a=_a.get(e.config.apiHost);a&&(r.eid=a);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(ee(r).slice(1))}async function Ia(e){const t=await function(e){return ja=ja||Na(e),ja}(e),n=zr().gapi;return qt(n,e,"internal-error"),t.open({where:document.body,url:Ea(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sa,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const a=Ut(e,"network-request-failed"),s=zr().setTimeout(()=>{r(a)},Ca.get());function o(){zr().clearTimeout(s),n(t)}t.ping(o).then(o,()=>{r(a)})}))}const Ta={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Pa{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function La(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-a)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let i="";const l=Object.assign(Object.assign({},Ta),{width:r.toString(),height:a.toString(),top:s,left:o}),c=Q().toLowerCase();n&&(i=Mn(c)?"_blank":n),An(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return Vn(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==i)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",i),new Pa(null);const d=window.open(t||"",i,u);qt(d,e,"popup-blocked");try{d.focus()}catch(h){}return new Pa(d)}const Ra="__/auth/handler",Aa="emulator/auth/handler",Oa=encodeURIComponent("fac");async function Ma(e,t,n,r,a,s){qt(e.config.authDomain,e,"auth-domain-config-required"),qt(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:xt,eventId:a};if(t instanceof pr){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof gr){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const i=o;for(const u of Object.keys(i))void 0===i[u]&&delete i[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Oa,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Ra);return Xt(t,Aa)}(e),"?").concat(ee(i).slice(1)).concat(c)}const Da="webStorageSupport";const Fa=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Or,this._completeRedirectFn=ma,this._overrideRedirectResult=ua}async _openPopup(e,t,n,r){var a;Gt(null===(a=this.eventManagers[e._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()");return La(e,await Ma(e,t,n,Jt(),r),Dr())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){zr().location.href=e}(await Ma(e,t,n,Jt(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Gt(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Ia(e),n=new fa(e);return t.register("authEvent",t=>{qt(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Da,{type:Da},n=>{var r;const a=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Da];void 0!==a&&t(!!a),zt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=va(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Hn()||On()||Vn()}};var za="@firebase/auth",Ua="1.7.9";class Va{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){qt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ba=G("authIdTokenMaxAge")||300;let Ha=null;var qa;$n={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Ut("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},qa="Browser",pt(new oe("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:i}=r.options;qt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:i,clientPlatform:qa,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qn(qa)},c=new Jn(r,a,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(En);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),pt(new oe("auth-internal",e=>(e=>new Va(e))(Qn(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),kt(za,Ua,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(qa)),kt(za,Ua,"esm2017");kt("firebase","10.14.1","app");const Wa={apiKey:"AIzaSyCa63Fy9PF-NV8C_z_5Qp7VWse5nRxRRJ8",authDomain:"crmbackend-470221.firebaseapp.com",projectId:"crmbackend-470221",storageBucket:"crmbackend-470221.firebasestorage.app",messagingSenderId:"874590395925",appId:"1:874590395925:web:41fff249ed9a7b349af81c"};if(!Wa.apiKey)throw new Error("Firebase config is missing: `REACT_APP_FIREBASE_API_KEY` is not set.");const Ga=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct;const t=dt.get(e);if(!t&&e===ct&&W())return wt();if(!t)throw bt.create("no-app",{appName:e});return t}();const t=gt(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=gt(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(X(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;zt(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Fa,persistence:[$r,Rr,Or]}),r=G("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(a=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Ba)return;const r=null===t||void 0===t?void 0:t.token;Ha!==r&&(Ha=r,await fetch(a,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){se(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){se(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var a;const s=q("auth");return s&&nr(n,"http://".concat(s)),n}(wt(Wa));var Ja=n(579);const Qa=function(e){let{onLogin:t}=e;const[n,a]=(0,r.useState)({email:"",password:""}),[s,o]=(0,r.useState)(""),[i,l]=(0,r.useState)(!1);return(0,Ja.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:(0,Ja.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-xl w-96",children:[(0,Ja.jsxs)("div",{className:"text-center mb-6",children:[(0,Ja.jsx)("div",{className:"bg-blue-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:(0,Ja.jsx)(x,{className:"h-10 w-10 text-blue-600"})}),(0,Ja.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Bhotch CRM"}),(0,Ja.jsx)("p",{className:"text-gray-500 text-sm mt-2",children:"Sign in to manage your leads"})]}),s&&(0,Ja.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-600 rounded-lg text-sm",children:s}),(0,Ja.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),l(!0),o("");try{await function(e,t,n){return yt(e.app)?Promise.reject(Bt(e)):Er(se(e),fr.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Ir(e),t})}(Ga,n.email,n.password),sessionStorage.setItem("isAuthenticated","true"),t()}catch(r){o("Login failed. Please check credentials.")}finally{l(!1)}},className:"space-y-4",children:[(0,Ja.jsx)("input",{type:"email",placeholder:"Email",value:n.email,onChange:e=>a(t=>c(c({},t),{},{email:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),(0,Ja.jsx)("input",{type:"password",placeholder:"Password",value:n.password,onChange:e=>a(t=>c(c({},t),{},{password:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),(0,Ja.jsx)("button",{type:"submit",disabled:i,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center",children:i?(0,Ja.jsx)(b,{className:"animate-spin h-5 w-5"}):"Sign In"})]})]})})},Ka=r.memo(e=>{let{title:t,value:n,color:a,icon:s}=e;const o=(0,r.useMemo)(()=>({blue:"bg-blue-100 text-blue-800",red:"bg-red-100 text-red-800",green:"bg-green-100 text-green-800",purple:"bg-purple-100 text-purple-800"}),[]);return(0,Ja.jsx)("div",{className:"bg-white rounded-lg shadow p-5",children:(0,Ja.jsxs)("div",{className:"flex items-center",children:[(0,Ja.jsx)("div",{className:"p-3 rounded-full ".concat(o[a]),children:s&&(0,Ja.jsx)(s,{size:24})}),(0,Ja.jsxs)("div",{className:"ml-4",children:[(0,Ja.jsx)("p",{className:"text-sm font-medium text-gray-500 truncate",children:t}),(0,Ja.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:n})]})]})})}),$a=y("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Ya=y("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),Xa=y("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const Za=function(e){let{stats:t,leads:n,jobCounts:r=[],onNavigateToTab:a}=e;const s=n.slice(0,5);return(0,Ja.jsxs)("div",{className:"space-y-6",children:[(0,Ja.jsx)("div",{className:"flex justify-between items-center",children:(0,Ja.jsxs)("div",{children:[(0,Ja.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),(0,Ja.jsx)("p",{className:"text-gray-600 mt-1",children:"Welcome to your roofing business overview"})]})}),(0,Ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Ja.jsx)(Ka,{title:"Total Leads",value:t.totalLeads,icon:$a,color:"blue"}),(0,Ja.jsx)(Ka,{title:"Hot Leads",value:t.hotLeads,icon:Ya,color:"red"}),(0,Ja.jsx)(Ka,{title:"Quoted Leads",value:t.quotedLeads,icon:Xa,color:"green"}),(0,Ja.jsx)(Ka,{title:"Total Quote Value",value:(o=t.totalQuoteValue,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(o)),icon:v,color:"purple"})]}),(0,Ja.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ja.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Leads"}),0===s.length?(0,Ja.jsx)("p",{className:"text-gray-500",children:"No leads yet. Add your first lead to get started!"}):(0,Ja.jsx)("div",{className:"overflow-x-auto",children:(0,Ja.jsxs)("table",{className:"min-w-full",children:[(0,Ja.jsx)("thead",{children:(0,Ja.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,Ja.jsx)("th",{className:"text-left py-2 px-4 font-medium text-gray-700",children:"Name"}),(0,Ja.jsx)("th",{className:"text-left py-2 px-4 font-medium text-gray-700",children:"Quality"}),(0,Ja.jsx)("th",{className:"text-left py-2 px-4 font-medium text-gray-700",children:"Disposition"}),(0,Ja.jsx)("th",{className:"text-left py-2 px-4 font-medium text-gray-700",children:"Quote"}),(0,Ja.jsx)("th",{className:"text-left py-2 px-4 font-medium text-gray-700",children:"Notes"})]})}),(0,Ja.jsx)("tbody",{children:s.map((e,t)=>(0,Ja.jsxs)("tr",{className:"border-b border-gray-100",children:[(0,Ja.jsx)("td",{className:"py-2 px-4 text-gray-900",children:e.customerName||"".concat(e.firstName||""," ").concat(e.lastName||"").trim()||"Unknown"}),(0,Ja.jsx)("td",{className:"py-2 px-4",children:(0,Ja.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("Hot"===e.quality?"bg-red-100 text-red-800":"Warm"===e.quality?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"),children:e.quality})}),(0,Ja.jsx)("td",{className:"py-2 px-4 text-gray-600",children:e.disposition||"New"}),(0,Ja.jsx)("td",{className:"py-2 px-4 text-gray-900",children:e.dabellaQuote||"N/A"}),(0,Ja.jsx)("td",{className:"py-2 px-4 text-gray-600 max-w-xs truncate",children:e.notes||"No notes"})]},e.id||t))})]})})]})]});var o},es=y("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),ts=y("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),ns=y("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),rs=y("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),as=y("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),ss=y("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),os=y("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),is=y("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),ls=y("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),cs=y("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),us=y("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ds=y("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),hs=y("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),ms=y("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const fs=function(e){let{leads:t,onAddLead:n,onEditLead:a,onDeleteLead:s,onRefreshLeads:o,onSelectLead:i}=e;const[l,u]=(0,r.useState)(""),[d,h]=(0,r.useState)(""),[m,f]=(0,r.useState)({key:null,direction:"asc"}),[p,g]=(0,r.useState)({}),[y,b]=(0,r.useState)(!1),[x,w]=(0,r.useState)(1),[k,N]=(0,r.useState)(25),[C,T]=(0,r.useState)(!1),P={id:!1,date:!0,createdDate:!1,modifiedDate:!1,customerName:!0,firstName:!1,lastName:!1,phoneNumber:!0,email:!1,address:!0,latitude:!1,longitude:!1,quality:!0,disposition:!0,leadSource:!0,status:!1,roofAge:!1,roofType:!1,sqFt:!0,ridgeLf:!0,valleyLf:!0,eavesLf:!1,dabellaQuote:!0,ridgeVents:!1,turbine:!1,rimeFlow:!1,highProfileRidgeCap:!1,valleyMetal:!1,pipes1Half:!1,pipes2:!1,pipes3:!1,pipes4:!1,gables:!1,turtleBacks:!1,satellite:!1,chimney:!1,solar:!1,swampCooler:!1,guttersLf:!1,downspouts:!1,gutterGuardLf:!1,permanentLighting:!1,notes:!1},L=()=>{try{const e=localStorage.getItem("leadsVisibleColumns");if(e)return JSON.parse(e)}catch(e){console.error("Error loading saved columns:",e)}return P},[R,A]=(0,r.useState)(L),[O,M]=(0,r.useState)(L),D=(0,r.useCallback)(()=>{try{localStorage.setItem("leadsVisibleColumns",JSON.stringify(O)),A(O),T(!1)}catch(e){console.error("Error saving columns:",e)}},[O]),F=(0,r.useCallback)(e=>{const t={New:{bg:"bg-blue-100",text:"text-blue-800",icon:es},Scheduled:{bg:"bg-cyan-100",text:"text-cyan-800",icon:j},Insurance:{bg:"bg-indigo-100",text:"text-indigo-800",icon:ts},Quoted:{bg:"bg-yellow-100",text:"text-yellow-800",icon:v},"Follow Up":{bg:"bg-orange-100",text:"text-orange-800",icon:I},"Closed Sold":{bg:"bg-green-100",text:"text-green-800",icon:_},"Closed Lost":{bg:"bg-red-100",text:"text-red-800",icon:S}}[e]||{bg:"bg-gray-100",text:"text-gray-800",icon:E},n=t.icon;return(0,Ja.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(t.bg," ").concat(t.text),children:[(0,Ja.jsx)(n,{className:"w-3 h-3 mr-1"}),e]})},[]),z=(0,r.useCallback)(e=>e&&"0"!==e&&"-"!==e?Number(e).toLocaleString():"-",[]),U=(0,r.useCallback)(e=>{if(!e)return"-";try{return new Date(e).toLocaleDateString()}catch(t){return e}},[]),V=(0,r.useCallback)(e=>{const t=String(e||"");if(!t)return"-";const n=t.replace(/\D/g,"");return 10===n.length?"(".concat(n.slice(0,3),") ").concat(n.slice(3,6),"-").concat(n.slice(6)):t},[]),B=(0,r.useCallback)(e=>{f(t=>({key:e,direction:t.key===e&&"asc"===t.direction?"desc":"asc"}))},[]),H=(0,r.useMemo)(()=>[{key:"id",label:"ID",type:"text",category:"Basic"},{key:"date",label:"Date",type:"date",category:"Basic"},{key:"createdDate",label:"Created Date",type:"date",category:"Basic"},{key:"modifiedDate",label:"Modified Date",type:"date",category:"Basic"},{key:"customerName",label:"Customer Name",type:"text",category:"Basic"},{key:"firstName",label:"First Name",type:"text",category:"Basic"},{key:"lastName",label:"Last Name",type:"text",category:"Basic"},{key:"phoneNumber",label:"Phone Number",type:"text",category:"Basic"},{key:"email",label:"Email",type:"text",category:"Basic"},{key:"address",label:"Address",type:"text",category:"Basic"},{key:"latitude",label:"Latitude",type:"number",category:"Basic"},{key:"longitude",label:"Longitude",type:"number",category:"Basic"},{key:"quality",label:"Quality",type:"text",category:"Lead Info"},{key:"disposition",label:"Disposition",type:"text",category:"Lead Info"},{key:"leadSource",label:"Lead Source",type:"text",category:"Lead Info"},{key:"status",label:"Status",type:"text",category:"Lead Info"},{key:"roofAge",label:"Roof Age",type:"text",category:"Roof Info"},{key:"roofType",label:"Roof Type",type:"text",category:"Roof Info"},{key:"sqFt",label:"SQ FT",type:"number",category:"Measurements"},{key:"ridgeLf",label:"Ridge LF",type:"number",category:"Measurements"},{key:"valleyLf",label:"Valley LF",type:"number",category:"Measurements"},{key:"eavesLf",label:"Eaves LF",type:"number",category:"Measurements"},{key:"dabellaQuote",label:"DaBella Quote",type:"number",category:"Financial"},{key:"ridgeVents",label:"Ridge Vents",type:"number",category:"Ventilation"},{key:"turbine",label:"Turbine",type:"number",category:"Ventilation"},{key:"rimeFlow",label:"Rime Flow",type:"number",category:"Ventilation"},{key:"highProfileRidgeCap",label:"High Profile Ridge Cap",type:"number",category:"Components"},{key:"valleyMetal",label:"Valley Metal",type:"number",category:"Components"},{key:"pipes1Half",label:'Pipes 1.5"',type:"number",category:"Pipes"},{key:"pipes2",label:'Pipes 2"',type:"number",category:"Pipes"},{key:"pipes3",label:'Pipes 3"',type:"number",category:"Pipes"},{key:"pipes4",label:'Pipes 4"',type:"number",category:"Pipes"},{key:"gables",label:"Gables",type:"number",category:"Features"},{key:"turtleBacks",label:"Turtle Backs",type:"number",category:"Features"},{key:"satellite",label:"Satellite",type:"number",category:"Features"},{key:"chimney",label:"Chimney",type:"number",category:"Features"},{key:"solar",label:"Solar",type:"number",category:"Features"},{key:"swampCooler",label:"Swamp Cooler",type:"number",category:"Features"},{key:"guttersLf",label:"Gutters LF",type:"number",category:"Gutters"},{key:"downspouts",label:"Downspouts",type:"number",category:"Gutters"},{key:"gutterGuardLf",label:"Gutter Guard LF",type:"number",category:"Gutters"},{key:"permanentLighting",label:"Permanent Lighting",type:"number",category:"Additional"},{key:"notes",label:"Notes",type:"text",category:"Additional"}],[]),q=(0,r.useCallback)((e,t)=>{const n=H.find(e=>e.key===t);return"customerName"===t?e.customerName||"".concat(e.firstName||""," ").concat(e.lastName||"").trim()||"Unknown":"number"===(null===n||void 0===n?void 0:n.type)?parseFloat(e[t])||0:e[t]||""},[H]),W=(0,r.useCallback)(e=>{M(t=>c(c({},t),{},{[e]:!t[e]}))},[]),G=(0,r.useCallback)((e,t)=>{g(n=>{const r=c({},n);return""===t||null===t||void 0===t?delete r[e]:r[e]=t,w(1),r})},[]),J=(0,r.useCallback)(()=>{g({}),u(""),h(""),w(1)},[]),Q=(0,r.useMemo)(()=>{let e=t.filter(e=>{var t;const n=!l||[e.firstName,e.lastName,e.customerName,null===(t=e.phoneNumber)||void 0===t?void 0:t.toString(),e.address,e.quality,e.disposition,e.leadSource].some(e=>null===e||void 0===e?void 0:e.toLowerCase().includes(l.toLowerCase())),r=!d||e.date===d,a=Object.entries(p).every(t=>{let n,[r,a]=t;if(!a)return!0;if("customerName"===r)n=e.customerName||"".concat(e.firstName||""," ").concat(e.lastName||"").trim();else{const t=H.find(e=>e.key===r);n="number"===(null===t||void 0===t?void 0:t.type)?parseFloat(e[r])||0:e[r]||""}const s=H.find(e=>e.key===r);return"number"===(null===s||void 0===s?void 0:s.type)?n>=parseFloat(a):n.toString().toLowerCase().includes(a.toLowerCase())});return n&&r&&a});return m.key&&e.sort((e,t)=>{const n=q(e,m.key),r=q(t,m.key);if("string"===typeof n&&"string"===typeof r){const e=n.toLowerCase().localeCompare(r.toLowerCase());return"asc"===m.direction?e:-e}{const e=n-r;return"asc"===m.direction?e:-e}}),e},[t,l,d,p,m,q,H]),K=(0,r.useMemo)(()=>{const e=(x-1)*k,t=e+k;return Q.slice(e,t)},[Q,x,k]),$=Math.ceil(Q.length/k),Y=(0,r.useMemo)(()=>l||d||Object.keys(p).length>0,[l,d,p]),X=e=>{var t;let{sortKey:n,children:r,className:a=""}=e;const s=p[n];return(0,Ja.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ".concat(a),children:(0,Ja.jsxs)("div",{className:"space-y-2",children:[(0,Ja.jsxs)("div",{className:"flex items-center justify-between cursor-pointer hover:bg-gray-100 transition-colors select-none p-1 rounded",onClick:()=>B(n),children:[(0,Ja.jsx)("span",{className:s?"text-blue-600 font-semibold":"",children:r}),(0,Ja.jsxs)("div",{className:"flex items-center space-x-1",children:[s&&(0,Ja.jsx)(ns,{className:"w-3 h-3 text-blue-600"}),(0,Ja.jsxs)("div",{className:"flex flex-col",children:[(0,Ja.jsx)(rs,{className:"w-3 h-3 ".concat(m.key===n&&"asc"===m.direction?"text-blue-600":"text-gray-300")}),(0,Ja.jsx)(as,{className:"w-3 h-3 -mt-1 ".concat(m.key===n&&"desc"===m.direction?"text-blue-600":"text-gray-300")})]})]})]}),y&&(0,Ja.jsx)(Z,{column:n,value:p[n]||"",onChange:e=>G(n,e),type:(null===(t=H.find(e=>e.key===n))||void 0===t?void 0:t.type)||"text"})]})})},Z=e=>{let{column:t,value:n,onChange:r,type:a}=e;const s="number"===a?"Min value...":"Filter...";return(0,Ja.jsxs)("div",{className:"relative",children:[(0,Ja.jsx)("input",{type:"number"===a?"number":"date"===a?"date":"text",value:n,onChange:e=>r(e.target.value),placeholder:s,className:"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500",onClick:e=>e.stopPropagation()}),n&&(0,Ja.jsx)("button",{onClick:e=>{e.stopPropagation(),r("")},className:"absolute right-1 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:(0,Ja.jsx)(ss,{className:"w-3 h-3"})})]})};return(0,Ja.jsxs)("div",{className:"space-y-6",children:[(0,Ja.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ja.jsxs)("div",{children:[(0,Ja.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Lead Management"}),(0,Ja.jsx)("p",{className:"text-gray-600 mt-1",children:"Track and manage your sales leads"})]}),(0,Ja.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ja.jsxs)("button",{onClick:o,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[(0,Ja.jsx)(os,{className:"w-4 h-4 mr-2"}),"Refresh"]}),(0,Ja.jsxs)("button",{onClick:n,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors",children:[(0,Ja.jsx)(es,{className:"w-4 h-4 mr-2"}),"Add Lead"]})]})]}),(0,Ja.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,Ja.jsxs)("div",{className:"space-y-4",children:[(0,Ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Ja.jsxs)("div",{className:"relative md:col-span-2",children:[(0,Ja.jsx)(is,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Ja.jsx)("input",{type:"text",placeholder:"Search across all fields...",value:l,onChange:e=>u(e.target.value),className:"pl-10 pr-4 py-3 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,Ja.jsxs)("div",{className:"relative",children:[(0,Ja.jsx)(j,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Ja.jsx)("input",{type:"date",value:d,onChange:e=>h(e.target.value),className:"pl-10 pr-4 py-3 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,Ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ja.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ja.jsxs)("button",{onClick:()=>b(!y),className:"inline-flex items-center px-3 py-2 border rounded-lg text-sm font-medium transition-colors ".concat(y?"border-blue-500 text-blue-700 bg-blue-50":"border-gray-300 text-gray-700 bg-white hover:bg-gray-50"),children:[(0,Ja.jsx)(ns,{className:"w-4 h-4 mr-2"}),"Column Filters",Object.keys(p).length>0&&(0,Ja.jsx)("span",{className:"ml-2 bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full",children:Object.keys(p).length})]}),(0,Ja.jsxs)("button",{onClick:()=>T(!C),className:"inline-flex items-center px-3 py-2 border rounded-lg text-sm font-medium transition-colors ".concat(C?"border-purple-500 text-purple-700 bg-purple-50":"border-gray-300 text-gray-700 bg-white hover:bg-gray-50"),children:[(0,Ja.jsx)(ls,{className:"w-4 h-4 mr-2"}),"Manage Columns",(0,Ja.jsx)("span",{className:"ml-2 bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded-full",children:Object.values(R).filter(Boolean).length})]}),Y&&(0,Ja.jsxs)("button",{onClick:J,className:"inline-flex items-center px-3 py-2 border border-red-300 rounded-lg text-sm font-medium text-red-700 bg-red-50 hover:bg-red-100 transition-colors",children:[(0,Ja.jsx)(ss,{className:"w-4 h-4 mr-2"}),"Clear All Filters"]})]}),(0,Ja.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ja.jsxs)("select",{value:k,onChange:e=>{N(Number(e.target.value)),w(1)},className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Ja.jsx)("option",{value:10,children:"10 per page"}),(0,Ja.jsx)("option",{value:25,children:"25 per page"}),(0,Ja.jsx)("option",{value:50,children:"50 per page"}),(0,Ja.jsx)("option",{value:100,children:"100 per page"})]}),(0,Ja.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",0===Q.length?0:(x-1)*k+1,"-",Math.min(x*k,Q.length)," of ",Q.length]})]})]})]})}),C&&(0,Ja.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,Ja.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Ja.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Manage Visible Columns"}),(0,Ja.jsx)("button",{onClick:()=>{M(R),T(!1)},className:"text-gray-400 hover:text-gray-600",children:(0,Ja.jsx)(ss,{className:"w-5 h-5"})})]}),(0,Ja.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4 mb-6",children:H.map(e=>(0,Ja.jsxs)("label",{className:"flex items-center space-x-2 p-2 rounded hover:bg-gray-50 cursor-pointer",children:[(0,Ja.jsx)("input",{type:"checkbox",checked:O[e.key],onChange:()=>W(e.key),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,Ja.jsx)("span",{className:"text-sm text-gray-700",children:e.label})]},e.key))}),(0,Ja.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,Ja.jsx)("button",{onClick:()=>{M(R),T(!1)},className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,Ja.jsxs)("button",{onClick:D,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors",children:[(0,Ja.jsx)(cs,{className:"w-4 h-4 mr-2"}),"Save Column Selection"]})]})]}),(0,Ja.jsx)("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 overflow-hidden",children:(0,Ja.jsxs)("div",{className:"overflow-x-auto",children:[(0,Ja.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Ja.jsx)("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:(0,Ja.jsxs)("tr",{children:[H.filter(e=>R[e.key]).map(e=>(0,Ja.jsx)(X,{sortKey:e.key,children:e.label},e.key)),(0,Ja.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Ja.jsx)("tbody",{className:"bg-white divide-y divide-gray-100",children:K.map((e,t)=>(0,Ja.jsxs)("tr",{className:"cursor-pointer transition-all duration-200 hover:bg-blue-50 hover:shadow-md transform hover:-translate-y-0.5 ".concat(t%2===0?"bg-white":"bg-gray-50"),onClick:()=>i(e),children:[H.filter(e=>R[e.key]).map(t=>(0,Ja.jsx)("td",{className:"px-6 py-5 whitespace-nowrap",children:(()=>{if("date"===t.key||"createdDate"===t.key||"modifiedDate"===t.key)return(0,Ja.jsx)("div",{className:"text-sm font-medium text-gray-900",children:U(e[t.key])});if("customerName"===t.key)return(0,Ja.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:e.customerName||"".concat(e.firstName||""," ").concat(e.lastName||"").trim()||"Unknown"});if("phoneNumber"===t.key)return(0,Ja.jsx)("a",{href:"tel:".concat(e.phoneNumber),onClick:e=>e.stopPropagation(),className:"text-sm font-medium text-blue-600 hover:text-blue-800 hover:underline transition-colors",children:V(e.phoneNumber)});if("email"===t.key)return e.email?(0,Ja.jsx)("a",{href:"mailto:".concat(e.email),onClick:e=>e.stopPropagation(),className:"text-sm text-blue-600 hover:text-blue-800 hover:underline transition-colors",children:e.email}):"-";if("address"===t.key)return(0,Ja.jsx)("div",{className:"text-sm text-gray-700 truncate max-w-xs",children:e.address||"-"});if("disposition"===t.key)return F(e.disposition);if("dabellaQuote"===t.key)return e.dabellaQuote?(0,Ja.jsxs)("span",{className:"text-sm bg-green-100 text-green-800 px-3 py-1 rounded-full font-medium",children:["$",z(e.dabellaQuote)]}):"-";if("number"===t.type){const n=e[t.key];return n?(0,Ja.jsx)("div",{className:"text-sm font-medium text-gray-900",children:z(n)}):"-"}return(0,Ja.jsx)("div",{className:"text-sm text-gray-900",children:e[t.key]||"-"})})()},t.key)),(0,Ja.jsx)("td",{className:"px-6 py-5 whitespace-nowrap text-sm font-medium",children:(0,Ja.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ja.jsx)("button",{onClick:t=>{t.stopPropagation(),i(e)},className:"text-blue-600 hover:text-blue-900 p-2 rounded-lg hover:bg-blue-100 transition-all duration-200 hover:scale-110",title:"View Details",children:(0,Ja.jsx)(us,{className:"w-4 h-4"})}),(0,Ja.jsx)("button",{onClick:t=>{t.stopPropagation(),a(e)},className:"text-orange-600 hover:text-orange-900 p-2 rounded-lg hover:bg-orange-100 transition-all duration-200 hover:scale-110",title:"Edit",children:(0,Ja.jsx)(ds,{className:"w-4 h-4"})})]})})]},e.id||t))})]}),0===Q.length&&(0,Ja.jsxs)("div",{className:"text-center py-12",children:[(0,Ja.jsx)(E,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Ja.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No leads found"}),(0,Ja.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:Y?"Try adjusting your search or filter criteria.":"Get started by adding your first lead."})]})]})}),Q.length>0&&$>1&&(0,Ja.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:(0,Ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ja.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ja.jsx)("button",{onClick:()=>w(1),disabled:1===x,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"First"}),(0,Ja.jsxs)("button",{onClick:()=>w(e=>Math.max(1,e-1)),disabled:1===x,className:"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Ja.jsx)(hs,{className:"w-4 h-4 mr-1"}),"Previous"]})]}),(0,Ja.jsx)("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(7,$)},(e,t)=>{let n;return n=$<=7||x<=4?t+1:x>=$-3?$-6+t:x-3+t,(0,Ja.jsx)("button",{onClick:()=>w(n),className:"px-3 py-2 text-sm font-medium rounded-lg ".concat(x===n?"bg-blue-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"),children:n},n)})}),(0,Ja.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ja.jsxs)("button",{onClick:()=>w(e=>Math.min($,e+1)),disabled:x===$,className:"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:["Next",(0,Ja.jsx)(ms,{className:"w-4 h-4 ml-1"})]}),(0,Ja.jsx)("button",{onClick:()=>w($),disabled:x===$,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Last"})]})]})})]})};const ps=function(e){let{jobCounts:t,onAddJobCount:n,onEditJobCount:a,onDeleteJobCount:s,onRefreshJobCounts:o,onSelectJobCount:i}=e;const[l,u]=(0,r.useState)(""),[d,h]=(0,r.useState)(""),[m,f]=(0,r.useState)({key:null,direction:"asc"}),[p,g]=(0,r.useState)({}),[y,b]=(0,r.useState)(!1),[v,x]=(0,r.useState)(1),[w,N]=(0,r.useState)(25),[C,S]=(0,r.useState)(!1),_={date:!0,customer:!0,phone:!0,address:!0,email:!1,sqFt:!0,ridgeLf:!0,valleyLf:!0,eavesLf:!1,quote:!0,quality:!0,disposition:!0,leadSource:!0,roofAge:!1,roofType:!1,ridgeVents:!1,turbine:!1,rimeFlow:!1,highProfileRidgeCap:!1,valleyMetal:!1,pipes1Half:!1,pipes2:!1,pipes3:!1,pipes4:!1,gables:!1,turtleBacks:!1,satellite:!1,chimney:!1,solar:!1,swampCooler:!1,guttersLf:!1,downspouts:!1,gutterGuardLf:!1,permanentLighting:!1},E=()=>{try{const e=localStorage.getItem("jobCountVisibleColumns");if(e)return JSON.parse(e)}catch(e){console.error("Error loading saved columns:",e)}return _},[I,T]=(0,r.useState)(E),[P,L]=(0,r.useState)(E),R=(0,r.useCallback)(()=>{try{localStorage.setItem("jobCountVisibleColumns",JSON.stringify(P)),T(P),S(!1)}catch(e){console.error("Error saving columns:",e)}},[P]),A=(0,r.useCallback)(e=>e&&"0"!==e&&"-"!==e?Number(e).toLocaleString():"-",[]),O=(0,r.useCallback)(e=>{if(!e)return"-";try{return new Date(e).toLocaleDateString()}catch(t){return e}},[]),M=(0,r.useCallback)(e=>{if(!e)return"-";const t=e.toString().replace(/\D/g,"");return 10===t.length?"(".concat(t.slice(0,3),") ").concat(t.slice(3,6),"-").concat(t.slice(6)):e},[]),D=(0,r.useCallback)(e=>{f(t=>({key:e,direction:t.key===e&&"asc"===t.direction?"desc":"asc"}))},[]),F=(0,r.useMemo)(()=>[{key:"date",label:"Date",type:"date",category:"Basic"},{key:"customer",label:"Customer",type:"text",category:"Basic"},{key:"phone",label:"Phone",type:"text",category:"Basic"},{key:"email",label:"Email",type:"text",category:"Basic"},{key:"address",label:"Address",type:"text",category:"Basic"},{key:"quality",label:"Quality",type:"text",category:"Job Info"},{key:"disposition",label:"Disposition",type:"text",category:"Job Info"},{key:"leadSource",label:"Lead Source",type:"text",category:"Job Info"},{key:"roofAge",label:"Roof Age",type:"text",category:"Job Info"},{key:"roofType",label:"Roof Type",type:"text",category:"Job Info"},{key:"sqFt",label:"SQ FT",type:"number",category:"Measurements"},{key:"ridgeLf",label:"Ridge LF",type:"number",category:"Measurements"},{key:"valleyLf",label:"Valley LF",type:"number",category:"Measurements"},{key:"eavesLf",label:"Eaves LF",type:"number",category:"Measurements"},{key:"quote",label:"Quote",type:"number",category:"Financial"},{key:"ridgeVents",label:"Ridge Vents",type:"number",category:"Ventilation"},{key:"turbine",label:"Turbine",type:"number",category:"Ventilation"},{key:"rimeFlow",label:"Rime Flow",type:"number",category:"Ventilation"},{key:"highProfileRidgeCap",label:"High Profile Ridge Cap",type:"number",category:"Components"},{key:"valleyMetal",label:"Valley Metal",type:"number",category:"Components"},{key:"pipes1Half",label:'Pipes 1.5"',type:"number",category:"Pipes"},{key:"pipes2",label:'Pipes 2"',type:"number",category:"Pipes"},{key:"pipes3",label:'Pipes 3"',type:"number",category:"Pipes"},{key:"pipes4",label:'Pipes 4"',type:"number",category:"Pipes"},{key:"gables",label:"Gables",type:"number",category:"Features"},{key:"turtleBacks",label:"Turtle Backs",type:"number",category:"Features"},{key:"satellite",label:"Satellite",type:"number",category:"Features"},{key:"chimney",label:"Chimney",type:"number",category:"Features"},{key:"solar",label:"Solar",type:"number",category:"Features"},{key:"swampCooler",label:"Swamp Cooler",type:"number",category:"Features"},{key:"guttersLf",label:"Gutters LF",type:"number",category:"Gutters"},{key:"downspouts",label:"Downspouts",type:"number",category:"Gutters"},{key:"gutterGuardLf",label:"Gutter Guard LF",type:"number",category:"Gutters"},{key:"permanentLighting",label:"Permanent Lighting",type:"number",category:"Additional"}],[]),z=(0,r.useCallback)((e,t)=>{const n=F.find(e=>e.key===t);return"customer"===t?e.customerName||"".concat(e.firstName||""," ").concat(e.lastName||"").trim()||"Unknown":"phone"===t?e.phoneNumber||"":"quote"===t?parseFloat(e.dabellaQuote)||0:"number"===(null===n||void 0===n?void 0:n.type)?parseFloat(e[t])||0:e[t]||""},[F]),U=(0,r.useCallback)(e=>{L(t=>c(c({},t),{},{[e]:!t[e]}))},[]),V=(0,r.useCallback)((e,t)=>{g(n=>{const r=c({},n);return""===t||null===t||void 0===t?delete r[e]:r[e]=t,x(1),r})},[]),B=(0,r.useCallback)(()=>{g({}),u(""),h(""),x(1)},[]),H=(0,r.useMemo)(()=>{let e=t.filter(e=>{var t;const n=!l||[e.firstName,e.lastName,e.customerName,null===(t=e.phoneNumber)||void 0===t?void 0:t.toString(),e.address,e.quality,e.disposition,e.leadSource].some(e=>null===e||void 0===e?void 0:e.toLowerCase().includes(l.toLowerCase())),r=!d||e.date===d,a=Object.entries(p).every(t=>{let n,[r,a]=t;if(!a)return!0;if("customer"===r)n=e.customerName||"".concat(e.firstName||""," ").concat(e.lastName||"").trim();else if("phone"===r){var s;n=(null===(s=e.phoneNumber)||void 0===s?void 0:s.toString())||""}else if("quote"===r)n=parseFloat(e.dabellaQuote)||0;else{const t=F.find(e=>e.key===r);n="number"===(null===t||void 0===t?void 0:t.type)?parseFloat(e[r])||0:e[r]||""}const o=F.find(e=>e.key===r);return"number"===(null===o||void 0===o?void 0:o.type)?n>=parseFloat(a):n.toString().toLowerCase().includes(a.toLowerCase())});return n&&r&&a});return m.key&&e.sort((e,t)=>{const n=z(e,m.key),r=z(t,m.key);if("string"===typeof n&&"string"===typeof r){const e=n.toLowerCase().localeCompare(r.toLowerCase());return"asc"===m.direction?e:-e}{const e=n-r;return"asc"===m.direction?e:-e}}),e},[t,l,d,p,m,z,F]),q=(0,r.useMemo)(()=>{const e=(v-1)*w,t=e+w;return H.slice(e,t)},[H,v,w]),W=Math.ceil(H.length/w),G=(0,r.useMemo)(()=>l||d||Object.keys(p).length>0,[l,d,p]),J=(0,r.useMemo)(()=>H.reduce((e,t)=>(e.totalJobs+=1,e.totalSqFt+=parseFloat(t.sqFt)||0,e.totalRidgeLf+=parseFloat(t.ridgeLf)||0,e.totalValleyLf+=parseFloat(t.valleyLf)||0,e),{totalJobs:0,totalSqFt:0,totalRidgeLf:0,totalValleyLf:0}),[H]),Q=e=>{var t;let{sortKey:n,children:r,className:a=""}=e;const s=p[n];return(0,Ja.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ".concat(a),children:(0,Ja.jsxs)("div",{className:"space-y-2",children:[(0,Ja.jsxs)("div",{className:"flex items-center justify-between cursor-pointer hover:bg-gray-100 transition-colors select-none p-1 rounded",onClick:()=>D(n),children:[(0,Ja.jsx)("span",{className:s?"text-blue-600 font-semibold":"",children:r}),(0,Ja.jsxs)("div",{className:"flex items-center space-x-1",children:[s&&(0,Ja.jsx)(ns,{className:"w-3 h-3 text-blue-600"}),(0,Ja.jsxs)("div",{className:"flex flex-col",children:[(0,Ja.jsx)(rs,{className:"w-3 h-3 ".concat(m.key===n&&"asc"===m.direction?"text-blue-600":"text-gray-300")}),(0,Ja.jsx)(as,{className:"w-3 h-3 -mt-1 ".concat(m.key===n&&"desc"===m.direction?"text-blue-600":"text-gray-300")})]})]})]}),y&&(0,Ja.jsx)(K,{column:n,value:p[n]||"",onChange:e=>V(n,e),type:(null===(t=F.find(e=>e.key===n))||void 0===t?void 0:t.type)||"text"})]})})},K=e=>{let{column:t,value:n,onChange:r,type:a}=e;const s="number"===a?"Min value...":"Filter...";return(0,Ja.jsxs)("div",{className:"relative",children:[(0,Ja.jsx)("input",{type:"number"===a?"number":"date"===a?"date":"text",value:n,onChange:e=>r(e.target.value),placeholder:s,className:"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500",onClick:e=>e.stopPropagation()}),n&&(0,Ja.jsx)("button",{onClick:e=>{e.stopPropagation(),r("")},className:"absolute right-1 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:(0,Ja.jsx)(ss,{className:"w-3 h-3"})})]})};return(0,Ja.jsxs)("div",{className:"space-y-6",children:[(0,Ja.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ja.jsxs)("div",{children:[(0,Ja.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Job Count Management"}),(0,Ja.jsx)("p",{className:"text-gray-600 mt-1",children:"Track roofing job counts, measurements, and customer information"})]}),(0,Ja.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ja.jsxs)("button",{onClick:o,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[(0,Ja.jsx)(os,{className:"w-4 h-4 mr-2"}),"Refresh"]}),(0,Ja.jsxs)("button",{onClick:n,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors",children:[(0,Ja.jsx)(es,{className:"w-4 h-4 mr-2"}),"Add Job Count"]})]})]}),(0,Ja.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,Ja.jsxs)("div",{className:"space-y-4",children:[(0,Ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Ja.jsxs)("div",{className:"relative md:col-span-2",children:[(0,Ja.jsx)(is,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Ja.jsx)("input",{type:"text",placeholder:"Search across all fields...",value:l,onChange:e=>u(e.target.value),className:"pl-10 pr-4 py-3 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,Ja.jsxs)("div",{className:"relative",children:[(0,Ja.jsx)(j,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Ja.jsx)("input",{type:"date",value:d,onChange:e=>h(e.target.value),className:"pl-10 pr-4 py-3 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,Ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ja.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ja.jsxs)("button",{onClick:()=>b(!y),className:"inline-flex items-center px-3 py-2 border rounded-lg text-sm font-medium transition-colors ".concat(y?"border-blue-500 text-blue-700 bg-blue-50":"border-gray-300 text-gray-700 bg-white hover:bg-gray-50"),children:[(0,Ja.jsx)(ns,{className:"w-4 h-4 mr-2"}),"Column Filters",Object.keys(p).length>0&&(0,Ja.jsx)("span",{className:"ml-2 bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full",children:Object.keys(p).length})]}),(0,Ja.jsxs)("button",{onClick:()=>S(!C),className:"inline-flex items-center px-3 py-2 border rounded-lg text-sm font-medium transition-colors ".concat(C?"border-purple-500 text-purple-700 bg-purple-50":"border-gray-300 text-gray-700 bg-white hover:bg-gray-50"),children:[(0,Ja.jsx)(ls,{className:"w-4 h-4 mr-2"}),"Manage Columns",(0,Ja.jsx)("span",{className:"ml-2 bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded-full",children:Object.values(I).filter(Boolean).length})]}),G&&(0,Ja.jsxs)("button",{onClick:B,className:"inline-flex items-center px-3 py-2 border border-red-300 rounded-lg text-sm font-medium text-red-700 bg-red-50 hover:bg-red-100 transition-colors",children:[(0,Ja.jsx)(ss,{className:"w-4 h-4 mr-2"}),"Clear All Filters"]})]}),(0,Ja.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ja.jsxs)("select",{value:w,onChange:e=>{N(Number(e.target.value)),x(1)},className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Ja.jsx)("option",{value:10,children:"10 per page"}),(0,Ja.jsx)("option",{value:25,children:"25 per page"}),(0,Ja.jsx)("option",{value:50,children:"50 per page"}),(0,Ja.jsx)("option",{value:100,children:"100 per page"})]}),(0,Ja.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",0===H.length?0:(v-1)*w+1,"-",Math.min(v*w,H.length)," of ",H.length]})]})]})]})}),C&&(0,Ja.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,Ja.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Ja.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Manage Visible Columns"}),(0,Ja.jsx)("button",{onClick:()=>{L(I),S(!1)},className:"text-gray-400 hover:text-gray-600",children:(0,Ja.jsx)(ss,{className:"w-5 h-5"})})]}),(0,Ja.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4 mb-6",children:F.map(e=>(0,Ja.jsxs)("label",{className:"flex items-center space-x-2 p-2 rounded hover:bg-gray-50 cursor-pointer",children:[(0,Ja.jsx)("input",{type:"checkbox",checked:P[e.key],onChange:()=>U(e.key),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,Ja.jsx)("span",{className:"text-sm text-gray-700",children:e.label})]},e.key))}),(0,Ja.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,Ja.jsx)("button",{onClick:()=>{L(I),S(!1)},className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,Ja.jsxs)("button",{onClick:R,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors",children:[(0,Ja.jsx)(cs,{className:"w-4 h-4 mr-2"}),"Save Column Selection"]})]})]}),(0,Ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Ja.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,Ja.jsxs)("div",{className:"flex items-center",children:[(0,Ja.jsx)("div",{className:"flex-shrink-0",children:(0,Ja.jsx)($a,{className:"h-8 w-8 text-blue-600"})}),(0,Ja.jsxs)("div",{className:"ml-4",children:[(0,Ja.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Jobs"}),(0,Ja.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:J.totalJobs})]})]})}),(0,Ja.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,Ja.jsxs)("div",{className:"flex items-center",children:[(0,Ja.jsx)("div",{className:"flex-shrink-0",children:(0,Ja.jsx)(k,{className:"h-8 w-8 text-green-600"})}),(0,Ja.jsxs)("div",{className:"ml-4",children:[(0,Ja.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total SQ FT"}),(0,Ja.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:A(J.totalSqFt)})]})]})}),(0,Ja.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,Ja.jsxs)("div",{className:"flex items-center",children:[(0,Ja.jsx)("div",{className:"flex-shrink-0",children:(0,Ja.jsx)(Ya,{className:"h-8 w-8 text-purple-600"})}),(0,Ja.jsxs)("div",{className:"ml-4",children:[(0,Ja.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Ridge LF"}),(0,Ja.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:A(J.totalRidgeLf)})]})]})}),(0,Ja.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,Ja.jsxs)("div",{className:"flex items-center",children:[(0,Ja.jsx)("div",{className:"flex-shrink-0",children:(0,Ja.jsx)(Ya,{className:"h-8 w-8 text-orange-600"})}),(0,Ja.jsxs)("div",{className:"ml-4",children:[(0,Ja.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Valley LF"}),(0,Ja.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:A(J.totalValleyLf)})]})]})})]}),(0,Ja.jsx)("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 overflow-hidden",children:(0,Ja.jsxs)("div",{className:"overflow-x-auto",children:[(0,Ja.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Ja.jsx)("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:(0,Ja.jsxs)("tr",{children:[F.filter(e=>I[e.key]).map(e=>(0,Ja.jsx)(Q,{sortKey:e.key,children:e.label},e.key)),(0,Ja.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Ja.jsx)("tbody",{className:"bg-white divide-y divide-gray-100",children:q.map((e,t)=>(0,Ja.jsxs)("tr",{className:"cursor-pointer transition-all duration-200 hover:bg-blue-50 hover:shadow-md transform hover:-translate-y-0.5 ".concat(t%2===0?"bg-white":"bg-gray-50"),onClick:()=>i(e),children:[F.filter(e=>I[e.key]).map(t=>(0,Ja.jsx)("td",{className:"px-6 py-5 whitespace-nowrap",children:(()=>{if("date"===t.key)return(0,Ja.jsx)("div",{className:"text-sm font-medium text-gray-900",children:O(e.date)});if("customer"===t.key)return(0,Ja.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:e.customerName||"".concat(e.firstName||""," ").concat(e.lastName||"").trim()||"Unknown"});if("phone"===t.key)return(0,Ja.jsx)("a",{href:"tel:".concat(e.phoneNumber),onClick:e=>e.stopPropagation(),className:"text-sm font-medium text-blue-600 hover:text-blue-800 hover:underline transition-colors",children:M(e.phoneNumber)});if("email"===t.key)return e.email?(0,Ja.jsx)("a",{href:"mailto:".concat(e.email),onClick:e=>e.stopPropagation(),className:"text-sm text-blue-600 hover:text-blue-800 hover:underline transition-colors",children:e.email}):"-";if("address"===t.key)return(0,Ja.jsx)("div",{className:"text-sm text-gray-700 truncate max-w-xs",children:e.address||"-"});if("quote"===t.key)return e.dabellaQuote?(0,Ja.jsxs)("span",{className:"text-sm bg-green-100 text-green-800 px-3 py-1 rounded-full font-medium",children:["$",A(e.dabellaQuote)]}):"-";if("number"===t.type){const n=e[t.key];return n?(0,Ja.jsx)("div",{className:"text-sm font-medium text-gray-900",children:A(n)}):"-"}return(0,Ja.jsx)("div",{className:"text-sm text-gray-900",children:e[t.key]||"-"})})()},t.key)),(0,Ja.jsx)("td",{className:"px-6 py-5 whitespace-nowrap text-sm font-medium",children:(0,Ja.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ja.jsx)("button",{onClick:t=>{t.stopPropagation(),i(e)},className:"text-blue-600 hover:text-blue-900 p-2 rounded-lg hover:bg-blue-100 transition-all duration-200 hover:scale-110",title:"View Details",children:(0,Ja.jsx)(us,{className:"w-4 h-4"})}),(0,Ja.jsx)("button",{onClick:t=>{t.stopPropagation(),a(e)},className:"text-orange-600 hover:text-orange-900 p-2 rounded-lg hover:bg-orange-100 transition-all duration-200 hover:scale-110",title:"Edit",children:(0,Ja.jsx)(ds,{className:"w-4 h-4"})})]})})]},e.id||t))})]}),0===H.length&&(0,Ja.jsxs)("div",{className:"text-center py-12",children:[(0,Ja.jsx)(k,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Ja.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No job counts found"}),(0,Ja.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:G?"Try adjusting your search or filter criteria.":"Get started by adding your first job count."})]})]})}),H.length>0&&W>1&&(0,Ja.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:(0,Ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ja.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ja.jsx)("button",{onClick:()=>x(1),disabled:1===v,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"First"}),(0,Ja.jsxs)("button",{onClick:()=>x(e=>Math.max(1,e-1)),disabled:1===v,className:"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Ja.jsx)(hs,{className:"w-4 h-4 mr-1"}),"Previous"]})]}),(0,Ja.jsx)("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(7,W)},(e,t)=>{let n;return n=W<=7||v<=4?t+1:v>=W-3?W-6+t:v-3+t,(0,Ja.jsx)("button",{onClick:()=>x(n),className:"px-3 py-2 text-sm font-medium rounded-lg ".concat(v===n?"bg-blue-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"),children:n},n)})}),(0,Ja.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ja.jsxs)("button",{onClick:()=>x(e=>Math.min(W,e+1)),disabled:v===W,className:"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:["Next",(0,Ja.jsx)(ms,{className:"w-4 h-4 ml-1"})]}),(0,Ja.jsx)("button",{onClick:()=>x(W),disabled:v===W,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Last"})]})]})})]})},gs=y("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),ys=y("navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]),bs=y("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]),vs="AIzaSyA-IhqTEAOQMTU9DlEeUwt1_oM5yq3-sb4";let xs=!1;function ws(e){let{leads:t,onLeadClick:n,showDemoData:a,mapType:s,showTraffic:o,searchAddress:i,onSearchComplete:l,selectedCustomer:u,onCustomerLocated:d}=e;const h=(0,r.useRef)(null),m=(0,r.useRef)([]),f=(0,r.useRef)(null),p=(0,r.useRef)(null),[g,y]=(0,r.useState)(null),[v,x]=(0,r.useState)(!0),[w,k]=(0,r.useState)(null),N=(0,r.useMemo)(()=>[{id:"demo1",customerName:"John Smith",phoneNumber:"555-0123",address:"123 Main St, Ogden, UT",quality:"Hot",latitude:41.223,longitude:-111.9738},{id:"demo2",customerName:"Sarah Johnson",phoneNumber:"555-0456",address:"456 Oak Ave, Salt Lake City, UT",quality:"Warm",latitude:40.7608,longitude:-111.891},{id:"demo3",customerName:"Mike Wilson",phoneNumber:"555-0789",address:"789 Pine St, Provo, UT",quality:"Cold",latitude:40.2338,longitude:-111.6585},{id:"demo4",customerName:"Emily Davis",phoneNumber:"555-0321",address:"321 Elm Dr, West Valley, UT",quality:"Hot",latitude:40.6916,longitude:-112.0011},{id:"demo5",customerName:"Chris Brown",phoneNumber:"555-0654",address:"654 Cedar Ln, Layton, UT",quality:"Warm",latitude:41.0602,longitude:-111.9711}],[]),j=a?N:t,C=j.filter(e=>!e.address||""===e.address.trim()),S=(0,r.useCallback)(e=>{switch(e){case"Hot":return"#dc2626";case"Warm":return"#f59e0b";case"Cold":return"#3b82f6";default:return"#6b7280"}},[]),_=(0,r.useCallback)(e=>{const t=S(e);return{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent('<svg width="36" height="36" viewBox="0 0 36 36" xmlns="http://www.w3.org/2000/svg">\n          <path d="M18 2c-7.7 0-14 6.3-14 14 0 10.5 14 18 14 18s14-7.5 14-18c0-7.7-6.3-14-14-14z" fill="'.concat(t,'" stroke="#ffffff" stroke-width="2"/>\n          <circle cx="18" cy="16" r="6" fill="#ffffff"/>\n          <circle cx="18" cy="16" r="3" fill="').concat(t,'"/>\n        </svg>')),scaledSize:new window.google.maps.Size(36,36),anchor:new window.google.maps.Point(18,36)}},[S]);(0,r.useEffect)(()=>{(async()=>{try{const e=await new Promise((e,t)=>{var n;if(xs&&null!==(n=window.google)&&void 0!==n&&n.maps)return e(window.google);const r="google-maps-script",a=document.getElementById(r);if(a)return a.addEventListener("load",()=>{xs=!0,e(window.google)}),void a.addEventListener("error",()=>{t(new Error("Failed to load Google Maps. Please check your API key and internet connection."))});const s=document.createElement("script");s.id=r,s.src="https://maps.googleapis.com/maps/api/js?key=".concat(vs,"&libraries=geometry,places&loading=async"),s.async=!0,s.defer=!0,s.onload=()=>{xs=!0,e(window.google)},s.onerror=()=>{document.head.removeChild(s),t(new Error("Failed to load Google Maps. Please check your API key and internet connection."))},document.head.appendChild(s)});if(!h.current)return;const t=[{featureType:"poi.business",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"labels.text",stylers:[{visibility:"off"}]}],n=new e.maps.Map(h.current,{center:{lat:40.7608,lng:-111.891},zoom:9,styles:t,mapTypeId:s,mapTypeControl:!0,streetViewControl:!0,fullscreenControl:!0,zoomControl:!0});p.current=new e.maps.TrafficLayer,o&&p.current.setMap(n),f.current=new e.maps.InfoWindow,y(n)}catch(e){k(e.message)}finally{x(!1)}})()},[s,o]),(0,r.useEffect)(()=>{p.current&&g&&p.current.setMap(o?g:null)},[o,g]),(0,r.useEffect)(()=>{if(!g||!window.google||!i)return;(new window.google.maps.Geocoder).geocode({address:i},(e,t)=>{if("OK"===t&&e[0]){const t=e[0].geometry.location;g.setCenter(t),g.setZoom(15),new window.google.maps.Marker({position:t,map:g,title:i,icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:8,fillColor:"#4F46E5",fillOpacity:1,strokeColor:"#ffffff",strokeWeight:2}})}l&&l()})},[g,i,l]),(0,r.useEffect)(()=>(window.viewLeadDetails=e=>{const t=j.find(t=>t.id===e);t&&n&&n(t)},()=>{window.viewLeadDetails=null}),[j,n]);const I=(0,r.useCallback)((e,t)=>{if(!g||!window.google)return;(new window.google.maps.Geocoder).geocode({address:e},(e,n)=>{if("OK"===n&&e[0]){const n=e[0].geometry.location;t({lat:n.lat(),lng:n.lng(),success:!0})}else t({success:!1,error:n})})},[g]);return(0,r.useEffect)(()=>{u&&g&&window.google&&I(u.address,e=>{if(e.success){const t={lat:e.lat,lng:e.lng};m.current.forEach(e=>e.setMap(null)),m.current=[],g.setCenter(t),g.setZoom(15);const n=new window.google.maps.Marker({position:t,map:g,title:u.customerName,icon:_(u.quality),animation:window.google.maps.Animation.DROP});n.addListener("click",()=>{const e='\n            <div style="padding: 12px; min-width: 200px;">\n              <h3 style="margin: 0 0 8px 0; color: #1f2937; font-size: 16px; font-weight: 600;">\n                '.concat(u.customerName||"Unknown",'\n              </h3>\n              <div style="margin-bottom: 8px;">\n                <strong style="color: #374151;">Phone:</strong>\n                <a href="tel:').concat(u.phoneNumber,'" style="color: #3b82f6; text-decoration: none;">\n                  ').concat(u.phoneNumber||"N/A",'\n                </a>\n              </div>\n              <div style="margin-bottom: 8px;">\n                <strong style="color: #374151;">Quality:</strong>\n                <span style="background: ').concat(S(u.quality),"20; color: ").concat(S(u.quality),'; padding: 2px 6px; border-radius: 4px; font-size: 12px;">\n                  ').concat(u.quality,'\n                </span>\n              </div>\n              <div style="margin-bottom: 12px; color: #6b7280; font-size: 14px;">').concat(u.address,"</div>\n              <button onclick=\"window.viewLeadDetails('").concat(u.id,'\')"\n                      style="background: #3b82f6; color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer; font-size: 14px; font-weight: 500;">\n                View Details\n              </button>\n            </div>\n          ');f.current.setContent(e),f.current.open(g,n)}),m.current.push(n),d&&d(c(c({},u),{},{lat:e.lat,lng:e.lng}))}else console.warn("Failed to geocode customer address:",u.address,e.error)})},[u,g,I,_,S,d]),v?(0,Ja.jsx)("div",{className:"h-[70vh] w-full rounded-lg border border-gray-300 flex items-center justify-center bg-gray-50",children:(0,Ja.jsxs)("div",{className:"text-center",children:[(0,Ja.jsx)(b,{className:"animate-spin h-10 w-10 text-blue-600 mx-auto mb-3"}),(0,Ja.jsx)("p",{className:"text-gray-600 text-lg",children:"Loading Interactive Map..."}),(0,Ja.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:"Connecting to Google Maps"})]})}):w?(0,Ja.jsx)("div",{className:"h-[70vh] w-full rounded-lg border border-red-300 flex items-center justify-center bg-red-50",children:(0,Ja.jsxs)("div",{className:"text-center max-w-md",children:[(0,Ja.jsx)(E,{className:"h-12 w-12 text-red-600 mx-auto mb-3"}),(0,Ja.jsx)("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Map Loading Failed"}),(0,Ja.jsx)("p",{className:"text-red-600 mb-3",children:w}),(0,Ja.jsx)("p",{className:"text-sm text-gray-600",children:"Please check your Google Maps API key configuration and internet connection."})]})}):(0,Ja.jsxs)("div",{children:[(0,Ja.jsx)("div",{ref:h,className:"h-[70vh] w-full rounded-lg overflow-hidden border border-gray-300 shadow-sm"}),!a&&C.length>0&&(0,Ja.jsxs)("div",{className:"mt-4 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,Ja.jsxs)("h4",{className:"text-sm font-semibold text-yellow-800 mb-3 flex items-center",children:[(0,Ja.jsx)(E,{className:"w-4 h-4 mr-2"}),"Leads Without Address Data (",C.length,")"]}),(0,Ja.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:C.slice(0,4).map(e=>(0,Ja.jsxs)("div",{className:"bg-white p-3 rounded border border-yellow-200 hover:shadow-sm transition-shadow cursor-pointer",onClick:()=>n&&n(e),children:[(0,Ja.jsx)("div",{className:"font-medium text-gray-900",children:e.customerName||"Unknown"}),(0,Ja.jsx)("div",{className:"text-sm text-gray-600",children:e.phoneNumber||"No phone"}),(0,Ja.jsx)("div",{className:"text-xs text-gray-500",children:"No address provided"})]},e.id))}),C.length>4&&(0,Ja.jsxs)("div",{className:"mt-3 text-sm text-yellow-700",children:["And ",C.length-4," more leads without addresses..."]})]})]})}const ks=function(e){let{leads:t,onLeadClick:n,searchAddress:a,onSearchComplete:s}=e;const[o,i]=(0,r.useState)(!1),[l,c]=(0,r.useState)("roadmap"),[u,d]=(0,r.useState)(!1),[h,m]=(0,r.useState)(null),[f,p]=(0,r.useState)(""),[g,y]=(0,r.useState)(!1),b=(0,r.useMemo)(()=>t.filter(e=>e.address&&""!==e.address.trim()),[t]),v=b.length>0,x=(0,r.useMemo)(()=>f?b.filter(e=>{var t,n,r;return(null===(t=e.customerName)||void 0===t?void 0:t.toLowerCase().includes(f.toLowerCase()))||(null===(n=e.firstName)||void 0===n?void 0:n.toLowerCase().includes(f.toLowerCase()))||(null===(r=e.lastName)||void 0===r?void 0:r.toLowerCase().includes(f.toLowerCase()))}):b,[b,f]);(0,r.useEffect)(()=>{const e=e=>{e.target.closest(".customer-search-dropdown")||y(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const w=(0,r.useMemo)(()=>{const e=o?[{quality:"Hot"},{quality:"Hot"},{quality:"Warm"},{quality:"Warm"},{quality:"Cold"}]:t;return{hot:e.filter(e=>"Hot"===e.quality).length,warm:e.filter(e=>"Warm"===e.quality).length,cold:e.filter(e=>"Cold"===e.quality).length,total:e.length,mapped:b.length}},[t,b,o]);return(0,Ja.jsxs)("div",{className:"space-y-6",children:[(0,Ja.jsxs)("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-4",children:[(0,Ja.jsxs)("div",{children:[(0,Ja.jsxs)("h2",{className:"text-3xl font-bold text-gray-900 flex items-center",children:[(0,Ja.jsx)(gs,{className:"w-8 h-8 mr-3 text-blue-600"}),"Customer Locations"]}),(0,Ja.jsx)("p",{className:"text-gray-600 mt-1",children:"Interactive map showing customer locations with lead quality indicators"})]}),(0,Ja.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,Ja.jsxs)("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[(0,Ja.jsxs)("button",{onClick:()=>i(!1),className:"px-3 py-1 text-sm font-medium rounded-md transition-colors ".concat(o?"text-gray-600 hover:text-gray-900":"bg-white text-gray-900 shadow-sm"),children:["Real Data (",t.length,")"]}),(0,Ja.jsx)("button",{onClick:()=>i(!0),className:"px-3 py-1 text-sm font-medium rounded-md transition-colors ".concat(o?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Demo Data (5)"})]}),(0,Ja.jsxs)("div",{className:"relative customer-search-dropdown",children:[(0,Ja.jsxs)("div",{className:"flex items-center",children:[(0,Ja.jsx)(is,{className:"w-4 h-4 text-gray-400 absolute left-3 z-10"}),(0,Ja.jsx)("input",{type:"text",placeholder:"Search customer...",value:f,onChange:e=>{p(e.target.value),y(!0)},onFocus:()=>y(!0),className:"pl-10 pr-10 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 w-64"}),(0,Ja.jsx)(as,{className:"w-4 h-4 text-gray-400 absolute right-3"})]}),g&&x.length>0&&(0,Ja.jsxs)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto z-20",children:[x.slice(0,10).map(e=>(0,Ja.jsxs)("button",{onClick:()=>(e=>{m(e),p(e.customerName||"".concat(e.firstName||""," ").concat(e.lastName||"").trim()),y(!1)})(e),className:"w-full text-left px-4 py-3 hover:bg-gray-50 border-b border-gray-100 last:border-b-0",children:[(0,Ja.jsx)("div",{className:"font-medium text-gray-900",children:e.customerName||"".concat(e.firstName||""," ").concat(e.lastName||"").trim()||"Unknown"}),(0,Ja.jsx)("div",{className:"text-sm text-gray-500 truncate",children:e.address}),(0,Ja.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:(0,Ja.jsx)("span",{className:"inline-flex px-2 py-1 rounded-full text-xs font-medium ".concat("Hot"===e.quality?"bg-red-100 text-red-800":"Warm"===e.quality?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:e.quality})})]},e.id)),x.length>10&&(0,Ja.jsxs)("div",{className:"px-4 py-2 text-sm text-gray-500 bg-gray-50",children:["And ",x.length-10," more results..."]})]})]}),(0,Ja.jsxs)("select",{value:l,onChange:e=>c(e.target.value),className:"text-sm border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Ja.jsx)("option",{value:"roadmap",children:"Road Map"}),(0,Ja.jsx)("option",{value:"satellite",children:"Satellite"}),(0,Ja.jsx)("option",{value:"hybrid",children:"Hybrid"}),(0,Ja.jsx)("option",{value:"terrain",children:"Terrain"})]}),(0,Ja.jsxs)("button",{onClick:()=>d(!u),className:"flex items-center px-3 py-2 text-sm font-medium rounded-lg border transition-colors ".concat(u?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"),children:[(0,Ja.jsx)(ys,{className:"w-4 h-4 mr-2"}),"Traffic"]})]})]}),(0,Ja.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Ja.jsx)("div",{className:"bg-white rounded-lg shadow p-4 border-l-4 border-red-500",children:(0,Ja.jsxs)("div",{className:"flex items-center",children:[(0,Ja.jsx)("div",{className:"flex-shrink-0",children:(0,Ja.jsx)("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:(0,Ja.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full"})})}),(0,Ja.jsxs)("div",{className:"ml-3",children:[(0,Ja.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Hot Leads"}),(0,Ja.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:w.hot})]})]})}),(0,Ja.jsx)("div",{className:"bg-white rounded-lg shadow p-4 border-l-4 border-yellow-500",children:(0,Ja.jsxs)("div",{className:"flex items-center",children:[(0,Ja.jsx)("div",{className:"flex-shrink-0",children:(0,Ja.jsx)("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:(0,Ja.jsx)("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"})})}),(0,Ja.jsxs)("div",{className:"ml-3",children:[(0,Ja.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Warm Leads"}),(0,Ja.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:w.warm})]})]})}),(0,Ja.jsx)("div",{className:"bg-white rounded-lg shadow p-4 border-l-4 border-blue-500",children:(0,Ja.jsxs)("div",{className:"flex items-center",children:[(0,Ja.jsx)("div",{className:"flex-shrink-0",children:(0,Ja.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,Ja.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full"})})}),(0,Ja.jsxs)("div",{className:"ml-3",children:[(0,Ja.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Cold Leads"}),(0,Ja.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:w.cold})]})]})}),(0,Ja.jsx)("div",{className:"bg-white rounded-lg shadow p-4 border-l-4 border-gray-500",children:(0,Ja.jsxs)("div",{className:"flex items-center",children:[(0,Ja.jsx)("div",{className:"flex-shrink-0",children:(0,Ja.jsx)("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center",children:(0,Ja.jsx)(gs,{className:"w-4 h-4 text-gray-600"})})}),(0,Ja.jsxs)("div",{className:"ml-3",children:[(0,Ja.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Mapped"}),(0,Ja.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:o?5:w.mapped})]})]})})]}),v||o?(0,Ja.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,Ja.jsx)("div",{className:"p-4 bg-gray-50 border-b border-gray-200",children:(0,Ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ja.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ja.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Interactive Map"}),(0,Ja.jsxs)("div",{className:"flex items-center space-x-3 text-sm text-gray-600",children:[(0,Ja.jsxs)("div",{className:"flex items-center",children:[(0,Ja.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full mr-1"}),"Hot (",w.hot,")"]}),(0,Ja.jsxs)("div",{className:"flex items-center",children:[(0,Ja.jsx)("div",{className:"w-3 h-3 bg-yellow-500 rounded-full mr-1"}),"Warm (",w.warm,")"]}),(0,Ja.jsxs)("div",{className:"flex items-center",children:[(0,Ja.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full mr-1"}),"Cold (",w.cold,")"]})]})]}),o&&(0,Ja.jsxs)("div",{className:"flex items-center text-sm text-blue-600 bg-blue-50 px-3 py-1 rounded-full",children:[(0,Ja.jsx)(bs,{className:"w-4 h-4 mr-1"}),"Demo Mode"]})]})}),(0,Ja.jsx)(ws,{leads:t,onLeadClick:n,showDemoData:o,mapType:l,showTraffic:u,searchAddress:a,onSearchComplete:s,selectedCustomer:h,onCustomerLocated:e=>console.log("Customer located:",e)})]}):(0,Ja.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:(0,Ja.jsxs)("div",{className:"text-center py-12",children:[(0,Ja.jsx)(N,{className:"mx-auto h-20 w-20 text-gray-400 mb-6"}),(0,Ja.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"No Location Data Available"}),(0,Ja.jsx)("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Your leads don't have geocoded coordinates yet. Add addresses to your leads or use demo data to see the map in action."}),(0,Ja.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[(0,Ja.jsxs)("button",{onClick:()=>i(!0),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,Ja.jsx)(N,{className:"w-4 h-4 mr-2"}),"View Demo Data"]}),(0,Ja.jsxs)("button",{className:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[(0,Ja.jsx)(is,{className:"w-4 h-4 mr-2"}),"Learn About Geocoding"]})]})]})})]})},Ns=y("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),js=y("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),Cs=y("list",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]),Ss=y("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const _s=function(){const[e,t]=(0,r.useState)("MONTH"),n="brandon@rimehq.net",a=()=>{window.open("https://calendar.google.com/calendar/u/0/r?cid=".concat(n),"_blank")},s=()=>{const e=document.getElementById("google-calendar-iframe");if(e){const t=e.src;e.src="",e.src=t}};return(0,Ja.jsxs)("div",{className:"space-y-6",children:[(0,Ja.jsxs)("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-start gap-4",children:[(0,Ja.jsxs)("div",{children:[(0,Ja.jsxs)("h2",{className:"text-3xl font-bold text-gray-900 flex items-center",children:[(0,Ja.jsx)(Ns,{className:"w-8 h-8 mr-3 text-blue-600"}),"Calendar"]}),(0,Ja.jsxs)("p",{className:"text-gray-600 mt-1",children:["View and manage appointments from Google Calendar for ",n]})]}),(0,Ja.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,Ja.jsxs)("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[(0,Ja.jsxs)("button",{onClick:()=>t("MONTH"),className:"px-3 py-2 text-sm font-medium rounded-md transition-colors flex items-center gap-2 ".concat("MONTH"===e?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[(0,Ja.jsx)(js,{className:"w-4 h-4"}),"Month"]}),(0,Ja.jsxs)("button",{onClick:()=>t("WEEK"),className:"px-3 py-2 text-sm font-medium rounded-md transition-colors flex items-center gap-2 ".concat("WEEK"===e?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[(0,Ja.jsx)(j,{className:"w-4 h-4"}),"Week"]}),(0,Ja.jsxs)("button",{onClick:()=>t("AGENDA"),className:"px-3 py-2 text-sm font-medium rounded-md transition-colors flex items-center gap-2 ".concat("AGENDA"===e?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[(0,Ja.jsx)(Cs,{className:"w-4 h-4"}),"Agenda"]})]}),(0,Ja.jsxs)("button",{onClick:s,className:"inline-flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors shadow-sm",children:[(0,Ja.jsx)(os,{className:"w-4 h-4 mr-2"}),"Refresh"]}),(0,Ja.jsxs)("button",{onClick:a,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:[(0,Ja.jsx)(Ss,{className:"w-4 h-4 mr-2"}),"Open in Google"]})]})]}),(0,Ja.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-start",children:[(0,Ja.jsx)(I,{className:"w-5 h-5 text-blue-600 mr-3 mt-0.5 flex-shrink-0"}),(0,Ja.jsxs)("div",{className:"flex-1",children:[(0,Ja.jsx)("h3",{className:"text-sm font-semibold text-blue-900 mb-1",children:"Google Calendar Integration"}),(0,Ja.jsxs)("p",{className:"text-sm text-blue-800",children:["This calendar displays all events from ",(0,Ja.jsx)("span",{className:"font-semibold",children:n}),'. To add or edit appointments, click "Open in Google" to manage them directly in Google Calendar.']})]})]}),(0,Ja.jsx)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden border border-gray-200",children:(0,Ja.jsx)("iframe",{id:"google-calendar-iframe",src:(()=>{const t=new URLSearchParams({src:n,ctz:"America/Denver",mode:e,showTitle:"0",showNav:"1",showDate:"1",showPrint:"0",showTabs:"1",showCalendars:"0",showTz:"0",bgcolor:"%23ffffff",color:"%232952A3"});return"".concat("https://calendar.google.com/calendar/embed","?").concat(t.toString())})(),style:{border:0},width:"100%",height:"700",frameBorder:"0",scrolling:"no",title:"Google Calendar",className:"w-full"})}),(0,Ja.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6 border border-blue-200",children:[(0,Ja.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,Ja.jsx)(Ns,{className:"w-5 h-5 mr-2 text-blue-600"}),"Quick Actions"]}),(0,Ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Ja.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200 hover:shadow-md transition-shadow",children:[(0,Ja.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Create Appointment"}),(0,Ja.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:'Click "Open in Google" above to create new appointments directly in Google Calendar.'}),(0,Ja.jsx)("button",{onClick:a,className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Go to Google Calendar \u2192"})]}),(0,Ja.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200 hover:shadow-md transition-shadow",children:[(0,Ja.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Sync with Leads"}),(0,Ja.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Appointments created in Google Calendar will be automatically reflected here in real-time."}),(0,Ja.jsx)("button",{onClick:s,className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Refresh Calendar \u2192"})]}),(0,Ja.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200 hover:shadow-md transition-shadow",children:[(0,Ja.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Time Zone"}),(0,Ja.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Calendar is set to Mountain Time (America/Denver). All appointments display in this time zone."}),(0,Ja.jsx)("span",{className:"text-sm text-gray-500 font-medium",children:"MT (UTC-7/UTC-6)"})]})]})]})]})},Es=y("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Is=y("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),Ts=y("phone-call",[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),Ps=y("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),Ls=y("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),Rs=y("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),As=y("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),Os=y("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),Ms=y("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);function Ds(e){let{leads:t,jobCounts:n,communications:a=[]}=e;const[s,o]=(0,r.useState)(""),[i,l]=(0,r.useState)(null),[c,u]=(0,r.useState)(null),[d,h]=(0,r.useState)("all"),[m,f]=(0,r.useState)(""),[p,g]=(0,r.useState)(""),[y,b]=(0,r.useState)(""),v=(0,r.useMemo)(()=>[...t.map(e=>({id:"lead-".concat(e.id),type:"lead",name:e.customerName||"".concat(e.firstName||""," ").concat(e.lastName||"").trim()||e.name||"Unknown",address:e.address,phone:e.phone,email:e.email||"",notes:e.notes||"",quality:e.quality,disposition:e.disposition,lastContact:e.lastContact||null,source:"Bhotchleads"})),...n.map(e=>({id:"job-".concat(e.id),type:"jobcount",name:e.customerName||"".concat(e.firstName||""," ").concat(e.lastName||"").trim()||"Unknown",address:e.address,phone:e.phone||"",email:e.email||"",notes:e.notes||"",sqFt:e.sqFt,status:e.status,source:"Job Count"}))],[t,n]),x=(0,r.useMemo)(()=>{let e=v;if("all"!==d&&(e=e.filter(e=>e.type===d)),s.trim()){const t=s.toLowerCase();e=e.filter(e=>{var n,r,a,s;return(null===(n=e.name)||void 0===n?void 0:n.toLowerCase().includes(t))||(null===(r=e.address)||void 0===r?void 0:r.toLowerCase().includes(t))||(null===(a=e.phone)||void 0===a?void 0:a.includes(t))||(null===(s=e.email)||void 0===s?void 0:s.toLowerCase().includes(t))})}return e.sort((e,t)=>{const n=e.lastContact?new Date(e.lastContact):new Date(0);return(t.lastContact?new Date(t.lastContact):new Date(0))-n})},[v,s,d]),w=(0,r.useMemo)(()=>i?a.filter(e=>e.customerId===i.id).sort((e,t)=>new Date(t.timestamp)-new Date(e.timestamp)):[],[i,a]),k=(0,r.useMemo)(()=>{const e=i?w:a;return{totalCalls:e.filter(e=>"call"===e.type).length,totalSMS:e.filter(e=>"sms"===e.type).length,totalEmails:e.filter(e=>"email"===e.type).length,lastContact:e.length>0?e[0].timestamp:null}},[i,w,a]),N=e=>{if(c===e)u(null);else if(u(e),"call"===e){const e=i.phone.replace(/\D/g,"");window.open("https://voice.google.com/u/0/calls?a=nc,%2B1".concat(e),"_blank")}};return(0,Ja.jsxs)("div",{className:"h-[calc(100vh-140px)] flex gap-6",children:[(0,Ja.jsxs)("div",{className:"w-1/3 bg-white rounded-lg shadow-sm border overflow-hidden flex flex-col",children:[(0,Ja.jsxs)("div",{className:"p-4 border-b bg-gradient-to-r from-blue-50 to-indigo-50",children:[(0,Ja.jsxs)("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[(0,Ja.jsx)(C,{className:"w-6 h-6 mr-2 text-blue-600"}),"Communications Hub"]}),(0,Ja.jsxs)("div",{className:"relative mb-3",children:[(0,Ja.jsx)(is,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Ja.jsx)("input",{type:"text",placeholder:"Search customers by name, address, phone...",value:s,onChange:e=>o(e.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"})]}),(0,Ja.jsxs)("div",{className:"flex gap-2",children:[(0,Ja.jsxs)("button",{onClick:()=>h("all"),className:"flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-all ".concat("all"===d?"bg-blue-600 text-white shadow-md":"bg-white text-gray-600 hover:bg-gray-50 border border-gray-200"),children:[(0,Ja.jsx)(ns,{className:"w-4 h-4 inline mr-1"}),"All (",v.length,")"]}),(0,Ja.jsxs)("button",{onClick:()=>h("lead"),className:"flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-all ".concat("lead"===d?"bg-green-600 text-white shadow-md":"bg-white text-gray-600 hover:bg-gray-50 border border-gray-200"),children:["Leads (",t.length,")"]}),(0,Ja.jsxs)("button",{onClick:()=>h("jobcount"),className:"flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-all ".concat("jobcount"===d?"bg-purple-600 text-white shadow-md":"bg-white text-gray-600 hover:bg-gray-50 border border-gray-200"),children:["Jobs (",n.length,")"]})]})]}),(0,Ja.jsx)("div",{className:"flex-1 overflow-y-auto",children:0===x.length?(0,Ja.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-400 p-8",children:[(0,Ja.jsx)(is,{className:"w-16 h-16 mb-4 opacity-50"}),(0,Ja.jsx)("p",{className:"text-lg font-medium",children:"No customers found"}),(0,Ja.jsx)("p",{className:"text-sm",children:"Try adjusting your search or filters"})]}):x.map(e=>{return(0,Ja.jsxs)("div",{onClick:()=>(e=>{l(e),u(null),f(""),g(""),b("")})(e),className:"p-4 border-b hover:bg-blue-50 cursor-pointer transition-all ".concat((null===i||void 0===i?void 0:i.id)===e.id?"bg-blue-100 border-l-4 border-l-blue-600":""),children:[(0,Ja.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,Ja.jsxs)("div",{className:"flex-1",children:[(0,Ja.jsxs)("h3",{className:"font-semibold text-gray-900 flex items-center",children:[(0,Ja.jsx)(Es,{className:"w-4 h-4 mr-2 text-gray-500"}),e.name]}),(0,Ja.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,Ja.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full border ".concat("lead"===e.type?"bg-green-50 text-green-700 border-green-200":"bg-purple-50 text-purple-700 border-purple-200"),children:e.source}),e.quality&&(0,Ja.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full border ".concat((t=e.quality,{Hot:"bg-red-100 text-red-800 border-red-300",Warm:"bg-orange-100 text-orange-800 border-orange-300",Cold:"bg-blue-100 text-blue-800 border-blue-300"}[t]||"bg-gray-100 text-gray-800 border-gray-300")),children:e.quality})]})]}),(0,Ja.jsx)(ms,{className:"w-5 h-5 text-gray-400 transition-transform ".concat((null===i||void 0===i?void 0:i.id)===e.id?"rotate-90":"")})]}),(0,Ja.jsxs)("div",{className:"space-y-1 text-sm text-gray-600",children:[e.phone&&(0,Ja.jsxs)("div",{className:"flex items-center",children:[(0,Ja.jsx)(Is,{className:"w-3 h-3 mr-2 text-gray-400"}),e.phone]}),e.address&&(0,Ja.jsxs)("div",{className:"flex items-center",children:[(0,Ja.jsx)(gs,{className:"w-3 h-3 mr-2 text-gray-400"}),e.address]})]})]},e.id);var t})})]}),i?(0,Ja.jsxs)("div",{className:"flex-1 bg-white rounded-lg shadow-sm border overflow-hidden flex flex-col",children:[(0,Ja.jsxs)("div",{className:"p-6 border-b bg-gradient-to-r from-indigo-50 to-purple-50",children:[(0,Ja.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Ja.jsxs)("div",{className:"flex-1",children:[(0,Ja.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-1",children:i.name}),(0,Ja.jsxs)("p",{className:"text-gray-600 flex items-center",children:[(0,Ja.jsx)(gs,{className:"w-4 h-4 mr-2"}),i.address]})]}),(0,Ja.jsx)("button",{onClick:()=>l(null),className:"p-2 hover:bg-white rounded-lg transition-colors",children:(0,Ja.jsx)(ss,{className:"w-5 h-5 text-gray-500"})})]}),(0,Ja.jsxs)("div",{className:"grid grid-cols-4 gap-3 mb-4",children:[(0,Ja.jsxs)("div",{className:"bg-white rounded-lg p-3 border border-blue-100 shadow-sm",children:[(0,Ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ja.jsx)(Ts,{className:"w-5 h-5 text-blue-600"}),(0,Ja.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:k.totalCalls})]}),(0,Ja.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Calls"})]}),(0,Ja.jsxs)("div",{className:"bg-white rounded-lg p-3 border border-green-100 shadow-sm",children:[(0,Ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ja.jsx)(Ps,{className:"w-5 h-5 text-green-600"}),(0,Ja.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:k.totalSMS})]}),(0,Ja.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"SMS"})]}),(0,Ja.jsxs)("div",{className:"bg-white rounded-lg p-3 border border-purple-100 shadow-sm",children:[(0,Ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ja.jsx)(Ls,{className:"w-5 h-5 text-purple-600"}),(0,Ja.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:k.totalEmails})]}),(0,Ja.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Emails"})]}),(0,Ja.jsxs)("div",{className:"bg-white rounded-lg p-3 border border-orange-100 shadow-sm",children:[(0,Ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ja.jsx)(Ya,{className:"w-5 h-5 text-orange-600"}),(0,Ja.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:w.length})]}),(0,Ja.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Total"})]})]}),i.notes&&(0,Ja.jsx)("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:(0,Ja.jsxs)("div",{className:"flex items-start",children:[(0,Ja.jsx)(Rs,{className:"w-4 h-4 mr-2 text-gray-500 mt-0.5"}),(0,Ja.jsxs)("div",{className:"flex-1",children:[(0,Ja.jsx)("p",{className:"text-xs font-semibold text-gray-700 mb-1",children:"Notes"}),(0,Ja.jsx)("p",{className:"text-sm text-gray-600",children:i.notes})]})]})})]}),(0,Ja.jsx)("div",{className:"p-4 border-b bg-gray-50",children:(0,Ja.jsxs)("div",{className:"flex gap-3",children:[(0,Ja.jsxs)("button",{onClick:()=>N("call"),disabled:!i.phone,className:"flex-1 py-3 px-4 rounded-lg font-medium transition-all flex items-center justify-center gap-2 ".concat("call"===c?"bg-blue-600 text-white shadow-lg scale-105":"bg-white text-gray-700 border-2 border-blue-200 hover:border-blue-400 hover:bg-blue-50 disabled:opacity-50 disabled:cursor-not-allowed"),children:[(0,Ja.jsx)(Ts,{className:"w-5 h-5"}),"Call"]}),(0,Ja.jsxs)("button",{onClick:()=>N("sms"),disabled:!i.phone,className:"flex-1 py-3 px-4 rounded-lg font-medium transition-all flex items-center justify-center gap-2 ".concat("sms"===c?"bg-green-600 text-white shadow-lg scale-105":"bg-white text-gray-700 border-2 border-green-200 hover:border-green-400 hover:bg-green-50 disabled:opacity-50 disabled:cursor-not-allowed"),children:[(0,Ja.jsx)(Ps,{className:"w-5 h-5"}),"SMS"]}),(0,Ja.jsxs)("button",{onClick:()=>N("email"),disabled:!i.email,className:"flex-1 py-3 px-4 rounded-lg font-medium transition-all flex items-center justify-center gap-2 ".concat("email"===c?"bg-purple-600 text-white shadow-lg scale-105":"bg-white text-gray-700 border-2 border-purple-200 hover:border-purple-400 hover:bg-purple-50 disabled:opacity-50 disabled:cursor-not-allowed"),children:[(0,Ja.jsx)(Ls,{className:"w-5 h-5"}),"Email"]})]})}),c&&(0,Ja.jsxs)("div",{className:"p-4 border-b bg-gradient-to-r from-blue-50 to-purple-50",children:["sms"===c&&(0,Ja.jsxs)("div",{className:"space-y-3",children:[(0,Ja.jsxs)("h3",{className:"font-semibold text-gray-900 flex items-center",children:[(0,Ja.jsx)(Ps,{className:"w-5 h-5 mr-2 text-green-600"}),"Send SMS via Google Voice"]}),(0,Ja.jsx)("textarea",{value:m,onChange:e=>f(e.target.value),placeholder:"Type your message here...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 resize-none",rows:"3"}),(0,Ja.jsxs)("button",{onClick:()=>{if(!m.trim())return;const e=i.phone.replace(/\D/g,"");window.open("https://voice.google.com/u/0/messages?itemId=t.%2B1".concat(e),"_blank"),f("")},disabled:!m.trim(),className:"w-full bg-green-600 text-white py-2.5 px-4 rounded-lg font-medium hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:[(0,Ja.jsx)(As,{className:"w-4 h-4"}),"Open Google Voice SMS"]})]}),"email"===c&&(0,Ja.jsxs)("div",{className:"space-y-3",children:[(0,Ja.jsxs)("h3",{className:"font-semibold text-gray-900 flex items-center",children:[(0,Ja.jsx)(Ls,{className:"w-5 h-5 mr-2 text-purple-600"}),"Send Email"]}),(0,Ja.jsx)("input",{type:"text",value:p,onChange:e=>g(e.target.value),placeholder:"Subject",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"}),(0,Ja.jsx)("textarea",{value:y,onChange:e=>b(e.target.value),placeholder:"Email body...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 resize-none",rows:"4"}),(0,Ja.jsxs)("button",{onClick:()=>{if(!p.trim()||!y.trim())return;const e="mailto:".concat(i.email,"?subject=").concat(encodeURIComponent(p),"&body=").concat(encodeURIComponent(y));window.location.href=e,g(""),b("")},disabled:!p.trim()||!y.trim(),className:"w-full bg-purple-600 text-white py-2.5 px-4 rounded-lg font-medium hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:[(0,Ja.jsx)(As,{className:"w-4 h-4"}),"Open Email Client"]})]}),"call"===c&&(0,Ja.jsxs)("div",{className:"text-center py-4",children:[(0,Ja.jsx)(Ts,{className:"w-12 h-12 mx-auto mb-3 text-blue-600 animate-pulse"}),(0,Ja.jsx)("p",{className:"text-gray-600",children:"Google Voice call window opened"}),(0,Ja.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Calling ",i.phone]})]})]}),(0,Ja.jsxs)("div",{className:"flex-1 overflow-y-auto p-4",children:[(0,Ja.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ja.jsxs)("h3",{className:"font-semibold text-gray-900 flex items-center",children:[(0,Ja.jsx)(Os,{className:"w-5 h-5 mr-2 text-gray-600"}),"Communication History"]}),w.length>0&&(0,Ja.jsxs)("span",{className:"text-sm text-gray-500",children:[w.length," interactions"]})]}),0===w.length?(0,Ja.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400",children:[(0,Ja.jsx)(Ms,{className:"w-16 h-16 mb-4 opacity-50"}),(0,Ja.jsx)("p",{className:"text-lg font-medium",children:"No communication history"}),(0,Ja.jsx)("p",{className:"text-sm",children:"Start by making a call, sending an SMS, or email"})]}):(0,Ja.jsx)("div",{className:"space-y-3",children:w.map((e,t)=>(0,Ja.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,Ja.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,Ja.jsxs)("div",{className:"flex items-center gap-2",children:["call"===e.type&&(0,Ja.jsx)(Ts,{className:"w-4 h-4 text-blue-600"}),"sms"===e.type&&(0,Ja.jsx)(Ps,{className:"w-4 h-4 text-green-600"}),"email"===e.type&&(0,Ja.jsx)(Ls,{className:"w-4 h-4 text-purple-600"}),(0,Ja.jsx)("span",{className:"font-medium text-gray-900 capitalize",children:e.type})]}),(0,Ja.jsxs)("div",{className:"flex items-center text-xs text-gray-500",children:[(0,Ja.jsx)(I,{className:"w-3 h-3 mr-1"}),new Date(e.timestamp).toLocaleString()]})]}),e.notes&&(0,Ja.jsx)("p",{className:"text-sm text-gray-600 mt-2 pl-6",children:e.notes}),e.outcome&&(0,Ja.jsx)("div",{className:"mt-2 pl-6",children:(0,Ja.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat("Completed"===e.outcome?"bg-green-100 text-green-700":"No Answer"===e.outcome?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"),children:e.outcome})})]},t))})]})]}):(0,Ja.jsx)("div",{className:"flex-1 bg-white rounded-lg shadow-sm border flex items-center justify-center",children:(0,Ja.jsxs)("div",{className:"text-center text-gray-400 p-8",children:[(0,Ja.jsx)(C,{className:"w-24 h-24 mx-auto mb-6 opacity-20"}),(0,Ja.jsx)("h3",{className:"text-2xl font-bold mb-2",children:"Select a Customer"}),(0,Ja.jsx)("p",{className:"text-lg",children:"Choose a customer from the left to view details and communicate"})]})})]})}const Fs=["children"],zs=e=>{let{title:t,children:n}=e;return(0,Ja.jsxs)("div",{className:"mb-6",children:[(0,Ja.jsx)("h4",{className:"text-md font-semibold text-gray-800 border-b pb-2 mb-4",children:t}),(0,Ja.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n})]})},Us=e=>{let{label:t,children:n,fullWidth:r=!1}=e;return(0,Ja.jsxs)("div",{className:r?"lg:col-span-3 md:col-span-2":"",children:[(0,Ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),n]})},Vs=e=>(0,Ja.jsx)("input",c(c({},e),{},{className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm px-3 py-2 focus:ring-blue-500 focus:border-blue-500"})),Bs=e=>{let{children:t}=e,n=u(e,Fs);return(0,Ja.jsx)("select",c(c({},n),{},{className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm px-3 py-2 focus:ring-blue-500 focus:border-blue-500",children:t}))},Hs=e=>(0,Ja.jsx)("textarea",c(c({},e),{},{rows:4,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm px-3 py-2 focus:ring-blue-500 focus:border-blue-500"})),qs={customerName:"",address:"",phoneNumber:"",email:"",dabellaQuote:"",quality:"Cold",notes:"",disposition:"New",leadSource:"Door Knock",roofAge:"",roofType:"Asphalt Shingle"};const Ws=function(e){let{initialData:t,onSubmit:n,onCancel:a,isEdit:s=!1}=e;const[o,i]=(0,r.useState)(()=>t||qs),[l,u]=(0,r.useState)(!1),d=(0,r.useCallback)(e=>i(t=>c(c({},t),{},{[e.target.name]:e.target.value})),[]),h=(0,r.useCallback)(async e=>{e.preventDefault(),u(!0);const t=c({},o);if(t.address&&(!t.latitude||!t.longitude))try{const e=await P.geocodeAddress(t.address);e.success&&(t.latitude=e.latitude,t.longitude=e.longitude)}catch(r){console.warn("Geocoding failed during submission:",r)}await n(t),u(!1)},[o,n]),m=(0,r.useMemo)(()=>["New","Scheduled","Insurance","Quoted","Follow Up","Closed Sold","Closed Lost"],[]);return(0,Ja.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-40",children:(0,Ja.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] flex flex-col",children:[(0,Ja.jsxs)("div",{className:"p-6 border-b flex justify-between items-center",children:[(0,Ja.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:s?"Edit Lead":"Add New Lead"}),(0,Ja.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600",children:(0,Ja.jsx)(ss,{size:24})})]}),(0,Ja.jsx)("div",{className:"p-6 overflow-y-auto",children:(0,Ja.jsxs)("form",{onSubmit:h,children:[(0,Ja.jsxs)(zs,{title:"Customer Information",children:[(0,Ja.jsx)(Us,{label:"Full Name *",children:(0,Ja.jsx)(Vs,{name:"customerName",value:o.customerName,onChange:d,required:!0})}),(0,Ja.jsx)(Us,{label:"Phone Number *",children:(0,Ja.jsx)(Vs,{name:"phoneNumber",value:o.phoneNumber,onChange:d,required:!0})}),(0,Ja.jsx)(Us,{label:"Email",children:(0,Ja.jsx)(Vs,{name:"email",type:"email",value:o.email,onChange:d})}),(0,Ja.jsx)(Us,{label:"Address",fullWidth:!0,children:(0,Ja.jsx)(Vs,{name:"address",value:o.address,onChange:d,placeholder:"Full address for map location"})})]}),(0,Ja.jsxs)(zs,{title:"Lead Details",children:[(0,Ja.jsx)(Us,{label:"Lead Source",children:(0,Ja.jsxs)(Bs,{name:"leadSource",value:o.leadSource,onChange:d,children:[(0,Ja.jsx)("option",{children:"Door Knock"}),(0,Ja.jsx)("option",{children:"Rime"}),(0,Ja.jsx)("option",{children:"Adverta"}),(0,Ja.jsx)("option",{children:"Referral"}),(0,Ja.jsx)("option",{children:"DaBella"})]})}),(0,Ja.jsx)(Us,{label:"Quality",children:(0,Ja.jsxs)(Bs,{name:"quality",value:o.quality,onChange:d,children:[(0,Ja.jsx)("option",{children:"Hot"}),(0,Ja.jsx)("option",{children:"Warm"}),(0,Ja.jsx)("option",{children:"Cold"})]})}),(0,Ja.jsx)(Us,{label:"Disposition",children:(0,Ja.jsx)(Bs,{name:"disposition",value:o.disposition,onChange:d,children:m.map(e=>(0,Ja.jsx)("option",{value:e,children:e},e))})})]}),(0,Ja.jsxs)(zs,{title:"Job & Quote Details",children:[(0,Ja.jsx)(Us,{label:"Roof Age",children:(0,Ja.jsx)(Vs,{name:"roofAge",value:o.roofAge,onChange:d})}),(0,Ja.jsx)(Us,{label:"Roof Type",children:(0,Ja.jsxs)(Bs,{name:"roofType",value:o.roofType,onChange:d,children:[(0,Ja.jsx)("option",{children:"Asphalt Shingle"}),(0,Ja.jsx)("option",{children:"Metal"}),(0,Ja.jsx)("option",{children:"Tile"}),(0,Ja.jsx)("option",{children:"TPO"}),(0,Ja.jsx)("option",{children:"Wood"})]})}),(0,Ja.jsx)(Us,{label:"Quote Amount",children:(0,Ja.jsx)(Vs,{name:"dabellaQuote",value:o.dabellaQuote,onChange:d,placeholder:"$15,000"})})]}),(0,Ja.jsx)(zs,{title:"Notes",children:(0,Ja.jsx)(Us,{label:"Notes",fullWidth:!0,children:(0,Ja.jsx)(Hs,{name:"notes",value:o.notes,onChange:d})})}),(0,Ja.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t mt-6",children:[(0,Ja.jsx)("button",{type:"button",onClick:a,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,Ja.jsx)("button",{type:"submit",disabled:l,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center",children:l?(0,Ja.jsxs)(Ja.Fragment,{children:[(0,Ja.jsx)(b,{className:"animate-spin h-4 w-4 mr-2"}),"Saving..."]}):s?"Update Lead":"Add Lead"})]})]})})]})})},Gs=y("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),Js=y("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),Qs=y("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),Ks=[{id:"no-answer",label:"No Answer",color:"#EF4444",bgColor:"bg-red-50 hover:bg-red-100 border-red-200",icon:"\ud83d\udcf5",autoNote:"No answer - will try again later",status:"No Answer",keepOpen:!0,suggestRetry:!0},{id:"voicemail",label:"No Answer Left Voicemail",color:"#F59E0B",bgColor:"bg-orange-50 hover:bg-orange-100 border-orange-200",icon:"\ud83d\udced",autoNote:"Left voicemail with callback request",status:"Left Voicemail",keepOpen:!0,createReminder:!0,reminderHours:24},{id:"confirmed",label:"Called and Confirmed Appointment",color:"#10B981",bgColor:"bg-green-50 hover:bg-green-100 border-green-200",icon:"\u2705",autoNote:"Appointment confirmed - customer ready",status:"Completed",updateLeadStatus:"scheduled",promptCalendar:!0},{id:"not-interested",label:"Not Interested",color:"#6B7280",bgColor:"bg-gray-50 hover:bg-gray-100 border-gray-200",icon:"\u274c",autoNote:"Customer declined - not interested at this time",status:"Completed",updateLeadStatus:"lost",requiresConfirmation:!0},{id:"follow-up",label:"Follow-up Needed",color:"#3B82F6",bgColor:"bg-blue-50 hover:bg-blue-100 border-blue-200",icon:"\ud83d\udd14",autoNote:"Needs follow-up - set reminder",status:"Completed",createReminder:!0,updateLeadStatus:"follow-up"}],$s=[{value:1,label:"1 minute"},{value:2,label:"2 minutes"},{value:5,label:"5 minutes"},{value:10,label:"10 minutes"},{value:15,label:"15 minutes"},{value:30,label:"30 minutes"}],Ys=[{value:"tomorrow",label:"Tomorrow morning (9 AM)",hours:24},{value:"3days",label:"In 3 days",hours:72},{value:"week",label:"Next week",hours:168},{value:"custom",label:"Custom date/time"}];const Xs=function(e){let{lead:t,onClose:n,onLogCommunication:a,onUpdateLead:s}=e;const[o,i]=(0,r.useState)("Call"),[l,u]=(0,r.useState)(null),[d,h]=(0,r.useState)(5),[m,f]=(0,r.useState)(""),[p,g]=(0,r.useState)(!1),[y,b]=(0,r.useState)("tomorrow"),[v,x]=(0,r.useState)(""),[w,k]=(0,r.useState)(!1),N=async e=>{if(u(e),e.requiresConfirmation){if(!window.confirm('Are you sure you want to mark this lead as "'.concat(e.updateLeadStatus,'"?')))return void u(null)}e.createReminder?g(!0):await j(e)},j=async e=>{k(!0);try{const r={leadId:t.id,customerName:t.customerName,phoneNumber:t.phoneNumber,communicationType:o,dateTime:(new Date).toISOString(),status:e.status,duration:d,notes:m||e.autoNote,createdBy:"user@example.com",createdAt:(new Date).toISOString()};await a(r),e.updateLeadStatus&&await s(c(c({},t),{},{disposition:e.updateLeadStatus}));let i="Communication logged successfully!";if(e.updateLeadStatus&&(i+=" Lead status updated to ".concat(e.updateLeadStatus,".")),e.promptCalendar&&(i+=" Check Google Calendar for appointment details."),alert(i),e.suggestRetry){const e=new Date(Date.now()+72e5);alert("Suggested retry time: ".concat(e.toLocaleTimeString()))}if(e.promptCalendar){window.confirm("Would you like to open Google Calendar to verify the appointment?")&&window.open("https://calendar.google.com","_blank")}e.keepOpen?(u(null),f("")):n()}catch(r){console.error("Error logging communication:",r),alert("Failed to log communication. Please try again.")}finally{k(!1)}},C=async()=>{alert("Reminder set for ".concat(y)),g(!1),await j(l)};return p?(0,Ja.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50",children:(0,Ja.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full shadow-2xl",children:[(0,Ja.jsxs)("div",{className:"p-6 border-b flex justify-between items-center",children:[(0,Ja.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Set Reminder"}),(0,Ja.jsx)("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Ja.jsx)(ss,{size:24})})]}),(0,Ja.jsxs)("div",{className:"p-6 space-y-4",children:[(0,Ja.jsxs)("p",{className:"text-sm text-gray-600",children:["When should we remind you to follow up with ",t.customerName,"?"]}),(0,Ja.jsx)("div",{className:"space-y-2",children:Ys.map(e=>(0,Ja.jsxs)("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[(0,Ja.jsx)("input",{type:"radio",name:"reminder",value:e.value,checked:y===e.value,onChange:e=>b(e.target.value),className:"mr-3"}),(0,Ja.jsx)("span",{className:"text-sm",children:e.label})]},e.value))}),"custom"===y&&(0,Ja.jsx)("input",{type:"datetime-local",value:v,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 border rounded-md"})]}),(0,Ja.jsxs)("div",{className:"flex justify-end space-x-3 p-4 bg-gray-50 border-t",children:[(0,Ja.jsx)("button",{onClick:()=>g(!1),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Cancel"}),(0,Ja.jsx)("button",{onClick:C,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Set Reminder & Log"})]})]})}):(0,Ja.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50",children:(0,Ja.jsxs)("div",{className:"bg-white rounded-lg max-w-2xl w-full shadow-2xl",children:[(0,Ja.jsxs)("div",{className:"p-6 border-b flex justify-between items-center",children:[(0,Ja.jsxs)("div",{children:[(0,Ja.jsxs)("h3",{className:"text-xl font-semibold text-gray-900",children:["Log ",o," - ",t.customerName]}),(0,Ja.jsx)("p",{className:"text-sm text-gray-500",children:t.phoneNumber})]}),(0,Ja.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:(0,Ja.jsx)(ss,{size:24})})]}),(0,Ja.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Ja.jsxs)("div",{children:[(0,Ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Communication Type"}),(0,Ja.jsxs)("div",{className:"flex space-x-2",children:[(0,Ja.jsxs)("button",{onClick:()=>i("Call"),className:"flex-1 px-4 py-2 rounded-md flex items-center justify-center ".concat("Call"===o?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,Ja.jsx)(Is,{size:16,className:"mr-2"}),"Call"]}),(0,Ja.jsxs)("button",{onClick:()=>i("SMS"),className:"flex-1 px-4 py-2 rounded-md flex items-center justify-center ".concat("SMS"===o?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,Ja.jsx)(Ps,{size:16,className:"mr-2"}),"SMS"]}),(0,Ja.jsxs)("button",{onClick:()=>i("Email"),className:"flex-1 px-4 py-2 rounded-md flex items-center justify-center ".concat("Email"===o?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,Ja.jsx)(Ls,{size:16,className:"mr-2"}),"Email"]})]})]}),(0,Ja.jsxs)("div",{children:[(0,Ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Quick Outcomes:"}),(0,Ja.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Ks.map(e=>(0,Ja.jsxs)("button",{onClick:()=>N(e),disabled:w,className:"p-4 border-2 rounded-lg text-center transition-all ".concat(e.bgColor," ").concat((null===l||void 0===l?void 0:l.id)===e.id?"ring-2 ring-offset-2 ring-blue-500":""," ").concat(w?"opacity-50 cursor-not-allowed":""),style:{borderColor:e.color+"40"},children:[(0,Ja.jsx)("div",{className:"text-2xl mb-1",children:e.icon}),(0,Ja.jsx)("div",{className:"text-xs font-medium text-gray-800 leading-tight",children:e.label})]},e.id))})]}),(0,Ja.jsxs)("div",{children:[(0,Ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration"}),(0,Ja.jsx)("select",{value:d,onChange:e=>h(Number(e.target.value)),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500",children:$s.map(e=>(0,Ja.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Ja.jsxs)("div",{children:[(0,Ja.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes"}),(0,Ja.jsx)("textarea",{value:m,onChange:e=>f(e.target.value),placeholder:l?l.autoNote:"Enter any additional notes...",className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500",rows:3})]})]}),(0,Ja.jsxs)("div",{className:"flex justify-end space-x-3 p-4 bg-gray-50 border-t",children:[(0,Ja.jsx)("button",{onClick:n,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",disabled:w,children:"Cancel"}),(0,Ja.jsx)("button",{onClick:()=>{l?N(l):alert("Please select a quick outcome tag")},disabled:!l||w,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:w?"Logging...":"Quick Log & Close"})]})]})})},Zs=r.memo(e=>{let{icon:t,label:n,value:r}=e;return(0,Ja.jsxs)("div",{children:[(0,Ja.jsxs)("dt",{className:"text-sm font-medium text-gray-500 flex items-center",children:[t,n]}),(0,Ja.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:r||(0,Ja.jsx)("span",{className:"text-gray-400",children:"Not provided"})})]})});const eo=function(e){let{lead:t,onEdit:n,onDelete:a,onClose:s,onNavigateToTab:o,onLogCommunication:i,onUpdateLead:l}=e;const[c,u]=(0,r.useState)(!1);return(0,Ja.jsxs)(Ja.Fragment,{children:[(0,Ja.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-40 animate-fade-in",children:(0,Ja.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] flex flex-col shadow-2xl",children:[(0,Ja.jsxs)("div",{className:"p-6 border-b flex justify-between items-center",children:[(0,Ja.jsxs)("div",{children:[(0,Ja.jsxs)("h3",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[(0,Ja.jsx)(Es,{className:"mr-3 text-blue-600"}),t.customerName]}),(0,Ja.jsx)("p",{className:"text-sm text-gray-500",children:t.address})]}),(0,Ja.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:(0,Ja.jsx)(ss,{size:24})})]}),(0,Ja.jsxs)("div",{className:"p-6 overflow-y-auto",children:[(0,Ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6 pb-6 border-b",children:[(0,Ja.jsx)(Zs,{icon:(0,Ja.jsx)(Is,{size:14,className:"mr-2"}),label:"Phone",value:(0,Ja.jsx)("a",{href:"tel:".concat(t.phoneNumber),className:"text-blue-600 hover:underline",children:t.phoneNumber})}),(0,Ja.jsx)(Zs,{icon:(0,Ja.jsx)(Ls,{size:14,className:"mr-2"}),label:"Email",value:(0,Ja.jsx)("a",{href:"mailto:".concat(t.email),className:"text-blue-600 hover:underline",children:t.email})}),(0,Ja.jsx)(Zs,{icon:(0,Ja.jsx)(v,{size:14,className:"mr-2"}),label:"Quote",value:(0,Ja.jsx)("span",{className:"font-bold text-green-700",children:t.dabellaQuote})})]}),(0,Ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6 pb-6 border-b",children:[(0,Ja.jsx)(Zs,{icon:(0,Ja.jsx)(Gs,{size:14,className:"mr-2"}),label:"Quality",value:(0,Ja.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("Hot"===t.quality?"bg-red-100 text-red-800":"Warm"===t.quality?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:t.quality})}),(0,Ja.jsx)(Zs,{icon:(0,Ja.jsx)(w,{size:14,className:"mr-2"}),label:"Disposition",value:t.disposition}),(0,Ja.jsx)(Zs,{icon:(0,Ja.jsx)(Js,{size:14,className:"mr-2"}),label:"Lead Source",value:t.leadSource})]}),(0,Ja.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6 pb-6 border-b",children:[(0,Ja.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg text-center cursor-pointer hover:bg-blue-50 transition-colors",onClick:()=>o("calendar"),children:[(0,Ja.jsx)(j,{size:24,className:"mx-auto text-blue-600 mb-2"}),(0,Ja.jsx)("h4",{className:"font-semibold text-sm",children:"Appointments"}),(0,Ja.jsx)("p",{className:"text-xs text-gray-500",children:"Click to view calendar"})]}),(0,Ja.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Ja.jsx)("h4",{className:"font-semibold text-sm mb-3 text-center",children:"Communications"}),(0,Ja.jsxs)("div",{className:"space-y-2",children:[(0,Ja.jsxs)("button",{onClick:()=>{window.open("mailto:".concat(t.email,"?from=brandon@rimehq.net&subject=Follow up - ").concat(t.customerName)),u(!0)},className:"w-full px-3 py-2 bg-blue-600 text-white rounded text-xs hover:bg-blue-700 flex items-center justify-center",children:[(0,Ja.jsx)(Ls,{size:12,className:"mr-1"}),"Email"]}),(0,Ja.jsxs)("button",{onClick:()=>{var e;window.open("https://voice.google.com/u/0/calls?a=nc,%2B1".concat(null===(e=t.phoneNumber)||void 0===e?void 0:e.replace(/\D/g,""))),u(!0)},className:"w-full px-3 py-2 bg-green-600 text-white rounded text-xs hover:bg-green-700 flex items-center justify-center",children:[(0,Ja.jsx)(Is,{size:12,className:"mr-1"}),"Call"]}),(0,Ja.jsxs)("button",{onClick:()=>{var e;window.open("https://voice.google.com/u/0/messages?contact=%2B1".concat(null===(e=t.phoneNumber)||void 0===e?void 0:e.replace(/\D/g,""))),u(!0)},className:"w-full px-3 py-2 bg-purple-600 text-white rounded text-xs hover:bg-purple-700 flex items-center justify-center",children:[(0,Ja.jsx)(Ls,{size:12,className:"mr-1"}),"SMS"]}),(0,Ja.jsx)("button",{onClick:()=>u(!0),className:"w-full px-3 py-2 bg-indigo-600 text-white rounded text-xs hover:bg-indigo-700 flex items-center justify-center font-semibold",children:"\ud83d\udccb Log Communication"})]})]}),(0,Ja.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg text-center cursor-pointer hover:bg-green-50 transition-colors",onClick:()=>o("map",t.address),children:[(0,Ja.jsx)(gs,{size:24,className:"mx-auto text-green-600 mb-2"}),(0,Ja.jsx)("h4",{className:"font-semibold text-sm",children:"Location"}),(0,Ja.jsx)("p",{className:"text-xs text-gray-500",children:"View on map"})]})]}),(0,Ja.jsxs)("div",{children:[(0,Ja.jsx)("h4",{className:"text-md font-semibold text-gray-800 mb-2",children:"Notes"}),(0,Ja.jsx)("p",{className:"text-sm text-gray-700 bg-gray-50 p-4 rounded-md whitespace-pre-wrap",children:t.notes||"No notes for this lead."})]})]}),(0,Ja.jsxs)("div",{className:"flex justify-end space-x-3 p-4 bg-gray-50 border-t",children:[(0,Ja.jsxs)("button",{onClick:a,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 flex items-center",children:[(0,Ja.jsx)(Qs,{size:16,className:"mr-2"}),"Delete"]}),(0,Ja.jsxs)("button",{onClick:n,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center",children:[(0,Ja.jsx)(ds,{size:16,className:"mr-2"}),"Edit Lead"]})]})]})}),c&&(0,Ja.jsx)(Xs,{lead:t,onClose:()=>u(!1),onLogCommunication:async e=>{i?await i(e):console.log("Communication logged:",e)},onUpdateLead:async e=>{l&&await l(e)}})]})},to=["children"],no=e=>{let{title:t,children:n}=e;return(0,Ja.jsxs)("div",{className:"mb-8",children:[(0,Ja.jsx)("h4",{className:"text-lg font-semibold text-gray-800 border-b border-gray-200 pb-3 mb-6",children:t}),(0,Ja.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n})]})},ro=e=>{let{label:t,children:n,fullWidth:r=!1,required:a=!1}=e;return(0,Ja.jsxs)("div",{className:r?"lg:col-span-3 md:col-span-2":"",children:[(0,Ja.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t," ",a&&(0,Ja.jsx)("span",{className:"text-red-500",children:"*"})]}),n]})},ao=e=>(0,Ja.jsx)("input",c(c({},e),{},{type:"text",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"})),so=e=>(0,Ja.jsx)("input",c(c({},e),{},{type:"number",step:"0.01",min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"})),oo=e=>(0,Ja.jsx)("input",c(c({},e),{},{type:"date",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"})),io=e=>{let{children:t}=e,n=u(e,to);return(0,Ja.jsx)("select",c(c({},n),{},{className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",children:t}))},lo=e=>(0,Ja.jsx)("textarea",c(c({},e),{},{rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors resize-vertical"})),co={firstName:"",lastName:"",customerName:"",phoneNumber:"",email:"",address:"",date:(new Date).toISOString().split("T")[0],leadSource:"Door Knock",quality:"Cold",disposition:"New",roofAge:"",roofType:"Asphalt Shingle",dabellaQuote:"",notes:"",sqFt:"",ridgeLf:"",valleyLf:"",eavesLf:"",ridgeVents:"",turbine:"",rimeFlow:"",highProfileRidgeCap:"",valleyMetal:"",pipes1Half:"",pipes2:"",pipes3:"",pipes4:"",gables:"",turtleBacks:"",satellite:"",chimney:"",solar:"",swampCooler:"",guttersLf:"",downspouts:"",gutterGuardLf:"",permanentLighting:""};const uo=function(e){let{initialData:t,onSubmit:n,onCancel:a,isEdit:s=!1}=e;const[o,i]=(0,r.useState)(()=>t||co),[l,u]=(0,r.useState)(!1),d=(0,r.useCallback)(e=>{const{name:t,value:n}=e.target;i(e=>c(c({},e),{},{[t]:n}))},[]),h=(0,r.useCallback)(async e=>{e.preventDefault(),u(!0);try{const e=c({},o);e.customerName||!e.firstName&&!e.lastName||(e.customerName="".concat(e.firstName||""," ").concat(e.lastName||"").trim()),await n(e)}catch(t){console.error("Form submission error:",t)}finally{u(!1)}},[o,n]);return(0,Ja.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50",children:(0,Ja.jsxs)("div",{className:"bg-white rounded-xl max-w-7xl w-full max-h-[95vh] flex flex-col shadow-2xl",children:[(0,Ja.jsxs)("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center bg-gray-50 rounded-t-xl",children:[(0,Ja.jsxs)("div",{children:[(0,Ja.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:s?"Edit Job Count":"Add New Job Count"}),(0,Ja.jsx)("p",{className:"text-gray-600 mt-1",children:s?"Update job count information":"Enter customer and job measurement details"})]}),(0,Ja.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:(0,Ja.jsx)(ss,{size:24})})]}),(0,Ja.jsx)("div",{className:"p-6 overflow-y-auto flex-1",children:(0,Ja.jsxs)("form",{onSubmit:h,className:"space-y-8",children:[(0,Ja.jsxs)(no,{title:"Customer Information",children:[(0,Ja.jsx)(ro,{label:"First Name",required:!0,children:(0,Ja.jsx)(ao,{name:"firstName",value:o.firstName,onChange:d,required:!0,placeholder:"John"})}),(0,Ja.jsx)(ro,{label:"Last Name",children:(0,Ja.jsx)(ao,{name:"lastName",value:o.lastName,onChange:d,placeholder:"Doe"})}),(0,Ja.jsx)(ro,{label:"Full Name",children:(0,Ja.jsx)(ao,{name:"customerName",value:o.customerName,onChange:d,placeholder:"John Doe (auto-filled from above)"})}),(0,Ja.jsx)(ro,{label:"Phone Number",children:(0,Ja.jsx)(ao,{name:"phoneNumber",value:o.phoneNumber,onChange:d,placeholder:"(555) 123-4567"})}),(0,Ja.jsx)(ro,{label:"Email",children:(0,Ja.jsx)(ao,{name:"email",type:"email",value:o.email,onChange:d,placeholder:"john@example.com"})}),(0,Ja.jsx)(ro,{label:"Address",fullWidth:!0,children:(0,Ja.jsx)(ao,{name:"address",value:o.address,onChange:d,placeholder:"123 Main St, City, State 12345"})})]}),(0,Ja.jsxs)(no,{title:"Job Information",children:[(0,Ja.jsx)(ro,{label:"Date",required:!0,children:(0,Ja.jsx)(oo,{name:"date",value:o.date,onChange:d,required:!0})}),(0,Ja.jsx)(ro,{label:"Lead Source",children:(0,Ja.jsxs)(io,{name:"leadSource",value:o.leadSource,onChange:d,children:[(0,Ja.jsx)("option",{value:"Door Knock",children:"Door Knock"}),(0,Ja.jsx)("option",{value:"Rime",children:"Rime"}),(0,Ja.jsx)("option",{value:"Adverta",children:"Adverta"}),(0,Ja.jsx)("option",{value:"Referral",children:"Referral"}),(0,Ja.jsx)("option",{value:"DaBella",children:"DaBella"})]})}),(0,Ja.jsx)(ro,{label:"Quality",children:(0,Ja.jsxs)(io,{name:"quality",value:o.quality,onChange:d,children:[(0,Ja.jsx)("option",{value:"Hot",children:"Hot"}),(0,Ja.jsx)("option",{value:"Warm",children:"Warm"}),(0,Ja.jsx)("option",{value:"Cold",children:"Cold"})]})}),(0,Ja.jsx)(ro,{label:"Disposition",children:(0,Ja.jsxs)(io,{name:"disposition",value:o.disposition,onChange:d,children:[(0,Ja.jsx)("option",{value:"New",children:"New"}),(0,Ja.jsx)("option",{value:"Scheduled",children:"Scheduled"}),(0,Ja.jsx)("option",{value:"Insurance",children:"Insurance"}),(0,Ja.jsx)("option",{value:"Quoted",children:"Quoted"}),(0,Ja.jsx)("option",{value:"Follow Up",children:"Follow Up"}),(0,Ja.jsx)("option",{value:"Closed Sold",children:"Closed Sold"}),(0,Ja.jsx)("option",{value:"Closed Lost",children:"Closed Lost"})]})}),(0,Ja.jsx)(ro,{label:"Roof Age",children:(0,Ja.jsx)(ao,{name:"roofAge",value:o.roofAge,onChange:d,placeholder:"10 years"})}),(0,Ja.jsx)(ro,{label:"Roof Type",children:(0,Ja.jsxs)(io,{name:"roofType",value:o.roofType,onChange:d,children:[(0,Ja.jsx)("option",{value:"Asphalt Shingle",children:"Asphalt Shingle"}),(0,Ja.jsx)("option",{value:"Metal",children:"Metal"}),(0,Ja.jsx)("option",{value:"Tile",children:"Tile"}),(0,Ja.jsx)("option",{value:"TPO",children:"TPO"}),(0,Ja.jsx)("option",{value:"Wood",children:"Wood"})]})}),(0,Ja.jsx)(ro,{label:"Quote Amount",children:(0,Ja.jsx)(ao,{name:"dabellaQuote",value:o.dabellaQuote,onChange:d,placeholder:"15000"})})]}),(0,Ja.jsxs)(no,{title:"Primary Measurements",children:[(0,Ja.jsx)(ro,{label:"SQ FT",required:!0,children:(0,Ja.jsx)(so,{name:"sqFt",value:o.sqFt,onChange:d,required:!0,placeholder:"2500"})}),(0,Ja.jsx)(ro,{label:"Ridge LF",required:!0,children:(0,Ja.jsx)(so,{name:"ridgeLf",value:o.ridgeLf,onChange:d,required:!0,placeholder:"150"})}),(0,Ja.jsx)(ro,{label:"Valley LF",required:!0,children:(0,Ja.jsx)(so,{name:"valleyLf",value:o.valleyLf,onChange:d,required:!0,placeholder:"75"})}),(0,Ja.jsx)(ro,{label:"Eaves LF",required:!0,children:(0,Ja.jsx)(so,{name:"eavesLf",value:o.eavesLf,onChange:d,required:!0,placeholder:"200"})})]}),(0,Ja.jsxs)(no,{title:"Ventilation & Flow",children:[(0,Ja.jsx)(ro,{label:"Ridge Vents",children:(0,Ja.jsx)(so,{name:"ridgeVents",value:o.ridgeVents,onChange:d,placeholder:"10"})}),(0,Ja.jsx)(ro,{label:"Turbine",children:(0,Ja.jsx)(so,{name:"turbine",value:o.turbine,onChange:d,placeholder:"2"})}),(0,Ja.jsx)(ro,{label:"Rime Flow",children:(0,Ja.jsx)(so,{name:"rimeFlow",value:o.rimeFlow,onChange:d,placeholder:"100"})})]}),(0,Ja.jsxs)(no,{title:"Ridge & Valley Components",children:[(0,Ja.jsx)(ro,{label:"High Profile Ridge Cap",children:(0,Ja.jsx)(so,{name:"highProfileRidgeCap",value:o.highProfileRidgeCap,onChange:d,placeholder:"20"})}),(0,Ja.jsx)(ro,{label:"Valley Metal",children:(0,Ja.jsx)(so,{name:"valleyMetal",value:o.valleyMetal,onChange:d,placeholder:"15"})})]}),(0,Ja.jsxs)(no,{title:"Pipes",children:[(0,Ja.jsx)(ro,{label:'Pipes [1 1/2"]',children:(0,Ja.jsx)(so,{name:"pipes1Half",value:o.pipes1Half,onChange:d,placeholder:"3"})}),(0,Ja.jsx)(ro,{label:'Pipes [2"]',children:(0,Ja.jsx)(so,{name:"pipes2",value:o.pipes2,onChange:d,placeholder:"2"})}),(0,Ja.jsx)(ro,{label:'Pipes [3"]',children:(0,Ja.jsx)(so,{name:"pipes3",value:o.pipes3,onChange:d,placeholder:"1"})}),(0,Ja.jsx)(ro,{label:'Pipes [4"]',children:(0,Ja.jsx)(so,{name:"pipes4",value:o.pipes4,onChange:d,placeholder:"1"})})]}),(0,Ja.jsxs)(no,{title:"Roof Features",children:[(0,Ja.jsx)(ro,{label:"Gables",children:(0,Ja.jsx)(so,{name:"gables",value:o.gables,onChange:d,placeholder:"4"})}),(0,Ja.jsx)(ro,{label:"Turtle Backs",children:(0,Ja.jsx)(so,{name:"turtleBacks",value:o.turtleBacks,onChange:d,placeholder:"2"})}),(0,Ja.jsx)(ro,{label:"Satellite",children:(0,Ja.jsx)(so,{name:"satellite",value:o.satellite,onChange:d,placeholder:"1"})}),(0,Ja.jsx)(ro,{label:"Chimney",children:(0,Ja.jsx)(so,{name:"chimney",value:o.chimney,onChange:d,placeholder:"1"})}),(0,Ja.jsx)(ro,{label:"Solar",children:(0,Ja.jsx)(so,{name:"solar",value:o.solar,onChange:d,placeholder:"20"})}),(0,Ja.jsx)(ro,{label:"Swamp Cooler",children:(0,Ja.jsx)(so,{name:"swampCooler",value:o.swampCooler,onChange:d,placeholder:"1"})})]}),(0,Ja.jsxs)(no,{title:"Gutters & Additional",children:[(0,Ja.jsx)(ro,{label:"Gutters LF",children:(0,Ja.jsx)(so,{name:"guttersLf",value:o.guttersLf,onChange:d,placeholder:"180"})}),(0,Ja.jsx)(ro,{label:"Downspouts",children:(0,Ja.jsx)(so,{name:"downspouts",value:o.downspouts,onChange:d,placeholder:"6"})}),(0,Ja.jsx)(ro,{label:"Gutter Guard LF",children:(0,Ja.jsx)(so,{name:"gutterGuardLf",value:o.gutterGuardLf,onChange:d,placeholder:"180"})}),(0,Ja.jsx)(ro,{label:"Permanent Lighting",children:(0,Ja.jsx)(so,{name:"permanentLighting",value:o.permanentLighting,onChange:d,placeholder:"200"})})]}),(0,Ja.jsx)(no,{title:"Notes",children:(0,Ja.jsx)(ro,{label:"Additional Notes",fullWidth:!0,children:(0,Ja.jsx)(lo,{name:"notes",value:o.notes,onChange:d,placeholder:"Any additional notes about this job count..."})})}),(0,Ja.jsxs)("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[(0,Ja.jsx)("button",{type:"button",onClick:a,className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,Ja.jsx)("button",{type:"submit",disabled:l,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center transition-colors",children:l?(0,Ja.jsxs)(Ja.Fragment,{children:[(0,Ja.jsx)(b,{className:"animate-spin h-5 w-5 mr-2"}),"Saving..."]}):s?"Update Job Count":"Add Job Count"})]})]})})]})})};const ho=function(e){let{jobCount:t,onClose:n,onEdit:r,onDelete:a}=e;const s=e=>e&&"0"!==e&&"-"!==e?Number(e).toLocaleString():"-",o=e=>{if(!e)return"-";try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch(t){return e}},i=e=>e&&"0"!==e&&"-"!==e?"$".concat(s(e)):"-",l=e=>{let{title:t,children:n,icon:r}=e;return(0,Ja.jsxs)("div",{className:"mb-8",children:[(0,Ja.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Ja.jsx)(r,{className:"w-6 h-6 text-blue-600 mr-3"}),(0,Ja.jsx)("h4",{className:"text-xl font-semibold text-gray-800",children:t})]}),(0,Ja.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n})]})},c=e=>{let{label:t,value:n,fullWidth:r=!1}=e;return(0,Ja.jsxs)("div",{className:"".concat(r?"lg:col-span-3 md:col-span-2":""," bg-gray-50 p-4 rounded-lg border"),children:[(0,Ja.jsx)("dt",{className:"text-sm font-medium text-gray-600 mb-1",children:t}),(0,Ja.jsx)("dd",{className:"text-base text-gray-900 font-semibold",children:n||"-"})]})},u=t.customerName||"".concat(t.firstName||""," ").concat(t.lastName||"").trim()||"Unknown Customer";return(0,Ja.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50",children:(0,Ja.jsxs)("div",{className:"bg-white rounded-xl max-w-7xl w-full max-h-[95vh] flex flex-col shadow-2xl",children:[(0,Ja.jsxs)("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center bg-gray-50 rounded-t-xl",children:[(0,Ja.jsxs)("div",{children:[(0,Ja.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Job Count Details"}),(0,Ja.jsx)("p",{className:"text-gray-600 mt-1",children:u}),(0,Ja.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Date: ",o(t.date)]})]}),(0,Ja.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ja.jsx)("button",{onClick:()=>r(t),className:"p-3 text-orange-600 hover:text-orange-800 hover:bg-orange-50 rounded-lg transition-colors",title:"Edit Job Count",children:(0,Ja.jsx)(ds,{className:"w-6 h-6"})}),(0,Ja.jsx)("button",{onClick:()=>a(t.id),className:"p-3 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Job Count",children:(0,Ja.jsx)(Qs,{className:"w-6 h-6"})}),(0,Ja.jsx)("button",{onClick:n,className:"p-3 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:(0,Ja.jsx)(ss,{className:"w-6 h-6"})})]})]}),(0,Ja.jsxs)("div",{className:"p-6 overflow-y-auto flex-1",children:[(0,Ja.jsxs)(l,{title:"Customer Information",icon:Es,children:[(0,Ja.jsx)(c,{label:"First Name",value:t.firstName}),(0,Ja.jsx)(c,{label:"Last Name",value:t.lastName}),(0,Ja.jsx)(c,{label:"Full Name",value:t.customerName}),(0,Ja.jsx)(c,{label:"Phone Number",value:(e=>{if(!e)return"-";const t=e.toString().replace(/\D/g,"");return 10===t.length?"(".concat(t.slice(0,3),") ").concat(t.slice(3,6),"-").concat(t.slice(6)):e})(t.phoneNumber)}),(0,Ja.jsx)(c,{label:"Email",value:t.email}),(0,Ja.jsx)(c,{label:"Address",value:t.address,fullWidth:!0})]}),(0,Ja.jsxs)(l,{title:"Job Information",icon:Rs,children:[(0,Ja.jsx)(c,{label:"Date",value:o(t.date)}),(0,Ja.jsx)(c,{label:"Lead Source",value:t.leadSource}),(0,Ja.jsx)(c,{label:"Quality",value:t.quality}),(0,Ja.jsx)(c,{label:"Disposition",value:t.disposition}),(0,Ja.jsx)(c,{label:"Roof Age",value:t.roofAge}),(0,Ja.jsx)(c,{label:"Roof Type",value:t.roofType}),(0,Ja.jsx)(c,{label:"Quote Amount",value:i(t.dabellaQuote)})]}),(0,Ja.jsxs)(l,{title:"Primary Measurements",icon:k,children:[(0,Ja.jsx)(c,{label:"SQ FT",value:s(t.sqFt)}),(0,Ja.jsx)(c,{label:"Ridge LF",value:s(t.ridgeLf)}),(0,Ja.jsx)(c,{label:"Valley LF",value:s(t.valleyLf)}),(0,Ja.jsx)(c,{label:"Eaves LF",value:s(t.eavesLf)})]}),(0,Ja.jsxs)(l,{title:"Ventilation & Flow",icon:k,children:[(0,Ja.jsx)(c,{label:"Ridge Vents",value:s(t.ridgeVents)}),(0,Ja.jsx)(c,{label:"Turbine",value:s(t.turbine)}),(0,Ja.jsx)(c,{label:"Rime Flow",value:s(t.rimeFlow)})]}),(0,Ja.jsxs)(l,{title:"Ridge & Valley Components",icon:k,children:[(0,Ja.jsx)(c,{label:"High Profile Ridge Cap",value:s(t.highProfileRidgeCap)}),(0,Ja.jsx)(c,{label:"Valley Metal",value:s(t.valleyMetal)})]}),(0,Ja.jsxs)(l,{title:"Pipes",icon:k,children:[(0,Ja.jsx)(c,{label:'Pipes [1 1/2"]',value:s(t.pipes1Half)}),(0,Ja.jsx)(c,{label:'Pipes [2"]',value:s(t.pipes2)}),(0,Ja.jsx)(c,{label:'Pipes [3"]',value:s(t.pipes3)}),(0,Ja.jsx)(c,{label:'Pipes [4"]',value:s(t.pipes4)})]}),(0,Ja.jsxs)(l,{title:"Roof Features",icon:k,children:[(0,Ja.jsx)(c,{label:"Gables",value:s(t.gables)}),(0,Ja.jsx)(c,{label:"Turtle Backs",value:s(t.turtleBacks)}),(0,Ja.jsx)(c,{label:"Satellite",value:s(t.satellite)}),(0,Ja.jsx)(c,{label:"Chimney",value:s(t.chimney)}),(0,Ja.jsx)(c,{label:"Solar",value:s(t.solar)}),(0,Ja.jsx)(c,{label:"Swamp Cooler",value:s(t.swampCooler)})]}),(0,Ja.jsxs)(l,{title:"Gutters & Additional",icon:k,children:[(0,Ja.jsx)(c,{label:"Gutters LF",value:s(t.guttersLf)}),(0,Ja.jsx)(c,{label:"Downspouts",value:s(t.downspouts)}),(0,Ja.jsx)(c,{label:"Gutter Guard LF",value:s(t.gutterGuardLf)}),(0,Ja.jsx)(c,{label:"Permanent Lighting",value:s(t.permanentLighting)})]}),t.notes&&(0,Ja.jsx)(l,{title:"Notes",icon:Rs,children:(0,Ja.jsx)(c,{label:"Additional Notes",value:t.notes,fullWidth:!0})}),(0,Ja.jsxs)("div",{className:"mt-8 p-6 bg-blue-50 rounded-xl border border-blue-200",children:[(0,Ja.jsxs)("h4",{className:"text-lg font-semibold text-blue-900 mb-4 flex items-center",children:[(0,Ja.jsx)(k,{className:"w-5 h-5 mr-2"}),"Summary Totals"]}),(0,Ja.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Ja.jsxs)("div",{className:"text-center",children:[(0,Ja.jsx)("div",{className:"text-2xl font-bold text-blue-900",children:s(t.sqFt)}),(0,Ja.jsx)("div",{className:"text-sm text-blue-700",children:"Total SQ FT"})]}),(0,Ja.jsxs)("div",{className:"text-center",children:[(0,Ja.jsx)("div",{className:"text-2xl font-bold text-blue-900",children:s(t.ridgeLf)}),(0,Ja.jsx)("div",{className:"text-sm text-blue-700",children:"Ridge LF"})]}),(0,Ja.jsxs)("div",{className:"text-center",children:[(0,Ja.jsx)("div",{className:"text-2xl font-bold text-blue-900",children:s(t.valleyLf)}),(0,Ja.jsx)("div",{className:"text-sm text-blue-700",children:"Valley LF"})]}),(0,Ja.jsxs)("div",{className:"text-center",children:[(0,Ja.jsx)("div",{className:"text-2xl font-bold text-blue-900",children:i(t.dabellaQuote)}),(0,Ja.jsx)("div",{className:"text-sm text-blue-700",children:"Quote Value"})]})]})]})]})]})})};const mo=function(){const[e,t]=(0,r.useState)(null),[n,a]=(0,r.useState)(!1);return(0,Ja.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow mb-6",children:[(0,Ja.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ja.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ja.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Google Sheets Connection"}),e&&(0,Ja.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(e.success?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:[e.success?(0,Ja.jsx)(_,{className:"w-3 h-3 mr-1"}):(0,Ja.jsx)(E,{className:"w-3 h-3 mr-1"}),e.success?"Connected":"Error"]})]}),(0,Ja.jsxs)("button",{onClick:async()=>{a(!0),t(null);const e=await P.testConnection();t(e),a(!1)},disabled:n,className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:[n?(0,Ja.jsx)(b,{className:"animate-spin w-4 h-4 mr-2"}):(0,Ja.jsx)(os,{className:"w-4 h-4 mr-2"}),"Test"]})]}),e&&(0,Ja.jsxs)("div",{className:"mt-2 text-sm text-gray-600",children:[e.message,e.success&&e.rowCount&&" (".concat(e.rowCount," rows)")]})]})};const fo=function(e){let{error:t}=e;return(0,Ja.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-red-50 p-4",children:(0,Ja.jsxs)("div",{className:"text-center bg-white p-8 rounded-lg shadow-lg max-w-lg",children:[(0,Ja.jsx)(E,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,Ja.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Application Configuration Error"}),(0,Ja.jsx)("p",{className:"text-gray-600 mb-4",children:"The application could not start because a required configuration variable is missing or invalid."}),(0,Ja.jsxs)("div",{className:"bg-red-100 text-red-700 text-left p-3 rounded-md text-sm",children:[(0,Ja.jsx)("strong",{children:"Details:"})," ",t]}),(0,Ja.jsx)("p",{className:"text-gray-500 mt-4 text-sm",children:"Please ensure all `REACT_APP_*` variables are set correctly in your Vercel project settings and redeploy."})]})})},po=(0,r.createContext)(null),go={didCatch:!1,error:null};class yo extends r.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=go}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(null!==e){for(var t,n,r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];null===(t=(n=this.props).onReset)||void 0===t||t.call(n,{args:a,reason:"imperative-api"}),this.setState(go)}}componentDidCatch(e,t){var n,r;null===(n=(r=this.props).onError)||void 0===n||n.call(r,e,t)}componentDidUpdate(e,t){const{didCatch:n}=this.state,{resetKeys:r}=this.props;var a,s;n&&null!==t.error&&function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length!==t.length||e.some((e,n)=>!Object.is(e,t[n]))}(e.resetKeys,r)&&(null===(a=(s=this.props).onReset)||void 0===a||a.call(s,{next:r,prev:e.resetKeys,reason:"keys"}),this.setState(go))}render(){const{children:e,fallbackRender:t,FallbackComponent:n,fallback:a}=this.props,{didCatch:s,error:o}=this.state;let i=e;if(s){const e={error:o,resetErrorBoundary:this.resetErrorBoundary};if("function"===typeof t)i=t(e);else if(n)i=(0,r.createElement)(n,e);else{if(void 0===a)throw o;i=a}}return(0,r.createElement)(po.Provider,{value:{didCatch:s,error:o,resetErrorBoundary:this.resetErrorBoundary}},i)}}const bo=y("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),vo=y("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),xo=y("bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]),wo=e=>{let{error:t,resetErrorBoundary:n,componentStack:a}=e;const[s,o]=r.useState(!1),[i,l]=r.useState(!1);return(0,Ja.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 flex items-center justify-center p-4",children:(0,Ja.jsxs)("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-2xl border border-red-200",children:[(0,Ja.jsx)("div",{className:"bg-gradient-to-r from-red-500 to-orange-500 text-white p-6 rounded-t-xl",children:(0,Ja.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ja.jsx)("div",{className:"p-2 bg-white/20 rounded-lg",children:(0,Ja.jsx)(bo,{className:"w-6 h-6"})}),(0,Ja.jsxs)("div",{children:[(0,Ja.jsx)("h1",{className:"text-xl font-bold",children:"System Error Detected"}),(0,Ja.jsx)("p",{className:"text-red-100",children:"The CRM encountered an unexpected error"})]})]})}),(0,Ja.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Ja.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,Ja.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Ja.jsx)(vo,{className:"w-5 h-5 text-red-500 mt-0.5 flex-shrink-0"}),(0,Ja.jsxs)("div",{className:"flex-1",children:[(0,Ja.jsx)("h3",{className:"font-semibold text-red-800 mb-1",children:"Error Details"}),(0,Ja.jsx)("p",{className:"text-red-700 text-sm font-mono bg-red-100 p-2 rounded",children:t.message})]})]})}),(0,Ja.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,Ja.jsx)("h3",{className:"font-semibold text-blue-800 mb-3",children:"Troubleshooting Steps"}),(0,Ja.jsxs)("ol",{className:"list-decimal list-inside space-y-2 text-blue-700 text-sm",children:[(0,Ja.jsx)("li",{children:"Try refreshing the page to reload the application"}),(0,Ja.jsx)("li",{children:"Clear your browser cache and cookies"}),(0,Ja.jsx)("li",{children:"Check your internet connection"}),(0,Ja.jsx)("li",{children:"Disable browser extensions temporarily"}),(0,Ja.jsx)("li",{children:"Contact support if the problem persists"})]})]}),(0,Ja.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,Ja.jsxs)("button",{onClick:n,className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[(0,Ja.jsx)(os,{className:"w-4 h-4"}),(0,Ja.jsx)("span",{children:"Try Again"})]}),(0,Ja.jsxs)("button",{onClick:async()=>{l(!0);try{const e={message:t.message,stack:t.stack,componentStack:a,url:window.location.href,userAgent:navigator.userAgent,timestamp:(new Date).toISOString(),userId:localStorage.getItem("userId")||"anonymous"};console.error("Error Report:",e),setTimeout(()=>l(!1),1e3)}catch(reportError){console.error("Failed to report error:",reportError),l(!1)}},disabled:i,className:"flex items-center space-x-2 bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors disabled:opacity-50",children:[(0,Ja.jsx)(xo,{className:"w-4 h-4"}),(0,Ja.jsx)("span",{children:i?"Reporting...":"Report Error"})]}),(0,Ja.jsxs)("button",{onClick:()=>window.location.reload(),className:"flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[(0,Ja.jsx)(os,{className:"w-4 h-4"}),(0,Ja.jsx)("span",{children:"Reload Page"})]})]}),(0,Ja.jsxs)("div",{className:"border-t pt-4",children:[(0,Ja.jsxs)("button",{onClick:()=>o(!s),className:"text-gray-600 hover:text-gray-800 text-sm font-medium",children:[s?"Hide":"Show"," Technical Details"]}),s&&(0,Ja.jsxs)("div",{className:"mt-3 space-y-3",children:[(0,Ja.jsxs)("div",{children:[(0,Ja.jsx)("h4",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Stack Trace"}),(0,Ja.jsx)("pre",{className:"text-xs bg-gray-100 p-3 rounded overflow-x-auto text-gray-700 font-mono",children:t.stack})]}),a&&(0,Ja.jsxs)("div",{children:[(0,Ja.jsx)("h4",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Component Stack"}),(0,Ja.jsx)("pre",{className:"text-xs bg-gray-100 p-3 rounded overflow-x-auto text-gray-700 font-mono",children:a})]}),(0,Ja.jsxs)("div",{children:[(0,Ja.jsx)("h4",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Environment"}),(0,Ja.jsxs)("div",{className:"text-xs bg-gray-100 p-3 rounded text-gray-700 space-y-1",children:[(0,Ja.jsxs)("div",{children:[(0,Ja.jsx)("strong",{children:"URL:"})," ",window.location.href]}),(0,Ja.jsxs)("div",{children:[(0,Ja.jsx)("strong",{children:"User Agent:"})," ",navigator.userAgent]}),(0,Ja.jsxs)("div",{children:[(0,Ja.jsx)("strong",{children:"Timestamp:"})," ",(new Date).toISOString()]})]})]})]})]})]}),(0,Ja.jsx)("div",{className:"bg-gray-50 px-6 py-3 rounded-b-xl border-t text-center",children:(0,Ja.jsxs)("p",{className:"text-xs text-gray-500",children:["Bhotch CRM System - Error ID: ",Date.now().toString(36)]})})]})})},ko=(e,t)=>{console.group("\ud83d\udea8 Error Boundary Triggered"),console.error("Error:",e),console.error("Error Info:",t),console.error("Component Stack:",t.componentStack),console.error("Error Stack:",e.stack),console.groupEnd();const n={message:e.message,stack:e.stack,componentStack:t.componentStack,timestamp:(new Date).toISOString(),url:window.location.href,userAgent:navigator.userAgent};try{const e=JSON.parse(localStorage.getItem("errorLogs")||"[]");e.push(n),e.length>10&&e.splice(0,e.length-10),localStorage.setItem("errorLogs",JSON.stringify(e))}catch(r){console.warn("Failed to store error log:",r)}},No=e=>{let{children:t,fallback:n}=e;return(0,Ja.jsx)(yo,{FallbackComponent:n||wo,onError:ko,onReset:()=>{window.location.hash="",window.location.reload()},children:t})},jo=No;function Co(e){let{onLogout:t}=e;const{notifications:n,addNotification:a}=function(){const[e,t]=(0,r.useState)([]),n=(0,r.useCallback)(function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";const r={id:Date.now().toString(),message:e,type:n};t(e=>[r,...e.slice(0,4)]),setTimeout(()=>{t(e=>e.filter(e=>e.id!==r.id))},5e3)},[]);return{notifications:e,addNotification:n}}(),{leads:s,loading:o,refreshLeads:i,addLead:l,updateLead:u,deleteLead:d}=function(e){const[t,n]=(0,r.useState)([]),[a,s]=(0,r.useState)(!0),o=(0,r.useCallback)(async function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t||s(!0);const r=await P.fetchLeads();if(r.success){const a=(r.data||r.leads||[]).map(e=>c(c({},e),{},{customerName:e.customerName||"".concat(e.firstName||""," ").concat(e.lastName||"").trim()||"Unknown"})).sort((e,t)=>new Date(t.createdDate||0)-new Date(e.createdDate||0));n(a),e(t?"Leads refreshed. Found ".concat(a.length," leads."):"Leads loaded. Found ".concat(a.length," leads."),"success")}else e("Error fetching leads: ".concat(r.message),"error");t||s(!1)},[e]);(0,r.useEffect)(()=>{o()},[o]);const i=(0,r.useCallback)(async t=>{const r=await P.addLead(t);return r.success&&r.lead?(n(e=>[r.lead,...e].sort((e,t)=>new Date(t.createdDate||0)-new Date(e.createdDate||0))),e("Lead added: ".concat(r.lead.customerName),"success")):e("Error adding lead: ".concat(r.message),"error"),r},[e]),l=(0,r.useCallback)(async t=>{const r=await P.updateLead(t);return r.success&&r.lead?(n(e=>e.map(e=>e.id===r.lead.id?r.lead:e)),e("Lead updated: ".concat(r.lead.customerName),"info")):e("Error updating lead: ".concat(r.message),"error"),r},[e]),u=(0,r.useCallback)(async r=>{const a=t.find(e=>e.id===r);if(a&&window.confirm("Are you sure you want to delete ".concat(a.customerName,"?"))){const t=await P.deleteLead(r);t.success?(n(e=>e.filter(e=>e.id!==r)),e("Lead deleted: ".concat(a.customerName),"warning")):e("Error deleting lead: ".concat(t.message),"error")}},[t,e]);return{leads:t,loading:a,refreshLeads:()=>o(!0),addLead:i,updateLead:l,deleteLead:u}}(a),{jobCounts:h,loading:m,refreshJobCounts:f,addJobCount:p,updateJobCount:g,deleteJobCount:y}=function(e){const[t,n]=(0,r.useState)([]),[a,s]=(0,r.useState)(!0),o=(0,r.useCallback)(async function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t||s(!0);try{const r=await P.fetchJobCounts();if(r.success){const a=(r.data||r.jobCounts||[]).map((e,t)=>c(c({},e),{},{id:e.id||"jobcount_".concat(Date.now(),"_").concat(t),fullName:e.customerName||"".concat(e.firstName||""," ").concat(e.lastName||"").trim()||"Unknown Customer"})).sort((e,t)=>new Date(t.date||0)-new Date(e.date||0));n(a);const s=t?"Job counts refreshed. Found ".concat(a.length," records."):"Job counts loaded. Found ".concat(a.length," records.");e(s,"success")}else e("Error fetching job counts: ".concat(r.message),"error")}catch(r){e("Error loading job counts: ".concat(r.message),"error")}finally{t||s(!1)}},[e]);(0,r.useEffect)(()=>{o()},[o]);const i=(0,r.useCallback)(async t=>{try{const r=await P.addJobCount(t);if(r.success&&r.jobCount){const t=c(c({},r.jobCount),{},{id:r.jobCount.id||"jobcount_".concat(Date.now()),fullName:r.jobCount.customerName||"".concat(r.jobCount.firstName||""," ").concat(r.jobCount.lastName||"").trim()||"Unknown Customer"});n(e=>[t,...e].sort((e,t)=>new Date(t.date||0)-new Date(e.date||0))),e("Job count added: ".concat(t.fullName),"success")}else e("Error adding job count: ".concat(r.message),"error");return r}catch(r){return e("Error adding job count: ".concat(r.message),"error"),{success:!1,message:r.message}}},[e]),l=(0,r.useCallback)(async t=>{try{const r=await P.updateJobCount(t);if(r.success&&r.jobCount){const a=c(c({},r.jobCount),{},{id:r.jobCount.id||t.id,fullName:r.jobCount.customerName||"".concat(r.jobCount.firstName||""," ").concat(r.jobCount.lastName||"").trim()||"Unknown Customer"});n(e=>e.map(e=>e.id===a.id?a:e)),e("Job count updated: ".concat(a.fullName),"info")}else e("Error updating job count: ".concat(r.message),"error");return r}catch(r){return e("Error updating job count: ".concat(r.message),"error"),{success:!1,message:r.message}}},[e]),u=(0,r.useCallback)(async r=>{const a=t.find(e=>e.id===r);if(!a)return void e("Job count not found","error");const s="Are you sure you want to delete the job count for ".concat(a.fullName,"?");if(window.confirm(s))try{const t=await P.deleteJobCount(r);t.success?(n(e=>e.filter(e=>e.id!==r)),e("Job count deleted: ".concat(a.fullName),"info")):e("Error deleting job count: ".concat(t.message),"error")}catch(o){e("Error deleting job count: ".concat(o.message),"error")}},[t,e]);return{jobCounts:t,loading:a,refreshJobCounts:()=>o(!0),addJobCount:i,updateJobCount:l,deleteJobCount:u}}(a),{communications:T,addCommunication:L}=M(a),[R,A]=(0,r.useState)("dashboard"),[O,D]=(0,r.useState)(null),[F,z]=(0,r.useState)(!1),[U,V]=(0,r.useState)(null),[B,H]=(0,r.useState)(""),[q,W]=(0,r.useState)(null),[G,J]=(0,r.useState)(!1),[Q,K]=(0,r.useState)(null),$=(0,r.useMemo)(()=>({totalLeads:s.length,hotLeads:s.filter(e=>"Hot"===e.quality).length,quotedLeads:s.filter(e=>"Quoted"===e.disposition).length,totalQuoteValue:s.reduce((e,t)=>e+(parseFloat(String(t.dabellaQuote).replace(/[$,]/g,""))||0),0),totalJobCounts:h.length,totalSqFt:h.reduce((e,t)=>e+(parseFloat(t.sqFt)||0),0)}),[s,h]),Y=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";A(e),"map"===e&&t&&H(t),V(null),K(null)};return o||m?(0,Ja.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Ja.jsx)(b,{className:"animate-spin h-12 w-12 text-blue-600"})}):(0,Ja.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Ja.jsx)("header",{className:"bg-white shadow-sm border-b sticky top-0 z-30",children:(0,Ja.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Ja.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,Ja.jsxs)("div",{className:"flex items-center",children:[(0,Ja.jsx)(v,{className:"h-8 w-8 text-blue-600 mr-3"}),(0,Ja.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Bhotch CRM"})]}),(0,Ja.jsxs)("nav",{className:"flex space-x-1 sm:space-x-2",children:[(0,Ja.jsxs)("button",{onClick:()=>A("dashboard"),className:"px-3 py-2 rounded-md text-sm font-medium flex items-center transition-colors ".concat("dashboard"===R?"bg-blue-100 text-blue-700":"text-gray-500 hover:bg-gray-100"),children:[(0,Ja.jsx)(x,{className:"w-4 h-4 mr-1"}),(0,Ja.jsx)("span",{className:"hidden sm:inline",children:"Dashboard"})]}),(0,Ja.jsxs)("button",{onClick:()=>A("leads"),className:"px-3 py-2 rounded-md text-sm font-medium flex items-center transition-colors ".concat("leads"===R?"bg-blue-100 text-blue-700":"text-gray-500 hover:bg-gray-100"),children:[(0,Ja.jsx)(w,{className:"w-4 h-4 mr-1"}),(0,Ja.jsx)("span",{className:"hidden sm:inline",children:"Leads"})]}),(0,Ja.jsxs)("button",{onClick:()=>A("jobcount"),className:"px-3 py-2 rounded-md text-sm font-medium flex items-center transition-colors ".concat("jobcount"===R?"bg-blue-100 text-blue-700":"text-gray-500 hover:bg-gray-100"),children:[(0,Ja.jsx)(k,{className:"w-4 h-4 mr-1"}),(0,Ja.jsx)("span",{className:"hidden sm:inline",children:"Job Count"})]}),(0,Ja.jsxs)("button",{onClick:()=>A("map"),className:"px-3 py-2 rounded-md text-sm font-medium flex items-center transition-colors ".concat("map"===R?"bg-blue-100 text-blue-700":"text-gray-500 hover:bg-gray-100"),children:[(0,Ja.jsx)(N,{className:"w-4 h-4 mr-1"}),(0,Ja.jsx)("span",{className:"hidden sm:inline",children:"Map"})]}),(0,Ja.jsxs)("button",{onClick:()=>A("calendar"),className:"px-3 py-2 rounded-md text-sm font-medium flex items-center transition-colors ".concat("calendar"===R?"bg-blue-100 text-blue-700":"text-gray-500 hover:bg-gray-100"),children:[(0,Ja.jsx)(j,{className:"w-4 h-4 mr-1"}),(0,Ja.jsx)("span",{className:"hidden sm:inline",children:"Calendar"})]}),(0,Ja.jsxs)("button",{onClick:()=>A("communications"),className:"px-3 py-2 rounded-md text-sm font-medium flex items-center transition-colors ".concat("communications"===R?"bg-blue-100 text-blue-700":"text-gray-500 hover:bg-gray-100"),children:[(0,Ja.jsx)(C,{className:"w-4 h-4 mr-1"}),(0,Ja.jsx)("span",{className:"hidden sm:inline",children:"Comms"})]}),(0,Ja.jsx)("button",{onClick:t,className:"p-2 bg-red-100 text-red-700 rounded-md hover:bg-red-200 transition-colors",children:(0,Ja.jsx)(S,{className:"w-5 h-5"})})]})]})})}),(0,Ja.jsx)("div",{className:"fixed top-20 right-5 w-80 z-50",children:n.map(e=>(0,Ja.jsxs)("div",{className:"p-3 rounded-md mb-2 shadow-lg animate-fade-in-right flex items-start ".concat("success"===e.type?"bg-green-100 text-green-800":"error"===e.type?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"),children:["success"===e.type&&(0,Ja.jsx)(_,{className:"w-5 h-5 mr-2 mt-0.5 shrink-0"}),"error"===e.type&&(0,Ja.jsx)(E,{className:"w-5 h-5 mr-2 mt-0.5 shrink-0"}),"info"===e.type&&(0,Ja.jsx)(I,{className:"w-5 h-5 mr-2 mt-0.5 shrink-0"}),(0,Ja.jsx)("span",{className:"text-sm",children:e.message})]},e.id))}),(0,Ja.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:["dashboard"===R&&(0,Ja.jsxs)(Ja.Fragment,{children:[(0,Ja.jsx)(mo,{}),(0,Ja.jsx)(Za,{stats:$,leads:s,jobCounts:h,onNavigateToTab:Y})]}),"leads"===R&&(0,Ja.jsx)(fs,{leads:s,onAddLead:()=>z(!0),onEditLead:D,onDeleteLead:d,onRefreshLeads:i,onSelectLead:V}),"jobcount"===R&&(0,Ja.jsx)(ps,{jobCounts:h,onAddJobCount:()=>J(!0),onEditJobCount:W,onDeleteJobCount:y,onRefreshJobCounts:f,onSelectJobCount:K}),"map"===R&&(0,Ja.jsx)(ks,{leads:s,onLeadClick:V,searchAddress:B,onSearchComplete:()=>H("")}),"calendar"===R&&(0,Ja.jsx)(_s,{}),"communications"===R&&(0,Ja.jsx)(Ds,{leads:s,jobCounts:h,communications:T})]}),F&&(0,Ja.jsx)(Ws,{onSubmit:async e=>{await l(e),z(!1)},onCancel:()=>z(!1)}),O&&(0,Ja.jsx)(Ws,{initialData:O,onSubmit:async e=>{await u(e),D(null)},onCancel:()=>D(null),isEdit:!0}),U&&(0,Ja.jsx)(eo,{lead:U,onClose:()=>V(null),onEdit:()=>{D(U),V(null)},onDelete:()=>{d(U.id),V(null)},onNavigateToTab:Y,onLogCommunication:L,onUpdateLead:u}),G&&(0,Ja.jsx)(uo,{onSubmit:async e=>{await p(e),J(!1)},onCancel:()=>J(!1)}),q&&(0,Ja.jsx)(uo,{initialData:q,onSubmit:async e=>{await g(e),W(null)},onCancel:()=>W(null),isEdit:!0}),Q&&(0,Ja.jsx)(ho,{jobCount:Q,onClose:()=>K(null),onEdit:()=>{W(Q),K(null)},onDelete:()=>{y(Q.id),K(null)},onJobCountUpdate:e=>{K(e),f()}})]})}function So(){const[e,t]=(0,r.useState)(!!sessionStorage.getItem("isAuthenticated")),n=["AIzaSyCa63Fy9PF-NV8C_z_5Qp7VWse5nRxRRJ8","https://script.google.com/macros/s/AKfycbweOri4v6JDVEsMnU2KbxiQ2_MicbaltR49-cqYwwT2J8YE1dbLhd_Klc5AuUThJjpNZA/exec","AIzaSyA-IhqTEAOQMTU9DlEeUwt1_oM5yq3-sb4"].some(e=>!e)?"One or more critical environment variables (Firebase, GAS URL, Maps API) are not set.":null;return n?(0,Ja.jsx)(fo,{error:n}):e?(0,Ja.jsx)(jo,{children:(0,Ja.jsx)(Co,{onLogout:()=>{sessionStorage.removeItem("isAuthenticated"),t(!1)}})}):(0,Ja.jsx)(jo,{children:(0,Ja.jsx)(Qa,{onLogin:()=>t(!0)})})}a.createRoot(document.getElementById("root")).render((0,Ja.jsx)(r.StrictMode,{children:(0,Ja.jsx)(So,{})}))})();
//# sourceMappingURL=main.38c6e0e9.js.map