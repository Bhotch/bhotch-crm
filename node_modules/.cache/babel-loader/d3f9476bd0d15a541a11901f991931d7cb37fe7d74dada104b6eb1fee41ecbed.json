{"ast":null,"code":"import React,{useState,useEffect,useRef,useMemo,useCallback}from'react';import{Loader2,AlertCircle,Map,MapPin,Navigation,Layers,Search}from'lucide-react';import{loadGoogleMaps}from'../../services/googleMapsService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function GoogleMapComponent(_ref){let{leads,onLeadClick,showDemoData,mapType,showTraffic,searchAddress,onSearchComplete}=_ref;const mapRef=useRef(null);const markersRef=useRef([]);const infoWindowRef=useRef(null);const trafficLayerRef=useRef(null);const[map,setMap]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);// Demo data for when no real leads exist\nconst demoLeads=useMemo(()=>[{id:'demo1',customerName:'John Smith',phoneNumber:'555-0123',address:'123 Main St, Ogden, UT',quality:'Hot',latitude:41.2230,longitude:-111.9738},{id:'demo2',customerName:'Sarah Johnson',phoneNumber:'555-0456',address:'456 Oak Ave, Salt Lake City, UT',quality:'Warm',latitude:40.7608,longitude:-111.8910},{id:'demo3',customerName:'Mike Wilson',phoneNumber:'555-0789',address:'789 Pine St, Provo, UT',quality:'Cold',latitude:40.2338,longitude:-111.6585},{id:'demo4',customerName:'Emily Davis',phoneNumber:'555-0321',address:'321 Elm Dr, West Valley, UT',quality:'Hot',latitude:40.6916,longitude:-112.0011},{id:'demo5',customerName:'Chris Brown',phoneNumber:'555-0654',address:'654 Cedar Ln, Layton, UT',quality:'Warm',latitude:41.0602,longitude:-111.9711}],[]);// Use demo data if showDemoData is true, otherwise use all leads (with and without coords)\nconst dataToShow=showDemoData?demoLeads:leads;// Separate leads with and without coordinates\nconst leadsWithCoords=dataToShow.filter(lead=>{const lat=lead.latitude||lead.lat||lead.geocoded_lat;const lng=lead.longitude||lead.lng||lead.geocoded_lng;return lat&&lng&&!isNaN(parseFloat(lat))&&!isNaN(parseFloat(lng));});const leadsWithoutCoords=dataToShow.filter(lead=>{const lat=lead.latitude||lead.lat||lead.geocoded_lat;const lng=lead.longitude||lead.lng||lead.geocoded_lng;return!lat||!lng||isNaN(parseFloat(lat))||isNaN(parseFloat(lng));});const getMarkerColor=useCallback(quality=>{switch(quality){case'Hot':return'#dc2626';case'Warm':return'#f59e0b';case'Cold':return'#3b82f6';default:return'#6b7280';}},[]);const createMarkerIcon=useCallback(quality=>{const color=getMarkerColor(quality);return{url:'data:image/svg+xml;charset=UTF-8,'+encodeURIComponent(\"<svg width=\\\"36\\\" height=\\\"36\\\" viewBox=\\\"0 0 36 36\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n          <path d=\\\"M18 2c-7.7 0-14 6.3-14 14 0 10.5 14 18 14 18s14-7.5 14-18c0-7.7-6.3-14-14-14z\\\" fill=\\\"\".concat(color,\"\\\" stroke=\\\"#ffffff\\\" stroke-width=\\\"2\\\"/>\\n          <circle cx=\\\"18\\\" cy=\\\"16\\\" r=\\\"6\\\" fill=\\\"#ffffff\\\"/>\\n          <circle cx=\\\"18\\\" cy=\\\"16\\\" r=\\\"3\\\" fill=\\\"\").concat(color,\"\\\"/>\\n        </svg>\")),scaledSize:new window.google.maps.Size(36,36),anchor:new window.google.maps.Point(18,36)};},[getMarkerColor]);useEffect(()=>{const initializeMap=async()=>{try{const google=await loadGoogleMaps();if(!mapRef.current)return;const mapStyles=[{featureType:\"poi.business\",stylers:[{visibility:\"off\"}]},{featureType:\"poi.park\",elementType:\"labels.text\",stylers:[{visibility:\"off\"}]}];const mapInstance=new google.maps.Map(mapRef.current,{center:{lat:40.7608,lng:-111.8910},// Salt Lake City center\nzoom:9,styles:mapStyles,mapTypeId:mapType,mapTypeControl:true,streetViewControl:true,fullscreenControl:true,zoomControl:true});// Initialize traffic layer\ntrafficLayerRef.current=new google.maps.TrafficLayer();if(showTraffic){trafficLayerRef.current.setMap(mapInstance);}infoWindowRef.current=new google.maps.InfoWindow();setMap(mapInstance);}catch(err){setError(err.message);}finally{setLoading(false);}};initializeMap();},[mapType,showTraffic]);// Update traffic layer visibility\nuseEffect(()=>{if(trafficLayerRef.current&&map){trafficLayerRef.current.setMap(showTraffic?map:null);}},[showTraffic,map]);// Handle address search when searchAddress changes\nuseEffect(()=>{if(!map||!window.google||!searchAddress)return;const geocoder=new window.google.maps.Geocoder();geocoder.geocode({address:searchAddress},(results,status)=>{if(status==='OK'&&results[0]){const location=results[0].geometry.location;map.setCenter(location);map.setZoom(15);// Add a marker for the searched address\nnew window.google.maps.Marker({position:location,map,title:searchAddress,icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:8,fillColor:'#4F46E5',fillOpacity:1,strokeColor:'#ffffff',strokeWeight:2}});}// Clear the search address after processing\nif(onSearchComplete)onSearchComplete();});},[map,searchAddress,onSearchComplete]);useEffect(()=>{window.viewLeadDetails=leadId=>{const lead=dataToShow.find(l=>l.id===leadId);if(lead&&onLeadClick)onLeadClick(lead);};return()=>{window.viewLeadDetails=null;};},[dataToShow,onLeadClick]);useEffect(()=>{if(!map||!window.google)return;// Clear existing markers\nmarkersRef.current.forEach(marker=>marker.setMap(null));markersRef.current=[];const bounds=new window.google.maps.LatLngBounds();leadsWithCoords.forEach(lead=>{const lat=lead.latitude||lead.lat||lead.geocoded_lat;const lng=lead.longitude||lead.lng||lead.geocoded_lng;const position={lat:parseFloat(lat),lng:parseFloat(lng)};const marker=new window.google.maps.Marker({position,map,title:lead.customerName,icon:createMarkerIcon(lead.quality),animation:window.google.maps.Animation.DROP});marker.addListener('click',()=>{const content=\"\\n          <div style=\\\"padding: 12px; min-width: 200px;\\\">\\n            <h3 style=\\\"margin: 0 0 8px 0; color: #1f2937; font-size: 16px; font-weight: 600;\\\">\\n              \".concat(lead.customerName||'Unknown',\"\\n            </h3>\\n            <div style=\\\"margin-bottom: 8px;\\\">\\n              <strong style=\\\"color: #374151;\\\">Phone:</strong>\\n              <a href=\\\"tel:\").concat(lead.phoneNumber,\"\\\" style=\\\"color: #3b82f6; text-decoration: none;\\\">\\n                \").concat(lead.phoneNumber||'N/A',\"\\n              </a>\\n            </div>\\n            <div style=\\\"margin-bottom: 8px;\\\">\\n              <strong style=\\\"color: #374151;\\\">Quality:</strong>\\n              <span style=\\\"background: \").concat(getMarkerColor(lead.quality),\"20; color: \").concat(getMarkerColor(lead.quality),\"; padding: 2px 6px; border-radius: 4px; font-size: 12px;\\\">\\n                \").concat(lead.quality,\"\\n              </span>\\n            </div>\\n            \").concat(lead.address?\"<div style=\\\"margin-bottom: 12px; color: #6b7280; font-size: 14px;\\\">\".concat(lead.address,\"</div>\"):'',\"\\n            <button onclick=\\\"window.viewLeadDetails('\").concat(lead.id,\"')\\\"\\n                    style=\\\"background: #3b82f6; color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer; font-size: 14px; font-weight: 500;\\\">\\n              View Details\\n            </button>\\n          </div>\\n        \");infoWindowRef.current.setContent(content);infoWindowRef.current.open(map,marker);});markersRef.current.push(marker);bounds.extend(position);});if(leadsWithCoords.length>0){map.fitBounds(bounds);// Ensure reasonable zoom level\nwindow.google.maps.event.addListenerOnce(map,'bounds_changed',()=>{if(map.getZoom()>15)map.setZoom(15);});}},[map,leadsWithCoords,createMarkerIcon,getMarkerColor,onLeadClick]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"h-[70vh] w-full rounded-lg border border-gray-300 flex items-center justify-center bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(Loader2,{className:\"animate-spin h-10 w-10 text-blue-600 mx-auto mb-3\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-lg\",children:\"Loading Interactive Map...\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-sm mt-1\",children:\"Connecting to Google Maps\"})]})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"h-[70vh] w-full rounded-lg border border-red-300 flex items-center justify-center bg-red-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center max-w-md\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-12 w-12 text-red-600 mx-auto mb-3\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-red-800 mb-2\",children:\"Map Loading Failed\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600 mb-3\",children:error}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Please check your Google Maps API key configuration and internet connection.\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{ref:mapRef,className:\"h-[70vh] w-full rounded-lg overflow-hidden border border-gray-300 shadow-sm\"}),!showDemoData&&leadsWithoutCoords.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 bg-yellow-50 border border-yellow-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-sm font-semibold text-yellow-800 mb-3 flex items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"w-4 h-4 mr-2\"}),\"Leads Without Location Data (\",leadsWithoutCoords.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-3\",children:leadsWithoutCoords.slice(0,4).map(lead=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-3 rounded border border-yellow-200 hover:shadow-sm transition-shadow cursor-pointer\",onClick:()=>onLeadClick&&onLeadClick(lead),children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900\",children:lead.customerName||'Unknown'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:lead.phoneNumber||'No phone'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:lead.address||'No address provided'})]},lead.id))}),leadsWithoutCoords.length>4&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 text-sm text-yellow-700\",children:[\"And \",leadsWithoutCoords.length-4,\" more leads without coordinates...\"]})]})]});}function MapView(_ref2){let{leads,onLeadClick,searchAddress,onSearchComplete}=_ref2;const[showDemoData,setShowDemoData]=useState(false);const[mapType,setMapType]=useState('roadmap');const[showTraffic,setShowTraffic]=useState(false);const leadsWithCoords=useMemo(()=>leads.filter(lead=>lead.latitude&&lead.longitude||lead.lat&&lead.lng||lead.geocoded_lat&&lead.geocoded_lng),[leads]);const hasRealData=leadsWithCoords.length>0;const qualityStats=useMemo(()=>{const dataToAnalyze=showDemoData?[{quality:'Hot'},{quality:'Hot'},{quality:'Warm'},{quality:'Warm'},{quality:'Cold'}]:leads;return{hot:dataToAnalyze.filter(l=>l.quality==='Hot').length,warm:dataToAnalyze.filter(l=>l.quality==='Warm').length,cold:dataToAnalyze.filter(l=>l.quality==='Cold').length,total:dataToAnalyze.length,mapped:leadsWithCoords.length};},[leads,leadsWithCoords,showDemoData]);return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-3xl font-bold text-gray-900 flex items-center\",children:[/*#__PURE__*/_jsx(MapPin,{className:\"w-8 h-8 mr-3 text-blue-600\"}),\"Customer Locations\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-1\",children:\"Interactive map showing customer locations with lead quality indicators\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap items-center gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center bg-gray-100 rounded-lg p-1\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowDemoData(false),className:\"px-3 py-1 text-sm font-medium rounded-md transition-colors \".concat(!showDemoData?'bg-white text-gray-900 shadow-sm':'text-gray-600 hover:text-gray-900'),children:[\"Real Data (\",leads.length,\")\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowDemoData(true),className:\"px-3 py-1 text-sm font-medium rounded-md transition-colors \".concat(showDemoData?'bg-white text-gray-900 shadow-sm':'text-gray-600 hover:text-gray-900'),children:\"Demo Data (5)\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:mapType,onChange:e=>setMapType(e.target.value),className:\"text-sm border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"roadmap\",children:\"Road Map\"}),/*#__PURE__*/_jsx(\"option\",{value:\"satellite\",children:\"Satellite\"}),/*#__PURE__*/_jsx(\"option\",{value:\"hybrid\",children:\"Hybrid\"}),/*#__PURE__*/_jsx(\"option\",{value:\"terrain\",children:\"Terrain\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowTraffic(!showTraffic),className:\"flex items-center px-3 py-2 text-sm font-medium rounded-lg border transition-colors \".concat(showTraffic?'bg-blue-50 border-blue-200 text-blue-700':'bg-white border-gray-300 text-gray-700 hover:bg-gray-50'),children:[/*#__PURE__*/_jsx(Navigation,{className:\"w-4 h-4 mr-2\"}),\"Traffic\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow p-4 border-l-4 border-red-500\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-red-500 rounded-full\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500\",children:\"Hot Leads\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:qualityStats.hot})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow p-4 border-l-4 border-yellow-500\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-yellow-500 rounded-full\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500\",children:\"Warm Leads\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:qualityStats.warm})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow p-4 border-l-4 border-blue-500\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-blue-500 rounded-full\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500\",children:\"Cold Leads\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:qualityStats.cold})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow p-4 border-l-4 border-gray-500\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(MapPin,{className:\"w-4 h-4 text-gray-600\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500\",children:\"Total Mapped\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:showDemoData?5:qualityStats.mapped})]})]})})]}),!hasRealData&&!showDemoData?/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-lg p-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(Map,{className:\"mx-auto h-20 w-20 text-gray-400 mb-6\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900 mb-3\",children:\"No Location Data Available\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6 max-w-md mx-auto\",children:\"Your leads don't have geocoded coordinates yet. Add addresses to your leads or use demo data to see the map in action.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row gap-3 justify-center\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowDemoData(true),className:\"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\",children:[/*#__PURE__*/_jsx(Map,{className:\"w-4 h-4 mr-2\"}),\"View Demo Data\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors\",children:[/*#__PURE__*/_jsx(Search,{className:\"w-4 h-4 mr-2\"}),\"Learn About Geocoding\"]})]})]})}):/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4 bg-gray-50 border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Interactive Map\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 text-sm text-gray-600\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-red-500 rounded-full mr-1\"}),\"Hot (\",qualityStats.hot,\")\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-yellow-500 rounded-full mr-1\"}),\"Warm (\",qualityStats.warm,\")\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-blue-500 rounded-full mr-1\"}),\"Cold (\",qualityStats.cold,\")\"]})]})]}),showDemoData&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-blue-600 bg-blue-50 px-3 py-1 rounded-full\",children:[/*#__PURE__*/_jsx(Layers,{className:\"w-4 h-4 mr-1\"}),\"Demo Mode\"]})]})}),/*#__PURE__*/_jsx(GoogleMapComponent,{leads:leads,onLeadClick:onLeadClick,showDemoData:showDemoData,mapType:mapType,showTraffic:showTraffic,searchAddress:searchAddress,onSearchComplete:onSearchComplete})]})]});}export default MapView;","map":{"version":3,"names":["React","useState","useEffect","useRef","useMemo","useCallback","Loader2","AlertCircle","Map","MapPin","Navigation","Layers","Search","loadGoogleMaps","jsx","_jsx","jsxs","_jsxs","GoogleMapComponent","_ref","leads","onLeadClick","showDemoData","mapType","showTraffic","searchAddress","onSearchComplete","mapRef","markersRef","infoWindowRef","trafficLayerRef","map","setMap","loading","setLoading","error","setError","demoLeads","id","customerName","phoneNumber","address","quality","latitude","longitude","dataToShow","leadsWithCoords","filter","lead","lat","geocoded_lat","lng","geocoded_lng","isNaN","parseFloat","leadsWithoutCoords","getMarkerColor","createMarkerIcon","color","url","encodeURIComponent","concat","scaledSize","window","google","maps","Size","anchor","Point","initializeMap","current","mapStyles","featureType","stylers","visibility","elementType","mapInstance","center","zoom","styles","mapTypeId","mapTypeControl","streetViewControl","fullscreenControl","zoomControl","TrafficLayer","InfoWindow","err","message","geocoder","Geocoder","geocode","results","status","location","geometry","setCenter","setZoom","Marker","position","title","icon","path","SymbolPath","CIRCLE","scale","fillColor","fillOpacity","strokeColor","strokeWeight","viewLeadDetails","leadId","find","l","forEach","marker","bounds","LatLngBounds","animation","Animation","DROP","addListener","content","setContent","open","push","extend","length","fitBounds","event","addListenerOnce","getZoom","className","children","ref","slice","onClick","MapView","_ref2","setShowDemoData","setMapType","setShowTraffic","hasRealData","qualityStats","dataToAnalyze","hot","warm","cold","total","mapped","value","onChange","e","target"],"sources":["C:/Users/PC_User/Desktop/free-crm/bhotch-crm/src/features/map/MapView.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef, useMemo, useCallback } from 'react';\r\nimport { Loader2, AlertCircle, Map, MapPin, Navigation, Layers, Search } from 'lucide-react';\r\nimport { loadGoogleMaps } from '../../services/googleMapsService';\r\n\r\nfunction GoogleMapComponent({ leads, onLeadClick, showDemoData, mapType, showTraffic, searchAddress, onSearchComplete }) {\r\n  const mapRef = useRef(null);\r\n  const markersRef = useRef([]);\r\n  const infoWindowRef = useRef(null);\r\n  const trafficLayerRef = useRef(null);\r\n  const [map, setMap] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  // Demo data for when no real leads exist\r\n  const demoLeads = useMemo(() => [\r\n    { id: 'demo1', customerName: 'John Smith', phoneNumber: '555-0123', address: '123 Main St, Ogden, UT', quality: 'Hot', latitude: 41.2230, longitude: -111.9738 },\r\n    { id: 'demo2', customerName: 'Sarah Johnson', phoneNumber: '555-0456', address: '456 Oak Ave, Salt Lake City, UT', quality: 'Warm', latitude: 40.7608, longitude: -111.8910 },\r\n    { id: 'demo3', customerName: 'Mike Wilson', phoneNumber: '555-0789', address: '789 Pine St, Provo, UT', quality: 'Cold', latitude: 40.2338, longitude: -111.6585 },\r\n    { id: 'demo4', customerName: 'Emily Davis', phoneNumber: '555-0321', address: '321 Elm Dr, West Valley, UT', quality: 'Hot', latitude: 40.6916, longitude: -112.0011 },\r\n    { id: 'demo5', customerName: 'Chris Brown', phoneNumber: '555-0654', address: '654 Cedar Ln, Layton, UT', quality: 'Warm', latitude: 41.0602, longitude: -111.9711 }\r\n  ], []);\r\n\r\n  // Use demo data if showDemoData is true, otherwise use all leads (with and without coords)\r\n  const dataToShow = showDemoData ? demoLeads : leads;\r\n\r\n  // Separate leads with and without coordinates\r\n  const leadsWithCoords = dataToShow.filter(lead => {\r\n    const lat = lead.latitude || lead.lat || lead.geocoded_lat;\r\n    const lng = lead.longitude || lead.lng || lead.geocoded_lng;\r\n    return lat && lng && !isNaN(parseFloat(lat)) && !isNaN(parseFloat(lng));\r\n  });\r\n\r\n  const leadsWithoutCoords = dataToShow.filter(lead => {\r\n    const lat = lead.latitude || lead.lat || lead.geocoded_lat;\r\n    const lng = lead.longitude || lead.lng || lead.geocoded_lng;\r\n    return !lat || !lng || isNaN(parseFloat(lat)) || isNaN(parseFloat(lng));\r\n  });\r\n\r\n  const getMarkerColor = useCallback((quality) => {\r\n    switch (quality) {\r\n      case 'Hot': return '#dc2626';\r\n      case 'Warm': return '#f59e0b';\r\n      case 'Cold': return '#3b82f6';\r\n      default: return '#6b7280';\r\n    }\r\n  }, []);\r\n\r\n  const createMarkerIcon = useCallback((quality) => {\r\n    const color = getMarkerColor(quality);\r\n    return {\r\n      url: 'data:image/svg+xml;charset=UTF-8,' + encodeURIComponent(\r\n        `<svg width=\"36\" height=\"36\" viewBox=\"0 0 36 36\" xmlns=\"http://www.w3.org/2000/svg\">\r\n          <path d=\"M18 2c-7.7 0-14 6.3-14 14 0 10.5 14 18 14 18s14-7.5 14-18c0-7.7-6.3-14-14-14z\" fill=\"${color}\" stroke=\"#ffffff\" stroke-width=\"2\"/>\r\n          <circle cx=\"18\" cy=\"16\" r=\"6\" fill=\"#ffffff\"/>\r\n          <circle cx=\"18\" cy=\"16\" r=\"3\" fill=\"${color}\"/>\r\n        </svg>`\r\n      ),\r\n      scaledSize: new window.google.maps.Size(36, 36),\r\n      anchor: new window.google.maps.Point(18, 36)\r\n    };\r\n  }, [getMarkerColor]);\r\n\r\n  useEffect(() => {\r\n    const initializeMap = async () => {\r\n      try {\r\n        const google = await loadGoogleMaps();\r\n        if (!mapRef.current) return;\r\n\r\n        const mapStyles = [\r\n          { featureType: \"poi.business\", stylers: [{ visibility: \"off\" }] },\r\n          { featureType: \"poi.park\", elementType: \"labels.text\", stylers: [{ visibility: \"off\" }] }\r\n        ];\r\n\r\n        const mapInstance = new google.maps.Map(mapRef.current, {\r\n          center: { lat: 40.7608, lng: -111.8910 }, // Salt Lake City center\r\n          zoom: 9,\r\n          styles: mapStyles,\r\n          mapTypeId: mapType,\r\n          mapTypeControl: true,\r\n          streetViewControl: true,\r\n          fullscreenControl: true,\r\n          zoomControl: true\r\n        });\r\n\r\n        // Initialize traffic layer\r\n        trafficLayerRef.current = new google.maps.TrafficLayer();\r\n        if (showTraffic) {\r\n          trafficLayerRef.current.setMap(mapInstance);\r\n        }\r\n\r\n        infoWindowRef.current = new google.maps.InfoWindow();\r\n        setMap(mapInstance);\r\n      } catch (err) {\r\n        setError(err.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    initializeMap();\r\n  }, [mapType, showTraffic]);\r\n\r\n  // Update traffic layer visibility\r\n  useEffect(() => {\r\n    if (trafficLayerRef.current && map) {\r\n      trafficLayerRef.current.setMap(showTraffic ? map : null);\r\n    }\r\n  }, [showTraffic, map]);\r\n\r\n  // Handle address search when searchAddress changes\r\n  useEffect(() => {\r\n    if (!map || !window.google || !searchAddress) return;\r\n\r\n    const geocoder = new window.google.maps.Geocoder();\r\n    geocoder.geocode({ address: searchAddress }, (results, status) => {\r\n      if (status === 'OK' && results[0]) {\r\n        const location = results[0].geometry.location;\r\n        map.setCenter(location);\r\n        map.setZoom(15);\r\n\r\n        // Add a marker for the searched address\r\n        new window.google.maps.Marker({\r\n          position: location,\r\n          map,\r\n          title: searchAddress,\r\n          icon: {\r\n            path: window.google.maps.SymbolPath.CIRCLE,\r\n            scale: 8,\r\n            fillColor: '#4F46E5',\r\n            fillOpacity: 1,\r\n            strokeColor: '#ffffff',\r\n            strokeWeight: 2\r\n          }\r\n        });\r\n      }\r\n      // Clear the search address after processing\r\n      if (onSearchComplete) onSearchComplete();\r\n    });\r\n  }, [map, searchAddress, onSearchComplete]);\r\n\r\n  useEffect(() => {\r\n    window.viewLeadDetails = (leadId) => {\r\n      const lead = dataToShow.find(l => l.id === leadId);\r\n      if (lead && onLeadClick) onLeadClick(lead);\r\n    };\r\n    return () => { window.viewLeadDetails = null; };\r\n  }, [dataToShow, onLeadClick]);\r\n\r\n  useEffect(() => {\r\n    if (!map || !window.google) return;\r\n\r\n    // Clear existing markers\r\n    markersRef.current.forEach(marker => marker.setMap(null));\r\n    markersRef.current = [];\r\n\r\n    const bounds = new window.google.maps.LatLngBounds();\r\n\r\n    leadsWithCoords.forEach(lead => {\r\n      const lat = lead.latitude || lead.lat || lead.geocoded_lat;\r\n      const lng = lead.longitude || lead.lng || lead.geocoded_lng;\r\n      const position = { lat: parseFloat(lat), lng: parseFloat(lng) };\r\n\r\n      const marker = new window.google.maps.Marker({\r\n        position,\r\n        map,\r\n        title: lead.customerName,\r\n        icon: createMarkerIcon(lead.quality),\r\n        animation: window.google.maps.Animation.DROP\r\n      });\r\n\r\n      marker.addListener('click', () => {\r\n        const content = `\r\n          <div style=\"padding: 12px; min-width: 200px;\">\r\n            <h3 style=\"margin: 0 0 8px 0; color: #1f2937; font-size: 16px; font-weight: 600;\">\r\n              ${lead.customerName || 'Unknown'}\r\n            </h3>\r\n            <div style=\"margin-bottom: 8px;\">\r\n              <strong style=\"color: #374151;\">Phone:</strong>\r\n              <a href=\"tel:${lead.phoneNumber}\" style=\"color: #3b82f6; text-decoration: none;\">\r\n                ${lead.phoneNumber || 'N/A'}\r\n              </a>\r\n            </div>\r\n            <div style=\"margin-bottom: 8px;\">\r\n              <strong style=\"color: #374151;\">Quality:</strong>\r\n              <span style=\"background: ${getMarkerColor(lead.quality)}20; color: ${getMarkerColor(lead.quality)}; padding: 2px 6px; border-radius: 4px; font-size: 12px;\">\r\n                ${lead.quality}\r\n              </span>\r\n            </div>\r\n            ${lead.address ? `<div style=\"margin-bottom: 12px; color: #6b7280; font-size: 14px;\">${lead.address}</div>` : ''}\r\n            <button onclick=\"window.viewLeadDetails('${lead.id}')\"\r\n                    style=\"background: #3b82f6; color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer; font-size: 14px; font-weight: 500;\">\r\n              View Details\r\n            </button>\r\n          </div>\r\n        `;\r\n        infoWindowRef.current.setContent(content);\r\n        infoWindowRef.current.open(map, marker);\r\n      });\r\n\r\n      markersRef.current.push(marker);\r\n      bounds.extend(position);\r\n    });\r\n\r\n    if (leadsWithCoords.length > 0) {\r\n      map.fitBounds(bounds);\r\n      // Ensure reasonable zoom level\r\n      window.google.maps.event.addListenerOnce(map, 'bounds_changed', () => {\r\n        if (map.getZoom() > 15) map.setZoom(15);\r\n      });\r\n    }\r\n  }, [map, leadsWithCoords, createMarkerIcon, getMarkerColor, onLeadClick]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"h-[70vh] w-full rounded-lg border border-gray-300 flex items-center justify-center bg-gray-50\">\r\n        <div className=\"text-center\">\r\n          <Loader2 className=\"animate-spin h-10 w-10 text-blue-600 mx-auto mb-3\" />\r\n          <p className=\"text-gray-600 text-lg\">Loading Interactive Map...</p>\r\n          <p className=\"text-gray-500 text-sm mt-1\">Connecting to Google Maps</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"h-[70vh] w-full rounded-lg border border-red-300 flex items-center justify-center bg-red-50\">\r\n        <div className=\"text-center max-w-md\">\r\n          <AlertCircle className=\"h-12 w-12 text-red-600 mx-auto mb-3\" />\r\n          <h3 className=\"text-lg font-semibold text-red-800 mb-2\">Map Loading Failed</h3>\r\n          <p className=\"text-red-600 mb-3\">{error}</p>\r\n          <p className=\"text-sm text-gray-600\">\r\n            Please check your Google Maps API key configuration and internet connection.\r\n          </p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div ref={mapRef} className=\"h-[70vh] w-full rounded-lg overflow-hidden border border-gray-300 shadow-sm\" />\r\n\r\n      {/* Show leads without coordinates if any exist */}\r\n      {!showDemoData && leadsWithoutCoords.length > 0 && (\r\n        <div className=\"mt-4 bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\r\n          <h4 className=\"text-sm font-semibold text-yellow-800 mb-3 flex items-center\">\r\n            <AlertCircle className=\"w-4 h-4 mr-2\" />\r\n            Leads Without Location Data ({leadsWithoutCoords.length})\r\n          </h4>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\r\n            {leadsWithoutCoords.slice(0, 4).map(lead => (\r\n              <div key={lead.id} className=\"bg-white p-3 rounded border border-yellow-200 hover:shadow-sm transition-shadow cursor-pointer\"\r\n                   onClick={() => onLeadClick && onLeadClick(lead)}>\r\n                <div className=\"font-medium text-gray-900\">{lead.customerName || 'Unknown'}</div>\r\n                <div className=\"text-sm text-gray-600\">{lead.phoneNumber || 'No phone'}</div>\r\n                <div className=\"text-xs text-gray-500\">{lead.address || 'No address provided'}</div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n          {leadsWithoutCoords.length > 4 && (\r\n            <div className=\"mt-3 text-sm text-yellow-700\">\r\n              And {leadsWithoutCoords.length - 4} more leads without coordinates...\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nfunction MapView({ leads, onLeadClick, searchAddress, onSearchComplete }) {\r\n  const [showDemoData, setShowDemoData] = useState(false);\r\n  const [mapType, setMapType] = useState('roadmap');\r\n  const [showTraffic, setShowTraffic] = useState(false);\r\n\r\n  const leadsWithCoords = useMemo(() => leads.filter(lead =>\r\n    (lead.latitude && lead.longitude) ||\r\n    (lead.lat && lead.lng) ||\r\n    (lead.geocoded_lat && lead.geocoded_lng)\r\n  ), [leads]);\r\n\r\n  const hasRealData = leadsWithCoords.length > 0;\r\n\r\n  const qualityStats = useMemo(() => {\r\n    const dataToAnalyze = showDemoData ? [\r\n      { quality: 'Hot' }, { quality: 'Hot' }, { quality: 'Warm' }, { quality: 'Warm' }, { quality: 'Cold' }\r\n    ] : leads;\r\n\r\n    return {\r\n      hot: dataToAnalyze.filter(l => l.quality === 'Hot').length,\r\n      warm: dataToAnalyze.filter(l => l.quality === 'Warm').length,\r\n      cold: dataToAnalyze.filter(l => l.quality === 'Cold').length,\r\n      total: dataToAnalyze.length,\r\n      mapped: leadsWithCoords.length\r\n    };\r\n  }, [leads, leadsWithCoords, showDemoData]);\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header with enhanced controls */}\r\n      <div className=\"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-4\">\r\n        <div>\r\n          <h2 className=\"text-3xl font-bold text-gray-900 flex items-center\">\r\n            <MapPin className=\"w-8 h-8 mr-3 text-blue-600\" />\r\n            Customer Locations\r\n          </h2>\r\n          <p className=\"text-gray-600 mt-1\">\r\n            Interactive map showing customer locations with lead quality indicators\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"flex flex-wrap items-center gap-3\">\r\n          {/* Data Toggle */}\r\n          <div className=\"flex items-center bg-gray-100 rounded-lg p-1\">\r\n            <button\r\n              onClick={() => setShowDemoData(false)}\r\n              className={`px-3 py-1 text-sm font-medium rounded-md transition-colors ${\r\n                !showDemoData ? 'bg-white text-gray-900 shadow-sm' : 'text-gray-600 hover:text-gray-900'\r\n              }`}\r\n            >\r\n              Real Data ({leads.length})\r\n            </button>\r\n            <button\r\n              onClick={() => setShowDemoData(true)}\r\n              className={`px-3 py-1 text-sm font-medium rounded-md transition-colors ${\r\n                showDemoData ? 'bg-white text-gray-900 shadow-sm' : 'text-gray-600 hover:text-gray-900'\r\n              }`}\r\n            >\r\n              Demo Data (5)\r\n            </button>\r\n          </div>\r\n\r\n          {/* Map Type Selector */}\r\n          <select\r\n            value={mapType}\r\n            onChange={(e) => setMapType(e.target.value)}\r\n            className=\"text-sm border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n          >\r\n            <option value=\"roadmap\">Road Map</option>\r\n            <option value=\"satellite\">Satellite</option>\r\n            <option value=\"hybrid\">Hybrid</option>\r\n            <option value=\"terrain\">Terrain</option>\r\n          </select>\r\n\r\n          {/* Traffic Toggle */}\r\n          <button\r\n            onClick={() => setShowTraffic(!showTraffic)}\r\n            className={`flex items-center px-3 py-2 text-sm font-medium rounded-lg border transition-colors ${\r\n              showTraffic\r\n                ? 'bg-blue-50 border-blue-200 text-blue-700'\r\n                : 'bg-white border-gray-300 text-gray-700 hover:bg-gray-50'\r\n            }`}\r\n          >\r\n            <Navigation className=\"w-4 h-4 mr-2\" />\r\n            Traffic\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Statistics Cards */}\r\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n        <div className=\"bg-white rounded-lg shadow p-4 border-l-4 border-red-500\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"flex-shrink-0\">\r\n              <div className=\"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center\">\r\n                <div className=\"w-3 h-3 bg-red-500 rounded-full\"></div>\r\n              </div>\r\n            </div>\r\n            <div className=\"ml-3\">\r\n              <p className=\"text-sm font-medium text-gray-500\">Hot Leads</p>\r\n              <p className=\"text-2xl font-semibold text-gray-900\">{qualityStats.hot}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-lg shadow p-4 border-l-4 border-yellow-500\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"flex-shrink-0\">\r\n              <div className=\"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center\">\r\n                <div className=\"w-3 h-3 bg-yellow-500 rounded-full\"></div>\r\n              </div>\r\n            </div>\r\n            <div className=\"ml-3\">\r\n              <p className=\"text-sm font-medium text-gray-500\">Warm Leads</p>\r\n              <p className=\"text-2xl font-semibold text-gray-900\">{qualityStats.warm}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-lg shadow p-4 border-l-4 border-blue-500\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"flex-shrink-0\">\r\n              <div className=\"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center\">\r\n                <div className=\"w-3 h-3 bg-blue-500 rounded-full\"></div>\r\n              </div>\r\n            </div>\r\n            <div className=\"ml-3\">\r\n              <p className=\"text-sm font-medium text-gray-500\">Cold Leads</p>\r\n              <p className=\"text-2xl font-semibold text-gray-900\">{qualityStats.cold}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-lg shadow p-4 border-l-4 border-gray-500\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"flex-shrink-0\">\r\n              <div className=\"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center\">\r\n                <MapPin className=\"w-4 h-4 text-gray-600\" />\r\n              </div>\r\n            </div>\r\n            <div className=\"ml-3\">\r\n              <p className=\"text-sm font-medium text-gray-500\">Total Mapped</p>\r\n              <p className=\"text-2xl font-semibold text-gray-900\">{showDemoData ? 5 : qualityStats.mapped}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Map Container */}\r\n      {!hasRealData && !showDemoData ? (\r\n        <div className=\"bg-white rounded-lg shadow-lg p-8\">\r\n          <div className=\"text-center py-12\">\r\n            <Map className=\"mx-auto h-20 w-20 text-gray-400 mb-6\" />\r\n            <h3 className=\"text-xl font-semibold text-gray-900 mb-3\">No Location Data Available</h3>\r\n            <p className=\"text-gray-600 mb-6 max-w-md mx-auto\">\r\n              Your leads don't have geocoded coordinates yet. Add addresses to your leads or use demo data to see the map in action.\r\n            </p>\r\n            <div className=\"flex flex-col sm:flex-row gap-3 justify-center\">\r\n              <button\r\n                onClick={() => setShowDemoData(true)}\r\n                className=\"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\r\n              >\r\n                <Map className=\"w-4 h-4 mr-2\" />\r\n                View Demo Data\r\n              </button>\r\n              <button className=\"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors\">\r\n                <Search className=\"w-4 h-4 mr-2\" />\r\n                Learn About Geocoding\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className=\"bg-white rounded-lg shadow-lg overflow-hidden\">\r\n          <div className=\"p-4 bg-gray-50 border-b border-gray-200\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"flex items-center space-x-4\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900\">Interactive Map</h3>\r\n                <div className=\"flex items-center space-x-3 text-sm text-gray-600\">\r\n                  <div className=\"flex items-center\">\r\n                    <div className=\"w-3 h-3 bg-red-500 rounded-full mr-1\"></div>\r\n                    Hot ({qualityStats.hot})\r\n                  </div>\r\n                  <div className=\"flex items-center\">\r\n                    <div className=\"w-3 h-3 bg-yellow-500 rounded-full mr-1\"></div>\r\n                    Warm ({qualityStats.warm})\r\n                  </div>\r\n                  <div className=\"flex items-center\">\r\n                    <div className=\"w-3 h-3 bg-blue-500 rounded-full mr-1\"></div>\r\n                    Cold ({qualityStats.cold})\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              {showDemoData && (\r\n                <div className=\"flex items-center text-sm text-blue-600 bg-blue-50 px-3 py-1 rounded-full\">\r\n                  <Layers className=\"w-4 h-4 mr-1\" />\r\n                  Demo Mode\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <GoogleMapComponent\r\n            leads={leads}\r\n            onLeadClick={onLeadClick}\r\n            showDemoData={showDemoData}\r\n            mapType={mapType}\r\n            showTraffic={showTraffic}\r\n            searchAddress={searchAddress}\r\n            onSearchComplete={onSearchComplete}\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MapView;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,MAAM,CAAEC,OAAO,CAAEC,WAAW,KAAQ,OAAO,CAChF,OAASC,OAAO,CAAEC,WAAW,CAAEC,GAAG,CAAEC,MAAM,CAAEC,UAAU,CAAEC,MAAM,CAAEC,MAAM,KAAQ,cAAc,CAC5F,OAASC,cAAc,KAAQ,kCAAkC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElE,QAAS,CAAAC,kBAAkBA,CAAAC,IAAA,CAA8F,IAA7F,CAAEC,KAAK,CAAEC,WAAW,CAAEC,YAAY,CAAEC,OAAO,CAAEC,WAAW,CAAEC,aAAa,CAAEC,gBAAiB,CAAC,CAAAP,IAAA,CACrH,KAAM,CAAAQ,MAAM,CAAGxB,MAAM,CAAC,IAAI,CAAC,CAC3B,KAAM,CAAAyB,UAAU,CAAGzB,MAAM,CAAC,EAAE,CAAC,CAC7B,KAAM,CAAA0B,aAAa,CAAG1B,MAAM,CAAC,IAAI,CAAC,CAClC,KAAM,CAAA2B,eAAe,CAAG3B,MAAM,CAAC,IAAI,CAAC,CACpC,KAAM,CAAC4B,GAAG,CAAEC,MAAM,CAAC,CAAG/B,QAAQ,CAAC,IAAI,CAAC,CACpC,KAAM,CAACgC,OAAO,CAAEC,UAAU,CAAC,CAAGjC,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACkC,KAAK,CAAEC,QAAQ,CAAC,CAAGnC,QAAQ,CAAC,IAAI,CAAC,CAExC;AACA,KAAM,CAAAoC,SAAS,CAAGjC,OAAO,CAAC,IAAM,CAC9B,CAAEkC,EAAE,CAAE,OAAO,CAAEC,YAAY,CAAE,YAAY,CAAEC,WAAW,CAAE,UAAU,CAAEC,OAAO,CAAE,wBAAwB,CAAEC,OAAO,CAAE,KAAK,CAAEC,QAAQ,CAAE,OAAO,CAAEC,SAAS,CAAE,CAAC,QAAS,CAAC,CAChK,CAAEN,EAAE,CAAE,OAAO,CAAEC,YAAY,CAAE,eAAe,CAAEC,WAAW,CAAE,UAAU,CAAEC,OAAO,CAAE,iCAAiC,CAAEC,OAAO,CAAE,MAAM,CAAEC,QAAQ,CAAE,OAAO,CAAEC,SAAS,CAAE,CAAC,QAAS,CAAC,CAC7K,CAAEN,EAAE,CAAE,OAAO,CAAEC,YAAY,CAAE,aAAa,CAAEC,WAAW,CAAE,UAAU,CAAEC,OAAO,CAAE,wBAAwB,CAAEC,OAAO,CAAE,MAAM,CAAEC,QAAQ,CAAE,OAAO,CAAEC,SAAS,CAAE,CAAC,QAAS,CAAC,CAClK,CAAEN,EAAE,CAAE,OAAO,CAAEC,YAAY,CAAE,aAAa,CAAEC,WAAW,CAAE,UAAU,CAAEC,OAAO,CAAE,6BAA6B,CAAEC,OAAO,CAAE,KAAK,CAAEC,QAAQ,CAAE,OAAO,CAAEC,SAAS,CAAE,CAAC,QAAS,CAAC,CACtK,CAAEN,EAAE,CAAE,OAAO,CAAEC,YAAY,CAAE,aAAa,CAAEC,WAAW,CAAE,UAAU,CAAEC,OAAO,CAAE,0BAA0B,CAAEC,OAAO,CAAE,MAAM,CAAEC,QAAQ,CAAE,OAAO,CAAEC,SAAS,CAAE,CAAC,QAAS,CAAC,CACrK,CAAE,EAAE,CAAC,CAEN;AACA,KAAM,CAAAC,UAAU,CAAGvB,YAAY,CAAGe,SAAS,CAAGjB,KAAK,CAEnD;AACA,KAAM,CAAA0B,eAAe,CAAGD,UAAU,CAACE,MAAM,CAACC,IAAI,EAAI,CAChD,KAAM,CAAAC,GAAG,CAAGD,IAAI,CAACL,QAAQ,EAAIK,IAAI,CAACC,GAAG,EAAID,IAAI,CAACE,YAAY,CAC1D,KAAM,CAAAC,GAAG,CAAGH,IAAI,CAACJ,SAAS,EAAII,IAAI,CAACG,GAAG,EAAIH,IAAI,CAACI,YAAY,CAC3D,MAAO,CAAAH,GAAG,EAAIE,GAAG,EAAI,CAACE,KAAK,CAACC,UAAU,CAACL,GAAG,CAAC,CAAC,EAAI,CAACI,KAAK,CAACC,UAAU,CAACH,GAAG,CAAC,CAAC,CACzE,CAAC,CAAC,CAEF,KAAM,CAAAI,kBAAkB,CAAGV,UAAU,CAACE,MAAM,CAACC,IAAI,EAAI,CACnD,KAAM,CAAAC,GAAG,CAAGD,IAAI,CAACL,QAAQ,EAAIK,IAAI,CAACC,GAAG,EAAID,IAAI,CAACE,YAAY,CAC1D,KAAM,CAAAC,GAAG,CAAGH,IAAI,CAACJ,SAAS,EAAII,IAAI,CAACG,GAAG,EAAIH,IAAI,CAACI,YAAY,CAC3D,MAAO,CAACH,GAAG,EAAI,CAACE,GAAG,EAAIE,KAAK,CAACC,UAAU,CAACL,GAAG,CAAC,CAAC,EAAII,KAAK,CAACC,UAAU,CAACH,GAAG,CAAC,CAAC,CACzE,CAAC,CAAC,CAEF,KAAM,CAAAK,cAAc,CAAGnD,WAAW,CAAEqC,OAAO,EAAK,CAC9C,OAAQA,OAAO,EACb,IAAK,KAAK,CAAE,MAAO,SAAS,CAC5B,IAAK,MAAM,CAAE,MAAO,SAAS,CAC7B,IAAK,MAAM,CAAE,MAAO,SAAS,CAC7B,QAAS,MAAO,SAAS,CAC3B,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAe,gBAAgB,CAAGpD,WAAW,CAAEqC,OAAO,EAAK,CAChD,KAAM,CAAAgB,KAAK,CAAGF,cAAc,CAACd,OAAO,CAAC,CACrC,MAAO,CACLiB,GAAG,CAAE,mCAAmC,CAAGC,kBAAkB,4MAAAC,MAAA,CAEuCH,KAAK,wKAAAG,MAAA,CAE/DH,KAAK,wBAE/C,CAAC,CACDI,UAAU,CAAE,GAAI,CAAAC,MAAM,CAACC,MAAM,CAACC,IAAI,CAACC,IAAI,CAAC,EAAE,CAAE,EAAE,CAAC,CAC/CC,MAAM,CAAE,GAAI,CAAAJ,MAAM,CAACC,MAAM,CAACC,IAAI,CAACG,KAAK,CAAC,EAAE,CAAE,EAAE,CAC7C,CAAC,CACH,CAAC,CAAE,CAACZ,cAAc,CAAC,CAAC,CAEpBtD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAmE,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,GAAI,CACF,KAAM,CAAAL,MAAM,CAAG,KAAM,CAAAnD,cAAc,CAAC,CAAC,CACrC,GAAI,CAACc,MAAM,CAAC2C,OAAO,CAAE,OAErB,KAAM,CAAAC,SAAS,CAAG,CAChB,CAAEC,WAAW,CAAE,cAAc,CAAEC,OAAO,CAAE,CAAC,CAAEC,UAAU,CAAE,KAAM,CAAC,CAAE,CAAC,CACjE,CAAEF,WAAW,CAAE,UAAU,CAAEG,WAAW,CAAE,aAAa,CAAEF,OAAO,CAAE,CAAC,CAAEC,UAAU,CAAE,KAAM,CAAC,CAAE,CAAC,CAC1F,CAED,KAAM,CAAAE,WAAW,CAAG,GAAI,CAAAZ,MAAM,CAACC,IAAI,CAACzD,GAAG,CAACmB,MAAM,CAAC2C,OAAO,CAAE,CACtDO,MAAM,CAAE,CAAE5B,GAAG,CAAE,OAAO,CAAEE,GAAG,CAAE,CAAC,QAAS,CAAC,CAAE;AAC1C2B,IAAI,CAAE,CAAC,CACPC,MAAM,CAAER,SAAS,CACjBS,SAAS,CAAEzD,OAAO,CAClB0D,cAAc,CAAE,IAAI,CACpBC,iBAAiB,CAAE,IAAI,CACvBC,iBAAiB,CAAE,IAAI,CACvBC,WAAW,CAAE,IACf,CAAC,CAAC,CAEF;AACAtD,eAAe,CAACwC,OAAO,CAAG,GAAI,CAAAN,MAAM,CAACC,IAAI,CAACoB,YAAY,CAAC,CAAC,CACxD,GAAI7D,WAAW,CAAE,CACfM,eAAe,CAACwC,OAAO,CAACtC,MAAM,CAAC4C,WAAW,CAAC,CAC7C,CAEA/C,aAAa,CAACyC,OAAO,CAAG,GAAI,CAAAN,MAAM,CAACC,IAAI,CAACqB,UAAU,CAAC,CAAC,CACpDtD,MAAM,CAAC4C,WAAW,CAAC,CACrB,CAAE,MAAOW,GAAG,CAAE,CACZnD,QAAQ,CAACmD,GAAG,CAACC,OAAO,CAAC,CACvB,CAAC,OAAS,CACRtD,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CACDmC,aAAa,CAAC,CAAC,CACjB,CAAC,CAAE,CAAC9C,OAAO,CAAEC,WAAW,CAAC,CAAC,CAE1B;AACAtB,SAAS,CAAC,IAAM,CACd,GAAI4B,eAAe,CAACwC,OAAO,EAAIvC,GAAG,CAAE,CAClCD,eAAe,CAACwC,OAAO,CAACtC,MAAM,CAACR,WAAW,CAAGO,GAAG,CAAG,IAAI,CAAC,CAC1D,CACF,CAAC,CAAE,CAACP,WAAW,CAAEO,GAAG,CAAC,CAAC,CAEtB;AACA7B,SAAS,CAAC,IAAM,CACd,GAAI,CAAC6B,GAAG,EAAI,CAACgC,MAAM,CAACC,MAAM,EAAI,CAACvC,aAAa,CAAE,OAE9C,KAAM,CAAAgE,QAAQ,CAAG,GAAI,CAAA1B,MAAM,CAACC,MAAM,CAACC,IAAI,CAACyB,QAAQ,CAAC,CAAC,CAClDD,QAAQ,CAACE,OAAO,CAAC,CAAElD,OAAO,CAAEhB,aAAc,CAAC,CAAE,CAACmE,OAAO,CAAEC,MAAM,GAAK,CAChE,GAAIA,MAAM,GAAK,IAAI,EAAID,OAAO,CAAC,CAAC,CAAC,CAAE,CACjC,KAAM,CAAAE,QAAQ,CAAGF,OAAO,CAAC,CAAC,CAAC,CAACG,QAAQ,CAACD,QAAQ,CAC7C/D,GAAG,CAACiE,SAAS,CAACF,QAAQ,CAAC,CACvB/D,GAAG,CAACkE,OAAO,CAAC,EAAE,CAAC,CAEf;AACA,GAAI,CAAAlC,MAAM,CAACC,MAAM,CAACC,IAAI,CAACiC,MAAM,CAAC,CAC5BC,QAAQ,CAAEL,QAAQ,CAClB/D,GAAG,CACHqE,KAAK,CAAE3E,aAAa,CACpB4E,IAAI,CAAE,CACJC,IAAI,CAAEvC,MAAM,CAACC,MAAM,CAACC,IAAI,CAACsC,UAAU,CAACC,MAAM,CAC1CC,KAAK,CAAE,CAAC,CACRC,SAAS,CAAE,SAAS,CACpBC,WAAW,CAAE,CAAC,CACdC,WAAW,CAAE,SAAS,CACtBC,YAAY,CAAE,CAChB,CACF,CAAC,CAAC,CACJ,CACA;AACA,GAAInF,gBAAgB,CAAEA,gBAAgB,CAAC,CAAC,CAC1C,CAAC,CAAC,CACJ,CAAC,CAAE,CAACK,GAAG,CAAEN,aAAa,CAAEC,gBAAgB,CAAC,CAAC,CAE1CxB,SAAS,CAAC,IAAM,CACd6D,MAAM,CAAC+C,eAAe,CAAIC,MAAM,EAAK,CACnC,KAAM,CAAA/D,IAAI,CAAGH,UAAU,CAACmE,IAAI,CAACC,CAAC,EAAIA,CAAC,CAAC3E,EAAE,GAAKyE,MAAM,CAAC,CAClD,GAAI/D,IAAI,EAAI3B,WAAW,CAAEA,WAAW,CAAC2B,IAAI,CAAC,CAC5C,CAAC,CACD,MAAO,IAAM,CAAEe,MAAM,CAAC+C,eAAe,CAAG,IAAI,CAAE,CAAC,CACjD,CAAC,CAAE,CAACjE,UAAU,CAAExB,WAAW,CAAC,CAAC,CAE7BnB,SAAS,CAAC,IAAM,CACd,GAAI,CAAC6B,GAAG,EAAI,CAACgC,MAAM,CAACC,MAAM,CAAE,OAE5B;AACApC,UAAU,CAAC0C,OAAO,CAAC4C,OAAO,CAACC,MAAM,EAAIA,MAAM,CAACnF,MAAM,CAAC,IAAI,CAAC,CAAC,CACzDJ,UAAU,CAAC0C,OAAO,CAAG,EAAE,CAEvB,KAAM,CAAA8C,MAAM,CAAG,GAAI,CAAArD,MAAM,CAACC,MAAM,CAACC,IAAI,CAACoD,YAAY,CAAC,CAAC,CAEpDvE,eAAe,CAACoE,OAAO,CAAClE,IAAI,EAAI,CAC9B,KAAM,CAAAC,GAAG,CAAGD,IAAI,CAACL,QAAQ,EAAIK,IAAI,CAACC,GAAG,EAAID,IAAI,CAACE,YAAY,CAC1D,KAAM,CAAAC,GAAG,CAAGH,IAAI,CAACJ,SAAS,EAAII,IAAI,CAACG,GAAG,EAAIH,IAAI,CAACI,YAAY,CAC3D,KAAM,CAAA+C,QAAQ,CAAG,CAAElD,GAAG,CAAEK,UAAU,CAACL,GAAG,CAAC,CAAEE,GAAG,CAAEG,UAAU,CAACH,GAAG,CAAE,CAAC,CAE/D,KAAM,CAAAgE,MAAM,CAAG,GAAI,CAAApD,MAAM,CAACC,MAAM,CAACC,IAAI,CAACiC,MAAM,CAAC,CAC3CC,QAAQ,CACRpE,GAAG,CACHqE,KAAK,CAAEpD,IAAI,CAACT,YAAY,CACxB8D,IAAI,CAAE5C,gBAAgB,CAACT,IAAI,CAACN,OAAO,CAAC,CACpC4E,SAAS,CAAEvD,MAAM,CAACC,MAAM,CAACC,IAAI,CAACsD,SAAS,CAACC,IAC1C,CAAC,CAAC,CAEFL,MAAM,CAACM,WAAW,CAAC,OAAO,CAAE,IAAM,CAChC,KAAM,CAAAC,OAAO,kLAAA7D,MAAA,CAGLb,IAAI,CAACT,YAAY,EAAI,SAAS,wKAAAsB,MAAA,CAIjBb,IAAI,CAACR,WAAW,2EAAAqB,MAAA,CAC3Bb,IAAI,CAACR,WAAW,EAAI,KAAK,2MAAAqB,MAAA,CAKFL,cAAc,CAACR,IAAI,CAACN,OAAO,CAAC,gBAAAmB,MAAA,CAAcL,cAAc,CAACR,IAAI,CAACN,OAAO,CAAC,kFAAAmB,MAAA,CAC7Fb,IAAI,CAACN,OAAO,8DAAAmB,MAAA,CAGhBb,IAAI,CAACP,OAAO,yEAAAoB,MAAA,CAAyEb,IAAI,CAACP,OAAO,WAAW,EAAE,6DAAAoB,MAAA,CACrEb,IAAI,CAACV,EAAE,mQAKrD,CACDT,aAAa,CAACyC,OAAO,CAACqD,UAAU,CAACD,OAAO,CAAC,CACzC7F,aAAa,CAACyC,OAAO,CAACsD,IAAI,CAAC7F,GAAG,CAAEoF,MAAM,CAAC,CACzC,CAAC,CAAC,CAEFvF,UAAU,CAAC0C,OAAO,CAACuD,IAAI,CAACV,MAAM,CAAC,CAC/BC,MAAM,CAACU,MAAM,CAAC3B,QAAQ,CAAC,CACzB,CAAC,CAAC,CAEF,GAAIrD,eAAe,CAACiF,MAAM,CAAG,CAAC,CAAE,CAC9BhG,GAAG,CAACiG,SAAS,CAACZ,MAAM,CAAC,CACrB;AACArD,MAAM,CAACC,MAAM,CAACC,IAAI,CAACgE,KAAK,CAACC,eAAe,CAACnG,GAAG,CAAE,gBAAgB,CAAE,IAAM,CACpE,GAAIA,GAAG,CAACoG,OAAO,CAAC,CAAC,CAAG,EAAE,CAAEpG,GAAG,CAACkE,OAAO,CAAC,EAAE,CAAC,CACzC,CAAC,CAAC,CACJ,CACF,CAAC,CAAE,CAAClE,GAAG,CAAEe,eAAe,CAAEW,gBAAgB,CAAED,cAAc,CAAEnC,WAAW,CAAC,CAAC,CAEzE,GAAIY,OAAO,CAAE,CACX,mBACElB,IAAA,QAAKqH,SAAS,CAAC,+FAA+F,CAAAC,QAAA,cAC5GpH,KAAA,QAAKmH,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BtH,IAAA,CAACT,OAAO,EAAC8H,SAAS,CAAC,mDAAmD,CAAE,CAAC,cACzErH,IAAA,MAAGqH,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,4BAA0B,CAAG,CAAC,cACnEtH,IAAA,MAAGqH,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,2BAAyB,CAAG,CAAC,EACpE,CAAC,CACH,CAAC,CAEV,CAEA,GAAIlG,KAAK,CAAE,CACT,mBACEpB,IAAA,QAAKqH,SAAS,CAAC,6FAA6F,CAAAC,QAAA,cAC1GpH,KAAA,QAAKmH,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnCtH,IAAA,CAACR,WAAW,EAAC6H,SAAS,CAAC,qCAAqC,CAAE,CAAC,cAC/DrH,IAAA,OAAIqH,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAC,oBAAkB,CAAI,CAAC,cAC/EtH,IAAA,MAAGqH,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAElG,KAAK,CAAI,CAAC,cAC5CpB,IAAA,MAAGqH,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,8EAErC,CAAG,CAAC,EACD,CAAC,CACH,CAAC,CAEV,CAEA,mBACEpH,KAAA,QAAAoH,QAAA,eACEtH,IAAA,QAAKuH,GAAG,CAAE3G,MAAO,CAACyG,SAAS,CAAC,6EAA6E,CAAE,CAAC,CAG3G,CAAC9G,YAAY,EAAIiC,kBAAkB,CAACwE,MAAM,CAAG,CAAC,eAC7C9G,KAAA,QAAKmH,SAAS,CAAC,2DAA2D,CAAAC,QAAA,eACxEpH,KAAA,OAAImH,SAAS,CAAC,8DAA8D,CAAAC,QAAA,eAC1EtH,IAAA,CAACR,WAAW,EAAC6H,SAAS,CAAC,cAAc,CAAE,CAAC,gCACX,CAAC7E,kBAAkB,CAACwE,MAAM,CAAC,GAC1D,EAAI,CAAC,cACLhH,IAAA,QAAKqH,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CACnD9E,kBAAkB,CAACgF,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAACxG,GAAG,CAACiB,IAAI,eACtC/B,KAAA,QAAmBmH,SAAS,CAAC,gGAAgG,CACxHI,OAAO,CAAEA,CAAA,GAAMnH,WAAW,EAAIA,WAAW,CAAC2B,IAAI,CAAE,CAAAqF,QAAA,eACnDtH,IAAA,QAAKqH,SAAS,CAAC,2BAA2B,CAAAC,QAAA,CAAErF,IAAI,CAACT,YAAY,EAAI,SAAS,CAAM,CAAC,cACjFxB,IAAA,QAAKqH,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAErF,IAAI,CAACR,WAAW,EAAI,UAAU,CAAM,CAAC,cAC7EzB,IAAA,QAAKqH,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAErF,IAAI,CAACP,OAAO,EAAI,qBAAqB,CAAM,CAAC,GAJ5EO,IAAI,CAACV,EAKV,CACN,CAAC,CACC,CAAC,CACLiB,kBAAkB,CAACwE,MAAM,CAAG,CAAC,eAC5B9G,KAAA,QAAKmH,SAAS,CAAC,8BAA8B,CAAAC,QAAA,EAAC,MACxC,CAAC9E,kBAAkB,CAACwE,MAAM,CAAG,CAAC,CAAC,oCACrC,EAAK,CACN,EACE,CACN,EACE,CAAC,CAEV,CAGA,QAAS,CAAAU,OAAOA,CAAAC,KAAA,CAA0D,IAAzD,CAAEtH,KAAK,CAAEC,WAAW,CAAEI,aAAa,CAAEC,gBAAiB,CAAC,CAAAgH,KAAA,CACtE,KAAM,CAACpH,YAAY,CAAEqH,eAAe,CAAC,CAAG1I,QAAQ,CAAC,KAAK,CAAC,CACvD,KAAM,CAACsB,OAAO,CAAEqH,UAAU,CAAC,CAAG3I,QAAQ,CAAC,SAAS,CAAC,CACjD,KAAM,CAACuB,WAAW,CAAEqH,cAAc,CAAC,CAAG5I,QAAQ,CAAC,KAAK,CAAC,CAErD,KAAM,CAAA6C,eAAe,CAAG1C,OAAO,CAAC,IAAMgB,KAAK,CAAC2B,MAAM,CAACC,IAAI,EACpDA,IAAI,CAACL,QAAQ,EAAIK,IAAI,CAACJ,SAAS,EAC/BI,IAAI,CAACC,GAAG,EAAID,IAAI,CAACG,GAAI,EACrBH,IAAI,CAACE,YAAY,EAAIF,IAAI,CAACI,YAC7B,CAAC,CAAE,CAAChC,KAAK,CAAC,CAAC,CAEX,KAAM,CAAA0H,WAAW,CAAGhG,eAAe,CAACiF,MAAM,CAAG,CAAC,CAE9C,KAAM,CAAAgB,YAAY,CAAG3I,OAAO,CAAC,IAAM,CACjC,KAAM,CAAA4I,aAAa,CAAG1H,YAAY,CAAG,CACnC,CAAEoB,OAAO,CAAE,KAAM,CAAC,CAAE,CAAEA,OAAO,CAAE,KAAM,CAAC,CAAE,CAAEA,OAAO,CAAE,MAAO,CAAC,CAAE,CAAEA,OAAO,CAAE,MAAO,CAAC,CAAE,CAAEA,OAAO,CAAE,MAAO,CAAC,CACtG,CAAGtB,KAAK,CAET,MAAO,CACL6H,GAAG,CAAED,aAAa,CAACjG,MAAM,CAACkE,CAAC,EAAIA,CAAC,CAACvE,OAAO,GAAK,KAAK,CAAC,CAACqF,MAAM,CAC1DmB,IAAI,CAAEF,aAAa,CAACjG,MAAM,CAACkE,CAAC,EAAIA,CAAC,CAACvE,OAAO,GAAK,MAAM,CAAC,CAACqF,MAAM,CAC5DoB,IAAI,CAAEH,aAAa,CAACjG,MAAM,CAACkE,CAAC,EAAIA,CAAC,CAACvE,OAAO,GAAK,MAAM,CAAC,CAACqF,MAAM,CAC5DqB,KAAK,CAAEJ,aAAa,CAACjB,MAAM,CAC3BsB,MAAM,CAAEvG,eAAe,CAACiF,MAC1B,CAAC,CACH,CAAC,CAAE,CAAC3G,KAAK,CAAE0B,eAAe,CAAExB,YAAY,CAAC,CAAC,CAE1C,mBACEL,KAAA,QAAKmH,SAAS,CAAC,WAAW,CAAAC,QAAA,eAExBpH,KAAA,QAAKmH,SAAS,CAAC,oEAAoE,CAAAC,QAAA,eACjFpH,KAAA,QAAAoH,QAAA,eACEpH,KAAA,OAAImH,SAAS,CAAC,oDAAoD,CAAAC,QAAA,eAChEtH,IAAA,CAACN,MAAM,EAAC2H,SAAS,CAAC,4BAA4B,CAAE,CAAC,qBAEnD,EAAI,CAAC,cACLrH,IAAA,MAAGqH,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,yEAElC,CAAG,CAAC,EACD,CAAC,cAENpH,KAAA,QAAKmH,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAEhDpH,KAAA,QAAKmH,SAAS,CAAC,8CAA8C,CAAAC,QAAA,eAC3DpH,KAAA,WACEuH,OAAO,CAAEA,CAAA,GAAMG,eAAe,CAAC,KAAK,CAAE,CACtCP,SAAS,+DAAAvE,MAAA,CACP,CAACvC,YAAY,CAAG,kCAAkC,CAAG,mCAAmC,CACvF,CAAA+G,QAAA,EACJ,aACY,CAACjH,KAAK,CAAC2G,MAAM,CAAC,GAC3B,EAAQ,CAAC,cACThH,IAAA,WACEyH,OAAO,CAAEA,CAAA,GAAMG,eAAe,CAAC,IAAI,CAAE,CACrCP,SAAS,+DAAAvE,MAAA,CACPvC,YAAY,CAAG,kCAAkC,CAAG,mCAAmC,CACtF,CAAA+G,QAAA,CACJ,eAED,CAAQ,CAAC,EACN,CAAC,cAGNpH,KAAA,WACEqI,KAAK,CAAE/H,OAAQ,CACfgI,QAAQ,CAAGC,CAAC,EAAKZ,UAAU,CAACY,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC5ClB,SAAS,CAAC,4GAA4G,CAAAC,QAAA,eAEtHtH,IAAA,WAAQuI,KAAK,CAAC,SAAS,CAAAjB,QAAA,CAAC,UAAQ,CAAQ,CAAC,cACzCtH,IAAA,WAAQuI,KAAK,CAAC,WAAW,CAAAjB,QAAA,CAAC,WAAS,CAAQ,CAAC,cAC5CtH,IAAA,WAAQuI,KAAK,CAAC,QAAQ,CAAAjB,QAAA,CAAC,QAAM,CAAQ,CAAC,cACtCtH,IAAA,WAAQuI,KAAK,CAAC,SAAS,CAAAjB,QAAA,CAAC,SAAO,CAAQ,CAAC,EAClC,CAAC,cAGTpH,KAAA,WACEuH,OAAO,CAAEA,CAAA,GAAMK,cAAc,CAAC,CAACrH,WAAW,CAAE,CAC5C4G,SAAS,wFAAAvE,MAAA,CACPrC,WAAW,CACP,0CAA0C,CAC1C,yDAAyD,CAC5D,CAAA6G,QAAA,eAEHtH,IAAA,CAACL,UAAU,EAAC0H,SAAS,CAAC,cAAc,CAAE,CAAC,UAEzC,EAAQ,CAAC,EACN,CAAC,EACH,CAAC,cAGNnH,KAAA,QAAKmH,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpDtH,IAAA,QAAKqH,SAAS,CAAC,0DAA0D,CAAAC,QAAA,cACvEpH,KAAA,QAAKmH,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCtH,IAAA,QAAKqH,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5BtH,IAAA,QAAKqH,SAAS,CAAC,kEAAkE,CAAAC,QAAA,cAC/EtH,IAAA,QAAKqH,SAAS,CAAC,iCAAiC,CAAM,CAAC,CACpD,CAAC,CACH,CAAC,cACNnH,KAAA,QAAKmH,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBtH,IAAA,MAAGqH,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,WAAS,CAAG,CAAC,cAC9DtH,IAAA,MAAGqH,SAAS,CAAC,sCAAsC,CAAAC,QAAA,CAAEU,YAAY,CAACE,GAAG,CAAI,CAAC,EACvE,CAAC,EACH,CAAC,CACH,CAAC,cAENlI,IAAA,QAAKqH,SAAS,CAAC,6DAA6D,CAAAC,QAAA,cAC1EpH,KAAA,QAAKmH,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCtH,IAAA,QAAKqH,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5BtH,IAAA,QAAKqH,SAAS,CAAC,qEAAqE,CAAAC,QAAA,cAClFtH,IAAA,QAAKqH,SAAS,CAAC,oCAAoC,CAAM,CAAC,CACvD,CAAC,CACH,CAAC,cACNnH,KAAA,QAAKmH,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBtH,IAAA,MAAGqH,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,YAAU,CAAG,CAAC,cAC/DtH,IAAA,MAAGqH,SAAS,CAAC,sCAAsC,CAAAC,QAAA,CAAEU,YAAY,CAACG,IAAI,CAAI,CAAC,EACxE,CAAC,EACH,CAAC,CACH,CAAC,cAENnI,IAAA,QAAKqH,SAAS,CAAC,2DAA2D,CAAAC,QAAA,cACxEpH,KAAA,QAAKmH,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCtH,IAAA,QAAKqH,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5BtH,IAAA,QAAKqH,SAAS,CAAC,mEAAmE,CAAAC,QAAA,cAChFtH,IAAA,QAAKqH,SAAS,CAAC,kCAAkC,CAAM,CAAC,CACrD,CAAC,CACH,CAAC,cACNnH,KAAA,QAAKmH,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBtH,IAAA,MAAGqH,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,YAAU,CAAG,CAAC,cAC/DtH,IAAA,MAAGqH,SAAS,CAAC,sCAAsC,CAAAC,QAAA,CAAEU,YAAY,CAACI,IAAI,CAAI,CAAC,EACxE,CAAC,EACH,CAAC,CACH,CAAC,cAENpI,IAAA,QAAKqH,SAAS,CAAC,2DAA2D,CAAAC,QAAA,cACxEpH,KAAA,QAAKmH,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCtH,IAAA,QAAKqH,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5BtH,IAAA,QAAKqH,SAAS,CAAC,mEAAmE,CAAAC,QAAA,cAChFtH,IAAA,CAACN,MAAM,EAAC2H,SAAS,CAAC,uBAAuB,CAAE,CAAC,CACzC,CAAC,CACH,CAAC,cACNnH,KAAA,QAAKmH,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBtH,IAAA,MAAGqH,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,cAAY,CAAG,CAAC,cACjEtH,IAAA,MAAGqH,SAAS,CAAC,sCAAsC,CAAAC,QAAA,CAAE/G,YAAY,CAAG,CAAC,CAAGyH,YAAY,CAACM,MAAM,CAAI,CAAC,EAC7F,CAAC,EACH,CAAC,CACH,CAAC,EACH,CAAC,CAGL,CAACP,WAAW,EAAI,CAACxH,YAAY,cAC5BP,IAAA,QAAKqH,SAAS,CAAC,mCAAmC,CAAAC,QAAA,cAChDpH,KAAA,QAAKmH,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCtH,IAAA,CAACP,GAAG,EAAC4H,SAAS,CAAC,sCAAsC,CAAE,CAAC,cACxDrH,IAAA,OAAIqH,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAC,4BAA0B,CAAI,CAAC,cACxFtH,IAAA,MAAGqH,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,wHAEnD,CAAG,CAAC,cACJpH,KAAA,QAAKmH,SAAS,CAAC,gDAAgD,CAAAC,QAAA,eAC7DpH,KAAA,WACEuH,OAAO,CAAEA,CAAA,GAAMG,eAAe,CAAC,IAAI,CAAE,CACrCP,SAAS,CAAC,0GAA0G,CAAAC,QAAA,eAEpHtH,IAAA,CAACP,GAAG,EAAC4H,SAAS,CAAC,cAAc,CAAE,CAAC,iBAElC,EAAQ,CAAC,cACTnH,KAAA,WAAQmH,SAAS,CAAC,6GAA6G,CAAAC,QAAA,eAC7HtH,IAAA,CAACH,MAAM,EAACwH,SAAS,CAAC,cAAc,CAAE,CAAC,wBAErC,EAAQ,CAAC,EACN,CAAC,EACH,CAAC,CACH,CAAC,cAENnH,KAAA,QAAKmH,SAAS,CAAC,+CAA+C,CAAAC,QAAA,eAC5DtH,IAAA,QAAKqH,SAAS,CAAC,yCAAyC,CAAAC,QAAA,cACtDpH,KAAA,QAAKmH,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDpH,KAAA,QAAKmH,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1CtH,IAAA,OAAIqH,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,iBAAe,CAAI,CAAC,cACxEpH,KAAA,QAAKmH,SAAS,CAAC,mDAAmD,CAAAC,QAAA,eAChEpH,KAAA,QAAKmH,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCtH,IAAA,QAAKqH,SAAS,CAAC,sCAAsC,CAAM,CAAC,QACvD,CAACW,YAAY,CAACE,GAAG,CAAC,GACzB,EAAK,CAAC,cACNhI,KAAA,QAAKmH,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCtH,IAAA,QAAKqH,SAAS,CAAC,yCAAyC,CAAM,CAAC,SACzD,CAACW,YAAY,CAACG,IAAI,CAAC,GAC3B,EAAK,CAAC,cACNjI,KAAA,QAAKmH,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCtH,IAAA,QAAKqH,SAAS,CAAC,uCAAuC,CAAM,CAAC,SACvD,CAACW,YAAY,CAACI,IAAI,CAAC,GAC3B,EAAK,CAAC,EACH,CAAC,EACH,CAAC,CACL7H,YAAY,eACXL,KAAA,QAAKmH,SAAS,CAAC,2EAA2E,CAAAC,QAAA,eACxFtH,IAAA,CAACJ,MAAM,EAACyH,SAAS,CAAC,cAAc,CAAE,CAAC,YAErC,EAAK,CACN,EACE,CAAC,CACH,CAAC,cACNrH,IAAA,CAACG,kBAAkB,EACjBE,KAAK,CAAEA,KAAM,CACbC,WAAW,CAAEA,WAAY,CACzBC,YAAY,CAAEA,YAAa,CAC3BC,OAAO,CAAEA,OAAQ,CACjBC,WAAW,CAAEA,WAAY,CACzBC,aAAa,CAAEA,aAAc,CAC7BC,gBAAgB,CAAEA,gBAAiB,CACpC,CAAC,EACC,CACN,EACE,CAAC,CAEV,CAEA,cAAe,CAAA+G,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}