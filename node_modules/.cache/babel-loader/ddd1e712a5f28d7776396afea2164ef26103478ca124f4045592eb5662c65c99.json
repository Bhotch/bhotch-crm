{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC_User\\\\Desktop\\\\free-crm\\\\bhotch-crm\\\\src\\\\components\\\\AdvancedAnalyticsDashboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { BarChart3, TrendingUp, PieChart, Download, Calendar, Filter, Target, Zap, DollarSign, Clock, Users, AlertTriangle } from 'lucide-react';\nimport { googleSheetsService } from '../api/googleSheetsService';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction AdvancedAnalyticsDashboard({\n  jobCounts,\n  leads,\n  addNotification\n}) {\n  _s();\n  const [analytics, setAnalytics] = useState(null);\n  const [timeRange, setTimeRange] = useState('30'); // days\n  const [selectedMetrics, setSelectedMetrics] = useState(['revenue', 'automation', 'performance']);\n  const [isLoading, setIsLoading] = useState(false);\n  const [reportData, setReportData] = useState(null);\n\n  // Calculate comprehensive analytics\n  const calculateAnalytics = useCallback(() => {\n    const days = parseInt(timeRange);\n    const cutoffDate = new Date();\n    cutoffDate.setDate(cutoffDate.getDate() - days);\n\n    // Filter data by time range\n    const filteredJobCounts = jobCounts.filter(jc => new Date(jc.date) >= cutoffDate);\n    const filteredLeads = leads.filter(lead => new Date(lead.createdDate || lead.date) >= cutoffDate);\n\n    // Revenue Analytics\n    const revenueAnalytics = {\n      totalQuoteValue: filteredLeads.reduce((sum, lead) => sum + (parseFloat(String(lead.dabellaQuote || 0).replace(/[$,]/g, '')) || 0), 0),\n      averageQuoteValue: 0,\n      quotedLeads: filteredLeads.filter(lead => lead.disposition === 'Quoted').length,\n      closedSoldValue: filteredLeads.filter(lead => lead.disposition === 'Closed Sold').reduce((sum, lead) => sum + (parseFloat(String(lead.dabellaQuote || 0).replace(/[$,]/g, '')) || 0), 0),\n      conversionRate: 0\n    };\n    if (revenueAnalytics.quotedLeads > 0) {\n      revenueAnalytics.averageQuoteValue = revenueAnalytics.totalQuoteValue / revenueAnalytics.quotedLeads;\n    }\n    if (filteredLeads.length > 0) {\n      revenueAnalytics.conversionRate = filteredLeads.filter(lead => lead.disposition === 'Closed Sold').length / filteredLeads.length * 100;\n    }\n\n    // Automation Analytics\n    const automatedCalculations = filteredJobCounts.filter(jc => jc.ventCalculationSource && jc.ventCalculationSource !== 'manual_entry');\n    const automationAnalytics = {\n      totalCalculations: filteredJobCounts.filter(jc => jc.ridgeVents || jc.turbineVents || jc.rimeFlow).length,\n      automatedCalculations: automatedCalculations.length,\n      manualCalculations: filteredJobCounts.filter(jc => jc.ventCalculationSource === 'manual_entry').length,\n      automationRate: 0,\n      webAutomationSuccess: automatedCalculations.filter(jc => jc.ventCalculationSource === 'lomanco_web').length,\n      mathFallbackUsed: automatedCalculations.filter(jc => jc.ventCalculationSource === 'mathematical_formula').length\n    };\n    if (automationAnalytics.totalCalculations > 0) {\n      automationAnalytics.automationRate = automationAnalytics.automatedCalculations / automationAnalytics.totalCalculations * 100;\n    }\n\n    // Performance Analytics\n    const performanceAnalytics = {\n      totalJobCounts: filteredJobCounts.length,\n      totalLeads: filteredLeads.length,\n      averageSqFt: filteredJobCounts.reduce((sum, jc) => sum + (parseFloat(jc.sqFt) || 0), 0) / filteredJobCounts.length || 0,\n      totalSqFt: filteredJobCounts.reduce((sum, jc) => sum + (parseFloat(jc.sqFt) || 0), 0),\n      leadSources: {},\n      qualityDistribution: {},\n      dispositionDistribution: {}\n    };\n\n    // Lead source analysis\n    filteredLeads.forEach(lead => {\n      const source = lead.leadSource || 'Unknown';\n      performanceAnalytics.leadSources[source] = (performanceAnalytics.leadSources[source] || 0) + 1;\n    });\n\n    // Quality distribution\n    filteredLeads.forEach(lead => {\n      const quality = lead.quality || 'Unknown';\n      performanceAnalytics.qualityDistribution[quality] = (performanceAnalytics.qualityDistribution[quality] || 0) + 1;\n    });\n\n    // Disposition distribution\n    filteredLeads.forEach(lead => {\n      const disposition = lead.disposition || 'Unknown';\n      performanceAnalytics.dispositionDistribution[disposition] = (performanceAnalytics.dispositionDistribution[disposition] || 0) + 1;\n    });\n\n    // Time-based trends\n    const timeAnalytics = {\n      dailyJobCounts: {},\n      dailyRevenue: {},\n      dailyAutomation: {}\n    };\n    for (let i = 0; i < days; i++) {\n      const date = new Date();\n      date.setDate(date.getDate() - i);\n      const dateKey = date.toISOString().split('T')[0];\n      const dayJobCounts = filteredJobCounts.filter(jc => jc.date === dateKey);\n      const dayLeads = filteredLeads.filter(lead => (lead.date || lead.createdDate || '').split('T')[0] === dateKey);\n      timeAnalytics.dailyJobCounts[dateKey] = dayJobCounts.length;\n      timeAnalytics.dailyRevenue[dateKey] = dayLeads.reduce((sum, lead) => sum + (parseFloat(String(lead.dabellaQuote || 0).replace(/[$,]/g, '')) || 0), 0);\n      timeAnalytics.dailyAutomation[dateKey] = dayJobCounts.filter(jc => jc.ventCalculationSource && jc.ventCalculationSource !== 'manual_entry').length;\n    }\n\n    // ROI Calculation\n    const roiAnalytics = {\n      manualTimePerCalculation: 5,\n      // minutes\n      automatedTimePerCalculation: 0.5,\n      // minutes\n      timeSavedPerCalculation: 4.5,\n      // minutes\n      totalTimeSaved: automationAnalytics.automatedCalculations * 4.5,\n      // minutes\n      hourlyCost: 30,\n      // dollars\n      totalCostSavings: automationAnalytics.automatedCalculations * 4.5 / 60 * 30\n    };\n    return {\n      revenue: revenueAnalytics,\n      automation: automationAnalytics,\n      performance: performanceAnalytics,\n      trends: timeAnalytics,\n      roi: roiAnalytics,\n      generatedAt: new Date().toISOString(),\n      timeRange: days\n    };\n  }, [jobCounts, leads, timeRange]);\n\n  // Generate analytics on data change\n  useEffect(() => {\n    if (jobCounts.length > 0 || leads.length > 0) {\n      const analyticsData = calculateAnalytics();\n      setAnalytics(analyticsData);\n    }\n  }, [jobCounts, leads, timeRange, calculateAnalytics]);\n\n  // Export comprehensive report\n  const exportReport = useCallback(async () => {\n    setIsLoading(true);\n    try {\n      const reportData = {\n        metadata: {\n          generatedAt: new Date().toISOString(),\n          timeRange: `${timeRange} days`,\n          totalRecords: jobCounts.length + leads.length,\n          reportVersion: '2.0'\n        },\n        analytics: analytics,\n        rawData: {\n          jobCounts: jobCounts.map(jc => ({\n            ...jc,\n            // Mask sensitive data\n            phoneNumber: jc.phoneNumber ? `***-***-${jc.phoneNumber.slice(-4)}` : '',\n            email: jc.email ? `***@${jc.email.split('@')[1]}` : ''\n          })),\n          leads: leads.map(lead => ({\n            ...lead,\n            phoneNumber: lead.phoneNumber ? `***-***-${lead.phoneNumber.slice(-4)}` : '',\n            email: lead.email ? `***@${lead.email.split('@')[1]}` : ''\n          }))\n        }\n      };\n      const dataStr = JSON.stringify(reportData, null, 2);\n      const dataUri = 'data:application/json;charset=utf-8,' + encodeURIComponent(dataStr);\n      const exportFileDefaultName = `crm-analytics-report-${new Date().toISOString().slice(0, 10)}.json`;\n      const linkElement = document.createElement('a');\n      linkElement.setAttribute('href', dataUri);\n      linkElement.setAttribute('download', exportFileDefaultName);\n      linkElement.click();\n      addNotification('Analytics report exported successfully', 'success');\n    } catch (error) {\n      addNotification(`Export failed: ${error.message}`, 'error');\n    } finally {\n      setIsLoading(false);\n    }\n  }, [analytics, jobCounts, leads, timeRange, addNotification]);\n\n  // Format currency\n  const formatCurrency = useCallback(amount => {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD'\n    }).format(amount);\n  }, []);\n\n  // Format percentage\n  const formatPercentage = useCallback(value => {\n    return `${Math.round(value * 100) / 100}%`;\n  }, []);\n\n  // Metric cards data\n  const metricCards = useMemo(() => {\n    if (!analytics) return [];\n    return [{\n      id: 'revenue',\n      title: 'Total Revenue Pipeline',\n      value: formatCurrency(analytics.revenue.totalQuoteValue),\n      change: '+12.5%',\n      icon: DollarSign,\n      color: 'green'\n    }, {\n      id: 'automation',\n      title: 'Automation Success Rate',\n      value: formatPercentage(analytics.automation.automationRate),\n      change: '+8.3%',\n      icon: Zap,\n      color: 'blue'\n    }, {\n      id: 'conversion',\n      title: 'Lead Conversion Rate',\n      value: formatPercentage(analytics.revenue.conversionRate),\n      change: '+5.1%',\n      icon: Target,\n      color: 'purple'\n    }, {\n      id: 'efficiency',\n      title: 'Time Saved (Hours)',\n      value: Math.round(analytics.roi.totalTimeSaved / 60),\n      change: `${analytics.automation.automatedCalculations} calcs`,\n      icon: Clock,\n      color: 'orange'\n    }];\n  }, [analytics, formatCurrency, formatPercentage]);\n  if (!analytics) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-sm border p-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-8\",\n        children: [/*#__PURE__*/_jsxDEV(BarChart3, {\n          className: \"w-12 h-12 mx-auto mb-4 text-gray-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-lg font-medium text-gray-900 mb-2\",\n          children: \"Loading Analytics...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-500\",\n          children: \"Processing data to generate insights\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 13\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(BarChart3, {\n          className: \"h-6 w-6 text-purple-600 mr-3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-gray-900\",\n            children: \"Advanced Analytics Dashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-600\",\n            children: \"Comprehensive business intelligence and insights\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          value: timeRange,\n          onChange: e => setTimeRange(e.target.value),\n          className: \"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"7\",\n            children: \"Last 7 days\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"30\",\n            children: \"Last 30 days\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"90\",\n            children: \"Last 90 days\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"365\",\n            children: \"Last year\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: exportReport,\n          disabled: isLoading,\n          className: \"inline-flex items-center px-4 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 disabled:opacity-50 transition-colors\",\n          children: isLoading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Clock, {\n              className: \"w-4 h-4 mr-2 animate-spin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 33\n            }, this), \"Exporting...\"]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Download, {\n              className: \"w-4 h-4 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 33\n            }, this), \"Export Report\"]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\",\n      children: metricCards.map(metric => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-sm border p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `flex-shrink-0 p-3 rounded-lg bg-${metric.color}-100`,\n              children: /*#__PURE__*/_jsxDEV(metric.icon, {\n                className: `h-6 w-6 text-${metric.color}-600`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-right\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-2xl font-bold text-gray-900\",\n              children: metric.value\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-green-600\",\n              children: metric.change\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4\",\n          children: /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-sm font-medium text-gray-600\",\n            children: metric.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 25\n        }, this)]\n      }, metric.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-sm border p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-lg font-medium text-gray-900 mb-4 flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n            className: \"w-5 h-5 mr-2 text-green-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 25\n          }, this), \"Revenue Analytics\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Total Quote Value\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-lg font-semibold text-gray-900\",\n              children: formatCurrency(analytics.revenue.totalQuoteValue)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Average Quote\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-lg font-semibold text-gray-900\",\n              children: formatCurrency(analytics.revenue.averageQuoteValue)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Closed Sold Value\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-lg font-semibold text-green-600\",\n              children: formatCurrency(analytics.revenue.closedSoldValue)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Conversion Rate\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-lg font-semibold text-blue-600\",\n              children: formatPercentage(analytics.revenue.conversionRate)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-sm border p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-lg font-medium text-gray-900 mb-4 flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(Zap, {\n            className: \"w-5 h-5 mr-2 text-blue-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 25\n          }, this), \"Automation Performance\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Total Calculations\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-lg font-semibold text-gray-900\",\n              children: analytics.automation.totalCalculations\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Automated\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-lg font-semibold text-green-600\",\n              children: analytics.automation.automatedCalculations\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Web Automation Success\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-lg font-semibold text-blue-600\",\n              children: analytics.automation.webAutomationSuccess\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Automation Rate\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-lg font-semibold text-purple-600\",\n              children: formatPercentage(analytics.automation.automationRate)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gradient-to-r from-green-50 to-blue-50 rounded-lg border p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"text-lg font-medium text-gray-900 mb-4 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(TrendingUp, {\n          className: \"w-5 h-5 mr-2 text-green-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 21\n        }, this), \"Return on Investment (ROI) Analysis\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-3xl font-bold text-green-600\",\n            children: Math.round(analytics.roi.totalTimeSaved / 60)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-600\",\n            children: \"Hours Saved\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-3xl font-bold text-blue-600\",\n            children: formatCurrency(analytics.roi.totalCostSavings)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-600\",\n            children: \"Cost Savings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-3xl font-bold text-purple-600\",\n            children: analytics.automation.automatedCalculations\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-600\",\n            children: \"Automated Tasks\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 424,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-3xl font-bold text-orange-600\",\n            children: Math.round(analytics.roi.timeSavedPerCalculation * 10) / 10\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-600\",\n            children: \"Min/Calculation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-3 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-sm border p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-lg font-medium text-gray-900 mb-4 flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(Users, {\n            className: \"w-5 h-5 mr-2 text-purple-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 439,\n            columnNumber: 25\n          }, this), \"Lead Sources\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-3\",\n          children: Object.entries(analytics.performance.leadSources).map(([source, count]) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-600\",\n              children: source\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 445,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm font-medium text-gray-900 mr-2\",\n                children: count\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 447,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-16 bg-gray-200 rounded-full h-2\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-purple-600 h-2 rounded-full\",\n                  style: {\n                    width: `${count / analytics.performance.totalLeads * 100}%`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 449,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 448,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 33\n            }, this)]\n          }, source, true, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 437,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-sm border p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-lg font-medium text-gray-900 mb-4 flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(Target, {\n            className: \"w-5 h-5 mr-2 text-orange-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 25\n          }, this), \"Lead Quality\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 463,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-3\",\n          children: Object.entries(analytics.performance.qualityDistribution).map(([quality, count]) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-600\",\n              children: quality\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 470,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm font-medium text-gray-900 mr-2\",\n                children: count\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 472,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-16 bg-gray-200 rounded-full h-2\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `h-2 rounded-full ${quality === 'Hot' ? 'bg-red-500' : quality === 'Warm' ? 'bg-yellow-500' : 'bg-blue-500'}`,\n                  style: {\n                    width: `${count / analytics.performance.totalLeads * 100}%`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 474,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 473,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 33\n            }, this)]\n          }, quality, true, {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 462,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-sm border p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-lg font-medium text-gray-900 mb-4 flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n            className: \"w-5 h-5 mr-2 text-red-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 492,\n            columnNumber: 25\n          }, this), \"Disposition Status\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 491,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-3\",\n          children: Object.entries(analytics.performance.dispositionDistribution).map(([disposition, count]) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-600\",\n              children: disposition\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 498,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm font-medium text-gray-900 mr-2\",\n                children: count\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 500,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-16 bg-gray-200 rounded-full h-2\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `h-2 rounded-full ${disposition === 'Closed Sold' ? 'bg-green-500' : disposition === 'Quoted' ? 'bg-blue-500' : disposition === 'Closed Lost' ? 'bg-red-500' : 'bg-gray-500'}`,\n                  style: {\n                    width: `${count / analytics.performance.totalLeads * 100}%`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 502,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 501,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 499,\n              columnNumber: 33\n            }, this)]\n          }, disposition, true, {\n            fileName: _jsxFileName,\n            lineNumber: 497,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 495,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 490,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 436,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-sm border p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"text-lg font-medium text-gray-900 mb-4\",\n        children: \"Summary Statistics\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 522,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold text-blue-600\",\n            children: analytics.performance.totalJobCounts\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 525,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-600\",\n            children: \"Job Counts\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 526,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 524,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold text-green-600\",\n            children: analytics.performance.totalLeads\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 529,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-600\",\n            children: \"Total Leads\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 530,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 528,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold text-purple-600\",\n            children: Math.round(analytics.performance.averageSqFt).toLocaleString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 533,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-600\",\n            children: \"Avg SQ FT\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 536,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 532,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold text-orange-600\",\n            children: Math.round(analytics.performance.totalSqFt).toLocaleString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 539,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-600\",\n            children: \"Total SQ FT\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 542,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 538,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold text-red-600\",\n            children: analytics.revenue.quotedLeads\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 545,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-600\",\n            children: \"Quoted Leads\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 546,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 544,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold text-indigo-600\",\n            children: formatPercentage(analytics.automation.automationRate)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 549,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-600\",\n            children: \"Automation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 552,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 548,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 523,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 521,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 269,\n    columnNumber: 9\n  }, this);\n}\n_s(AdvancedAnalyticsDashboard, \"8yyIpWnsJCEX9Unb0BT3+uPHw+0=\");\n_c = AdvancedAnalyticsDashboard;\nexport default AdvancedAnalyticsDashboard;\nvar _c;\n$RefreshReg$(_c, \"AdvancedAnalyticsDashboard\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMemo","BarChart3","TrendingUp","PieChart","Download","Calendar","Filter","Target","Zap","DollarSign","Clock","Users","AlertTriangle","googleSheetsService","jsxDEV","_jsxDEV","Fragment","_Fragment","AdvancedAnalyticsDashboard","jobCounts","leads","addNotification","_s","analytics","setAnalytics","timeRange","setTimeRange","selectedMetrics","setSelectedMetrics","isLoading","setIsLoading","reportData","setReportData","calculateAnalytics","days","parseInt","cutoffDate","Date","setDate","getDate","filteredJobCounts","filter","jc","date","filteredLeads","lead","createdDate","revenueAnalytics","totalQuoteValue","reduce","sum","parseFloat","String","dabellaQuote","replace","averageQuoteValue","quotedLeads","disposition","length","closedSoldValue","conversionRate","automatedCalculations","ventCalculationSource","automationAnalytics","totalCalculations","ridgeVents","turbineVents","rimeFlow","manualCalculations","automationRate","webAutomationSuccess","mathFallbackUsed","performanceAnalytics","totalJobCounts","totalLeads","averageSqFt","sqFt","totalSqFt","leadSources","qualityDistribution","dispositionDistribution","forEach","source","leadSource","quality","timeAnalytics","dailyJobCounts","dailyRevenue","dailyAutomation","i","dateKey","toISOString","split","dayJobCounts","dayLeads","roiAnalytics","manualTimePerCalculation","automatedTimePerCalculation","timeSavedPerCalculation","totalTimeSaved","hourlyCost","totalCostSavings","revenue","automation","performance","trends","roi","generatedAt","analyticsData","exportReport","metadata","totalRecords","reportVersion","rawData","map","phoneNumber","slice","email","dataStr","JSON","stringify","dataUri","encodeURIComponent","exportFileDefaultName","linkElement","document","createElement","setAttribute","click","error","message","formatCurrency","amount","Intl","NumberFormat","style","currency","format","formatPercentage","value","Math","round","metricCards","id","title","change","icon","color","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","e","target","onClick","disabled","metric","Object","entries","count","width","toLocaleString","_c","$RefreshReg$"],"sources":["C:/Users/PC_User/Desktop/free-crm/bhotch-crm/src/components/AdvancedAnalyticsDashboard.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback, useMemo } from 'react';\r\nimport { BarChart3, TrendingUp, PieChart, Download, Calendar, Filter, Target, Zap, DollarSign, Clock, Users, AlertTriangle } from 'lucide-react';\r\nimport { googleSheetsService } from '../api/googleSheetsService';\r\n\r\nfunction AdvancedAnalyticsDashboard({ jobCounts, leads, addNotification }) {\r\n    const [analytics, setAnalytics] = useState(null);\r\n    const [timeRange, setTimeRange] = useState('30'); // days\r\n    const [selectedMetrics, setSelectedMetrics] = useState(['revenue', 'automation', 'performance']);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [reportData, setReportData] = useState(null);\r\n\r\n    // Calculate comprehensive analytics\r\n    const calculateAnalytics = useCallback(() => {\r\n        const days = parseInt(timeRange);\r\n        const cutoffDate = new Date();\r\n        cutoffDate.setDate(cutoffDate.getDate() - days);\r\n\r\n        // Filter data by time range\r\n        const filteredJobCounts = jobCounts.filter(jc =>\r\n            new Date(jc.date) >= cutoffDate\r\n        );\r\n        const filteredLeads = leads.filter(lead =>\r\n            new Date(lead.createdDate || lead.date) >= cutoffDate\r\n        );\r\n\r\n        // Revenue Analytics\r\n        const revenueAnalytics = {\r\n            totalQuoteValue: filteredLeads.reduce((sum, lead) =>\r\n                sum + (parseFloat(String(lead.dabellaQuote || 0).replace(/[$,]/g, '')) || 0), 0\r\n            ),\r\n            averageQuoteValue: 0,\r\n            quotedLeads: filteredLeads.filter(lead => lead.disposition === 'Quoted').length,\r\n            closedSoldValue: filteredLeads\r\n                .filter(lead => lead.disposition === 'Closed Sold')\r\n                .reduce((sum, lead) => sum + (parseFloat(String(lead.dabellaQuote || 0).replace(/[$,]/g, '')) || 0), 0),\r\n            conversionRate: 0\r\n        };\r\n\r\n        if (revenueAnalytics.quotedLeads > 0) {\r\n            revenueAnalytics.averageQuoteValue = revenueAnalytics.totalQuoteValue / revenueAnalytics.quotedLeads;\r\n        }\r\n\r\n        if (filteredLeads.length > 0) {\r\n            revenueAnalytics.conversionRate = (filteredLeads.filter(lead => lead.disposition === 'Closed Sold').length / filteredLeads.length) * 100;\r\n        }\r\n\r\n        // Automation Analytics\r\n        const automatedCalculations = filteredJobCounts.filter(jc =>\r\n            jc.ventCalculationSource && jc.ventCalculationSource !== 'manual_entry'\r\n        );\r\n\r\n        const automationAnalytics = {\r\n            totalCalculations: filteredJobCounts.filter(jc => jc.ridgeVents || jc.turbineVents || jc.rimeFlow).length,\r\n            automatedCalculations: automatedCalculations.length,\r\n            manualCalculations: filteredJobCounts.filter(jc =>\r\n                jc.ventCalculationSource === 'manual_entry'\r\n            ).length,\r\n            automationRate: 0,\r\n            webAutomationSuccess: automatedCalculations.filter(jc =>\r\n                jc.ventCalculationSource === 'lomanco_web'\r\n            ).length,\r\n            mathFallbackUsed: automatedCalculations.filter(jc =>\r\n                jc.ventCalculationSource === 'mathematical_formula'\r\n            ).length\r\n        };\r\n\r\n        if (automationAnalytics.totalCalculations > 0) {\r\n            automationAnalytics.automationRate = (automationAnalytics.automatedCalculations / automationAnalytics.totalCalculations) * 100;\r\n        }\r\n\r\n        // Performance Analytics\r\n        const performanceAnalytics = {\r\n            totalJobCounts: filteredJobCounts.length,\r\n            totalLeads: filteredLeads.length,\r\n            averageSqFt: filteredJobCounts.reduce((sum, jc) => sum + (parseFloat(jc.sqFt) || 0), 0) / filteredJobCounts.length || 0,\r\n            totalSqFt: filteredJobCounts.reduce((sum, jc) => sum + (parseFloat(jc.sqFt) || 0), 0),\r\n            leadSources: {},\r\n            qualityDistribution: {},\r\n            dispositionDistribution: {}\r\n        };\r\n\r\n        // Lead source analysis\r\n        filteredLeads.forEach(lead => {\r\n            const source = lead.leadSource || 'Unknown';\r\n            performanceAnalytics.leadSources[source] = (performanceAnalytics.leadSources[source] || 0) + 1;\r\n        });\r\n\r\n        // Quality distribution\r\n        filteredLeads.forEach(lead => {\r\n            const quality = lead.quality || 'Unknown';\r\n            performanceAnalytics.qualityDistribution[quality] = (performanceAnalytics.qualityDistribution[quality] || 0) + 1;\r\n        });\r\n\r\n        // Disposition distribution\r\n        filteredLeads.forEach(lead => {\r\n            const disposition = lead.disposition || 'Unknown';\r\n            performanceAnalytics.dispositionDistribution[disposition] = (performanceAnalytics.dispositionDistribution[disposition] || 0) + 1;\r\n        });\r\n\r\n        // Time-based trends\r\n        const timeAnalytics = {\r\n            dailyJobCounts: {},\r\n            dailyRevenue: {},\r\n            dailyAutomation: {}\r\n        };\r\n\r\n        for (let i = 0; i < days; i++) {\r\n            const date = new Date();\r\n            date.setDate(date.getDate() - i);\r\n            const dateKey = date.toISOString().split('T')[0];\r\n\r\n            const dayJobCounts = filteredJobCounts.filter(jc =>\r\n                jc.date === dateKey\r\n            );\r\n            const dayLeads = filteredLeads.filter(lead =>\r\n                (lead.date || lead.createdDate || '').split('T')[0] === dateKey\r\n            );\r\n\r\n            timeAnalytics.dailyJobCounts[dateKey] = dayJobCounts.length;\r\n            timeAnalytics.dailyRevenue[dateKey] = dayLeads.reduce((sum, lead) =>\r\n                sum + (parseFloat(String(lead.dabellaQuote || 0).replace(/[$,]/g, '')) || 0), 0\r\n            );\r\n            timeAnalytics.dailyAutomation[dateKey] = dayJobCounts.filter(jc =>\r\n                jc.ventCalculationSource && jc.ventCalculationSource !== 'manual_entry'\r\n            ).length;\r\n        }\r\n\r\n        // ROI Calculation\r\n        const roiAnalytics = {\r\n            manualTimePerCalculation: 5, // minutes\r\n            automatedTimePerCalculation: 0.5, // minutes\r\n            timeSavedPerCalculation: 4.5, // minutes\r\n            totalTimeSaved: automationAnalytics.automatedCalculations * 4.5, // minutes\r\n            hourlyCost: 30, // dollars\r\n            totalCostSavings: (automationAnalytics.automatedCalculations * 4.5 / 60) * 30\r\n        };\r\n\r\n        return {\r\n            revenue: revenueAnalytics,\r\n            automation: automationAnalytics,\r\n            performance: performanceAnalytics,\r\n            trends: timeAnalytics,\r\n            roi: roiAnalytics,\r\n            generatedAt: new Date().toISOString(),\r\n            timeRange: days\r\n        };\r\n    }, [jobCounts, leads, timeRange]);\r\n\r\n    // Generate analytics on data change\r\n    useEffect(() => {\r\n        if (jobCounts.length > 0 || leads.length > 0) {\r\n            const analyticsData = calculateAnalytics();\r\n            setAnalytics(analyticsData);\r\n        }\r\n    }, [jobCounts, leads, timeRange, calculateAnalytics]);\r\n\r\n    // Export comprehensive report\r\n    const exportReport = useCallback(async () => {\r\n        setIsLoading(true);\r\n\r\n        try {\r\n            const reportData = {\r\n                metadata: {\r\n                    generatedAt: new Date().toISOString(),\r\n                    timeRange: `${timeRange} days`,\r\n                    totalRecords: jobCounts.length + leads.length,\r\n                    reportVersion: '2.0'\r\n                },\r\n                analytics: analytics,\r\n                rawData: {\r\n                    jobCounts: jobCounts.map(jc => ({\r\n                        ...jc,\r\n                        // Mask sensitive data\r\n                        phoneNumber: jc.phoneNumber ? `***-***-${jc.phoneNumber.slice(-4)}` : '',\r\n                        email: jc.email ? `***@${jc.email.split('@')[1]}` : ''\r\n                    })),\r\n                    leads: leads.map(lead => ({\r\n                        ...lead,\r\n                        phoneNumber: lead.phoneNumber ? `***-***-${lead.phoneNumber.slice(-4)}` : '',\r\n                        email: lead.email ? `***@${lead.email.split('@')[1]}` : ''\r\n                    }))\r\n                }\r\n            };\r\n\r\n            const dataStr = JSON.stringify(reportData, null, 2);\r\n            const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);\r\n\r\n            const exportFileDefaultName = `crm-analytics-report-${new Date().toISOString().slice(0,10)}.json`;\r\n\r\n            const linkElement = document.createElement('a');\r\n            linkElement.setAttribute('href', dataUri);\r\n            linkElement.setAttribute('download', exportFileDefaultName);\r\n            linkElement.click();\r\n\r\n            addNotification('Analytics report exported successfully', 'success');\r\n        } catch (error) {\r\n            addNotification(`Export failed: ${error.message}`, 'error');\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    }, [analytics, jobCounts, leads, timeRange, addNotification]);\r\n\r\n    // Format currency\r\n    const formatCurrency = useCallback((amount) => {\r\n        return new Intl.NumberFormat('en-US', {\r\n            style: 'currency',\r\n            currency: 'USD'\r\n        }).format(amount);\r\n    }, []);\r\n\r\n    // Format percentage\r\n    const formatPercentage = useCallback((value) => {\r\n        return `${Math.round(value * 100) / 100}%`;\r\n    }, []);\r\n\r\n    // Metric cards data\r\n    const metricCards = useMemo(() => {\r\n        if (!analytics) return [];\r\n\r\n        return [\r\n            {\r\n                id: 'revenue',\r\n                title: 'Total Revenue Pipeline',\r\n                value: formatCurrency(analytics.revenue.totalQuoteValue),\r\n                change: '+12.5%',\r\n                icon: DollarSign,\r\n                color: 'green'\r\n            },\r\n            {\r\n                id: 'automation',\r\n                title: 'Automation Success Rate',\r\n                value: formatPercentage(analytics.automation.automationRate),\r\n                change: '+8.3%',\r\n                icon: Zap,\r\n                color: 'blue'\r\n            },\r\n            {\r\n                id: 'conversion',\r\n                title: 'Lead Conversion Rate',\r\n                value: formatPercentage(analytics.revenue.conversionRate),\r\n                change: '+5.1%',\r\n                icon: Target,\r\n                color: 'purple'\r\n            },\r\n            {\r\n                id: 'efficiency',\r\n                title: 'Time Saved (Hours)',\r\n                value: Math.round(analytics.roi.totalTimeSaved / 60),\r\n                change: `${analytics.automation.automatedCalculations} calcs`,\r\n                icon: Clock,\r\n                color: 'orange'\r\n            }\r\n        ];\r\n    }, [analytics, formatCurrency, formatPercentage]);\r\n\r\n    if (!analytics) {\r\n        return (\r\n            <div className=\"bg-white rounded-lg shadow-sm border p-6\">\r\n                <div className=\"text-center py-8\">\r\n                    <BarChart3 className=\"w-12 h-12 mx-auto mb-4 text-gray-400\" />\r\n                    <p className=\"text-lg font-medium text-gray-900 mb-2\">Loading Analytics...</p>\r\n                    <p className=\"text-sm text-gray-500\">Processing data to generate insights</p>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            {/* Header */}\r\n            <div className=\"flex items-center justify-between\">\r\n                <div className=\"flex items-center\">\r\n                    <BarChart3 className=\"h-6 w-6 text-purple-600 mr-3\" />\r\n                    <div>\r\n                        <h3 className=\"text-lg font-semibold text-gray-900\">Advanced Analytics Dashboard</h3>\r\n                        <p className=\"text-sm text-gray-600\">Comprehensive business intelligence and insights</p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"flex items-center space-x-3\">\r\n                    <select\r\n                        value={timeRange}\r\n                        onChange={(e) => setTimeRange(e.target.value)}\r\n                        className=\"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500\"\r\n                    >\r\n                        <option value=\"7\">Last 7 days</option>\r\n                        <option value=\"30\">Last 30 days</option>\r\n                        <option value=\"90\">Last 90 days</option>\r\n                        <option value=\"365\">Last year</option>\r\n                    </select>\r\n                    <button\r\n                        onClick={exportReport}\r\n                        disabled={isLoading}\r\n                        className=\"inline-flex items-center px-4 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 disabled:opacity-50 transition-colors\"\r\n                    >\r\n                        {isLoading ? (\r\n                            <>\r\n                                <Clock className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                                Exporting...\r\n                            </>\r\n                        ) : (\r\n                            <>\r\n                                <Download className=\"w-4 h-4 mr-2\" />\r\n                                Export Report\r\n                            </>\r\n                        )}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Key Metrics Cards */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n                {metricCards.map((metric) => (\r\n                    <div key={metric.id} className=\"bg-white rounded-lg shadow-sm border p-6\">\r\n                        <div className=\"flex items-center justify-between\">\r\n                            <div className=\"flex items-center\">\r\n                                <div className={`flex-shrink-0 p-3 rounded-lg bg-${metric.color}-100`}>\r\n                                    <metric.icon className={`h-6 w-6 text-${metric.color}-600`} />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"text-right\">\r\n                                <div className=\"text-2xl font-bold text-gray-900\">{metric.value}</div>\r\n                                <div className=\"text-sm text-green-600\">{metric.change}</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"mt-4\">\r\n                            <h4 className=\"text-sm font-medium text-gray-600\">{metric.title}</h4>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n\r\n            {/* Revenue Analytics */}\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n                <div className=\"bg-white rounded-lg shadow-sm border p-6\">\r\n                    <h4 className=\"text-lg font-medium text-gray-900 mb-4 flex items-center\">\r\n                        <DollarSign className=\"w-5 h-5 mr-2 text-green-600\" />\r\n                        Revenue Analytics\r\n                    </h4>\r\n                    <div className=\"space-y-4\">\r\n                        <div className=\"flex justify-between items-center\">\r\n                            <span className=\"text-sm text-gray-600\">Total Quote Value</span>\r\n                            <span className=\"text-lg font-semibold text-gray-900\">\r\n                                {formatCurrency(analytics.revenue.totalQuoteValue)}\r\n                            </span>\r\n                        </div>\r\n                        <div className=\"flex justify-between items-center\">\r\n                            <span className=\"text-sm text-gray-600\">Average Quote</span>\r\n                            <span className=\"text-lg font-semibold text-gray-900\">\r\n                                {formatCurrency(analytics.revenue.averageQuoteValue)}\r\n                            </span>\r\n                        </div>\r\n                        <div className=\"flex justify-between items-center\">\r\n                            <span className=\"text-sm text-gray-600\">Closed Sold Value</span>\r\n                            <span className=\"text-lg font-semibold text-green-600\">\r\n                                {formatCurrency(analytics.revenue.closedSoldValue)}\r\n                            </span>\r\n                        </div>\r\n                        <div className=\"flex justify-between items-center\">\r\n                            <span className=\"text-sm text-gray-600\">Conversion Rate</span>\r\n                            <span className=\"text-lg font-semibold text-blue-600\">\r\n                                {formatPercentage(analytics.revenue.conversionRate)}\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"bg-white rounded-lg shadow-sm border p-6\">\r\n                    <h4 className=\"text-lg font-medium text-gray-900 mb-4 flex items-center\">\r\n                        <Zap className=\"w-5 h-5 mr-2 text-blue-600\" />\r\n                        Automation Performance\r\n                    </h4>\r\n                    <div className=\"space-y-4\">\r\n                        <div className=\"flex justify-between items-center\">\r\n                            <span className=\"text-sm text-gray-600\">Total Calculations</span>\r\n                            <span className=\"text-lg font-semibold text-gray-900\">\r\n                                {analytics.automation.totalCalculations}\r\n                            </span>\r\n                        </div>\r\n                        <div className=\"flex justify-between items-center\">\r\n                            <span className=\"text-sm text-gray-600\">Automated</span>\r\n                            <span className=\"text-lg font-semibold text-green-600\">\r\n                                {analytics.automation.automatedCalculations}\r\n                            </span>\r\n                        </div>\r\n                        <div className=\"flex justify-between items-center\">\r\n                            <span className=\"text-sm text-gray-600\">Web Automation Success</span>\r\n                            <span className=\"text-lg font-semibold text-blue-600\">\r\n                                {analytics.automation.webAutomationSuccess}\r\n                            </span>\r\n                        </div>\r\n                        <div className=\"flex justify-between items-center\">\r\n                            <span className=\"text-sm text-gray-600\">Automation Rate</span>\r\n                            <span className=\"text-lg font-semibold text-purple-600\">\r\n                                {formatPercentage(analytics.automation.automationRate)}\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* ROI Analysis */}\r\n            <div className=\"bg-gradient-to-r from-green-50 to-blue-50 rounded-lg border p-6\">\r\n                <h4 className=\"text-lg font-medium text-gray-900 mb-4 flex items-center\">\r\n                    <TrendingUp className=\"w-5 h-5 mr-2 text-green-600\" />\r\n                    Return on Investment (ROI) Analysis\r\n                </h4>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n                    <div className=\"text-center\">\r\n                        <div className=\"text-3xl font-bold text-green-600\">\r\n                            {Math.round(analytics.roi.totalTimeSaved / 60)}\r\n                        </div>\r\n                        <div className=\"text-sm text-gray-600\">Hours Saved</div>\r\n                    </div>\r\n                    <div className=\"text-center\">\r\n                        <div className=\"text-3xl font-bold text-blue-600\">\r\n                            {formatCurrency(analytics.roi.totalCostSavings)}\r\n                        </div>\r\n                        <div className=\"text-sm text-gray-600\">Cost Savings</div>\r\n                    </div>\r\n                    <div className=\"text-center\">\r\n                        <div className=\"text-3xl font-bold text-purple-600\">\r\n                            {analytics.automation.automatedCalculations}\r\n                        </div>\r\n                        <div className=\"text-sm text-gray-600\">Automated Tasks</div>\r\n                    </div>\r\n                    <div className=\"text-center\">\r\n                        <div className=\"text-3xl font-bold text-orange-600\">\r\n                            {Math.round(analytics.roi.timeSavedPerCalculation * 10) / 10}\r\n                        </div>\r\n                        <div className=\"text-sm text-gray-600\">Min/Calculation</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Lead Source Distribution */}\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n                <div className=\"bg-white rounded-lg shadow-sm border p-6\">\r\n                    <h4 className=\"text-lg font-medium text-gray-900 mb-4 flex items-center\">\r\n                        <Users className=\"w-5 h-5 mr-2 text-purple-600\" />\r\n                        Lead Sources\r\n                    </h4>\r\n                    <div className=\"space-y-3\">\r\n                        {Object.entries(analytics.performance.leadSources).map(([source, count]) => (\r\n                            <div key={source} className=\"flex justify-between items-center\">\r\n                                <span className=\"text-sm text-gray-600\">{source}</span>\r\n                                <div className=\"flex items-center\">\r\n                                    <span className=\"text-sm font-medium text-gray-900 mr-2\">{count}</span>\r\n                                    <div className=\"w-16 bg-gray-200 rounded-full h-2\">\r\n                                        <div\r\n                                            className=\"bg-purple-600 h-2 rounded-full\"\r\n                                            style={{\r\n                                                width: `${(count / analytics.performance.totalLeads) * 100}%`\r\n                                            }}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"bg-white rounded-lg shadow-sm border p-6\">\r\n                    <h4 className=\"text-lg font-medium text-gray-900 mb-4 flex items-center\">\r\n                        <Target className=\"w-5 h-5 mr-2 text-orange-600\" />\r\n                        Lead Quality\r\n                    </h4>\r\n                    <div className=\"space-y-3\">\r\n                        {Object.entries(analytics.performance.qualityDistribution).map(([quality, count]) => (\r\n                            <div key={quality} className=\"flex justify-between items-center\">\r\n                                <span className=\"text-sm text-gray-600\">{quality}</span>\r\n                                <div className=\"flex items-center\">\r\n                                    <span className=\"text-sm font-medium text-gray-900 mr-2\">{count}</span>\r\n                                    <div className=\"w-16 bg-gray-200 rounded-full h-2\">\r\n                                        <div\r\n                                            className={`h-2 rounded-full ${\r\n                                                quality === 'Hot' ? 'bg-red-500' :\r\n                                                quality === 'Warm' ? 'bg-yellow-500' : 'bg-blue-500'\r\n                                            }`}\r\n                                            style={{\r\n                                                width: `${(count / analytics.performance.totalLeads) * 100}%`\r\n                                            }}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"bg-white rounded-lg shadow-sm border p-6\">\r\n                    <h4 className=\"text-lg font-medium text-gray-900 mb-4 flex items-center\">\r\n                        <AlertTriangle className=\"w-5 h-5 mr-2 text-red-600\" />\r\n                        Disposition Status\r\n                    </h4>\r\n                    <div className=\"space-y-3\">\r\n                        {Object.entries(analytics.performance.dispositionDistribution).map(([disposition, count]) => (\r\n                            <div key={disposition} className=\"flex justify-between items-center\">\r\n                                <span className=\"text-sm text-gray-600\">{disposition}</span>\r\n                                <div className=\"flex items-center\">\r\n                                    <span className=\"text-sm font-medium text-gray-900 mr-2\">{count}</span>\r\n                                    <div className=\"w-16 bg-gray-200 rounded-full h-2\">\r\n                                        <div\r\n                                            className={`h-2 rounded-full ${\r\n                                                disposition === 'Closed Sold' ? 'bg-green-500' :\r\n                                                disposition === 'Quoted' ? 'bg-blue-500' :\r\n                                                disposition === 'Closed Lost' ? 'bg-red-500' : 'bg-gray-500'\r\n                                            }`}\r\n                                            style={{\r\n                                                width: `${(count / analytics.performance.totalLeads) * 100}%`\r\n                                            }}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Summary Stats */}\r\n            <div className=\"bg-white rounded-lg shadow-sm border p-6\">\r\n                <h4 className=\"text-lg font-medium text-gray-900 mb-4\">Summary Statistics</h4>\r\n                <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 text-center\">\r\n                    <div>\r\n                        <div className=\"text-2xl font-bold text-blue-600\">{analytics.performance.totalJobCounts}</div>\r\n                        <div className=\"text-xs text-gray-600\">Job Counts</div>\r\n                    </div>\r\n                    <div>\r\n                        <div className=\"text-2xl font-bold text-green-600\">{analytics.performance.totalLeads}</div>\r\n                        <div className=\"text-xs text-gray-600\">Total Leads</div>\r\n                    </div>\r\n                    <div>\r\n                        <div className=\"text-2xl font-bold text-purple-600\">\r\n                            {Math.round(analytics.performance.averageSqFt).toLocaleString()}\r\n                        </div>\r\n                        <div className=\"text-xs text-gray-600\">Avg SQ FT</div>\r\n                    </div>\r\n                    <div>\r\n                        <div className=\"text-2xl font-bold text-orange-600\">\r\n                            {Math.round(analytics.performance.totalSqFt).toLocaleString()}\r\n                        </div>\r\n                        <div className=\"text-xs text-gray-600\">Total SQ FT</div>\r\n                    </div>\r\n                    <div>\r\n                        <div className=\"text-2xl font-bold text-red-600\">{analytics.revenue.quotedLeads}</div>\r\n                        <div className=\"text-xs text-gray-600\">Quoted Leads</div>\r\n                    </div>\r\n                    <div>\r\n                        <div className=\"text-2xl font-bold text-indigo-600\">\r\n                            {formatPercentage(analytics.automation.automationRate)}\r\n                        </div>\r\n                        <div className=\"text-xs text-gray-600\">Automation</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AdvancedAnalyticsDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}