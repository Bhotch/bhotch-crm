{"ast":null,"code":"const GOOGLE_MAPS_API_KEY = process.env.REACT_APP_GOOGLE_MAPS_API_KEY;\nlet googleMapsLoaded = false;\nexport const loadGoogleMaps = () => {\n  return new Promise((resolve, reject) => {\n    var _window$google;\n    if (!GOOGLE_MAPS_API_KEY) {\n      return reject(new Error('Google Maps API key is not configured. Please check your environment variables.'));\n    }\n    if (googleMapsLoaded && (_window$google = window.google) !== null && _window$google !== void 0 && _window$google.maps) {\n      return resolve(window.google);\n    }\n    const scriptId = 'google-maps-script';\n    const existingScript = document.getElementById(scriptId);\n    if (existingScript) {\n      // Script is already loading, wait for it\n      existingScript.addEventListener('load', () => {\n        googleMapsLoaded = true;\n        resolve(window.google);\n      });\n      existingScript.addEventListener('error', () => {\n        reject(new Error('Failed to load Google Maps. Please check your API key and internet connection.'));\n      });\n      return;\n    }\n    const script = document.createElement('script');\n    script.id = scriptId;\n    script.src = `https://maps.googleapis.com/maps/api/js?key=${GOOGLE_MAPS_API_KEY}&libraries=geometry,places&loading=async`;\n    script.async = true;\n    script.defer = true;\n    script.onload = () => {\n      googleMapsLoaded = true;\n      resolve(window.google);\n    };\n    script.onerror = () => {\n      document.head.removeChild(script);\n      reject(new Error('Failed to load Google Maps. Please check your API key and internet connection.'));\n    };\n    document.head.appendChild(script);\n  });\n};","map":{"version":3,"names":["GOOGLE_MAPS_API_KEY","process","env","REACT_APP_GOOGLE_MAPS_API_KEY","googleMapsLoaded","loadGoogleMaps","Promise","resolve","reject","_window$google","Error","window","google","maps","scriptId","existingScript","document","getElementById","addEventListener","script","createElement","id","src","async","defer","onload","onerror","head","removeChild","appendChild"],"sources":["C:/Users/PC_User/Desktop/free-crm/bhotch-crm/src/services/googleMapsService.js"],"sourcesContent":["const GOOGLE_MAPS_API_KEY = process.env.REACT_APP_GOOGLE_MAPS_API_KEY;\r\nlet googleMapsLoaded = false;\r\n\r\nexport const loadGoogleMaps = () => {\r\n  return new Promise((resolve, reject) => {\r\n    if (!GOOGLE_MAPS_API_KEY) {\r\n        return reject(new Error('Google Maps API key is not configured. Please check your environment variables.'));\r\n    }\r\n    \r\n    if (googleMapsLoaded && window.google?.maps) {\r\n      return resolve(window.google);\r\n    }\r\n    \r\n    const scriptId = 'google-maps-script';\r\n    const existingScript = document.getElementById(scriptId);\r\n    \r\n    if (existingScript) {\r\n      // Script is already loading, wait for it\r\n      existingScript.addEventListener('load', () => {\r\n        googleMapsLoaded = true;\r\n        resolve(window.google);\r\n      });\r\n      existingScript.addEventListener('error', () => {\r\n        reject(new Error('Failed to load Google Maps. Please check your API key and internet connection.'));\r\n      });\r\n      return;\r\n    }\r\n\r\n    const script = document.createElement('script');\r\n    script.id = scriptId;\r\n    script.src = `https://maps.googleapis.com/maps/api/js?key=${GOOGLE_MAPS_API_KEY}&libraries=geometry,places&loading=async`;\r\n    script.async = true;\r\n    script.defer = true;\r\n    \r\n    script.onload = () => { \r\n        googleMapsLoaded = true; \r\n        resolve(window.google); \r\n    };\r\n    \r\n    script.onerror = () => {\r\n      document.head.removeChild(script);\r\n      reject(new Error('Failed to load Google Maps. Please check your API key and internet connection.'));\r\n    };\r\n    \r\n    document.head.appendChild(script);\r\n  });\r\n};"],"mappings":"AAAA,MAAMA,mBAAmB,GAAGC,OAAO,CAACC,GAAG,CAACC,6BAA6B;AACrE,IAAIC,gBAAgB,GAAG,KAAK;AAE5B,OAAO,MAAMC,cAAc,GAAGA,CAAA,KAAM;EAClC,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;IAAA,IAAAC,cAAA;IACtC,IAAI,CAACT,mBAAmB,EAAE;MACtB,OAAOQ,MAAM,CAAC,IAAIE,KAAK,CAAC,iFAAiF,CAAC,CAAC;IAC/G;IAEA,IAAIN,gBAAgB,KAAAK,cAAA,GAAIE,MAAM,CAACC,MAAM,cAAAH,cAAA,eAAbA,cAAA,CAAeI,IAAI,EAAE;MAC3C,OAAON,OAAO,CAACI,MAAM,CAACC,MAAM,CAAC;IAC/B;IAEA,MAAME,QAAQ,GAAG,oBAAoB;IACrC,MAAMC,cAAc,GAAGC,QAAQ,CAACC,cAAc,CAACH,QAAQ,CAAC;IAExD,IAAIC,cAAc,EAAE;MAClB;MACAA,cAAc,CAACG,gBAAgB,CAAC,MAAM,EAAE,MAAM;QAC5Cd,gBAAgB,GAAG,IAAI;QACvBG,OAAO,CAACI,MAAM,CAACC,MAAM,CAAC;MACxB,CAAC,CAAC;MACFG,cAAc,CAACG,gBAAgB,CAAC,OAAO,EAAE,MAAM;QAC7CV,MAAM,CAAC,IAAIE,KAAK,CAAC,gFAAgF,CAAC,CAAC;MACrG,CAAC,CAAC;MACF;IACF;IAEA,MAAMS,MAAM,GAAGH,QAAQ,CAACI,aAAa,CAAC,QAAQ,CAAC;IAC/CD,MAAM,CAACE,EAAE,GAAGP,QAAQ;IACpBK,MAAM,CAACG,GAAG,GAAG,+CAA+CtB,mBAAmB,0CAA0C;IACzHmB,MAAM,CAACI,KAAK,GAAG,IAAI;IACnBJ,MAAM,CAACK,KAAK,GAAG,IAAI;IAEnBL,MAAM,CAACM,MAAM,GAAG,MAAM;MAClBrB,gBAAgB,GAAG,IAAI;MACvBG,OAAO,CAACI,MAAM,CAACC,MAAM,CAAC;IAC1B,CAAC;IAEDO,MAAM,CAACO,OAAO,GAAG,MAAM;MACrBV,QAAQ,CAACW,IAAI,CAACC,WAAW,CAACT,MAAM,CAAC;MACjCX,MAAM,CAAC,IAAIE,KAAK,CAAC,gFAAgF,CAAC,CAAC;IACrG,CAAC;IAEDM,QAAQ,CAACW,IAAI,CAACE,WAAW,CAACV,MAAM,CAAC;EACnC,CAAC,CAAC;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}