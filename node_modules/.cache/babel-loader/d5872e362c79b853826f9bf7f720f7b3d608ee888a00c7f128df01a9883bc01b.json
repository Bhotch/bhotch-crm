{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC_User\\\\Desktop\\\\free-crm\\\\bhotch-crm\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { Home, ClipboardList, Map, Calendar, XCircle, DollarSign, Loader2, CheckCircle, AlertCircle, Clock } from 'lucide-react';\n\n// Import hooks\nimport { useLeads } from './hooks/useLeads';\nimport { useNotifications } from './hooks/useNotifications';\n\n// Import features and components\nimport { LoginForm } from './features/auth/LoginForm';\nimport { DashboardView } from './features/dashboard/DashboardView';\nimport { LeadsView } from './features/leads/LeadsView';\nimport { MapView } from './features/map/MapView';\nimport { CalendarView } from './features/calendar/CalendarView';\nimport { LeadFormModal } from './features/leads/LeadFormModal';\nimport { LeadDetailModal } from './features/leads/LeadDetailModal';\nimport { ConnectionStatus } from './components/ConnectionStatus';\nimport { ConfigErrorDisplay } from './components/ConfigErrorDisplay';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction CrmApplication({\n  onLogout\n}) {\n  _s();\n  const {\n    notifications,\n    addNotification\n  } = useNotifications();\n  const {\n    leads,\n    loading,\n    refreshLeads,\n    addLead,\n    updateLead,\n    deleteLead\n  } = useLeads(addNotification);\n  const [currentView, setCurrentView] = useState('dashboard');\n  const [editingLead, setEditingLead] = useState(null);\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [selectedDetailLead, setSelectedDetailLead] = useState(null);\n  const dashboardStats = useMemo(() => ({\n    totalLeads: leads.length,\n    hotLeads: leads.filter(l => l.quality === 'Hot').length,\n    quotedLeads: leads.filter(l => l.disposition === 'Quoted').length,\n    totalQuoteValue: leads.reduce((sum, lead) => sum + (parseFloat(String(lead.dabellaQuote).replace(/[$,]/g, '')) || 0), 0)\n  }), [leads]);\n  const handleAddSubmit = async leadData => {\n    await addLead(leadData);\n    setShowAddForm(false);\n  };\n  const handleUpdateSubmit = async leadData => {\n    await updateLead(leadData);\n    setEditingLead(null);\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen flex items-center justify-center\",\n    children: /*#__PURE__*/_jsxDEV(Loader2, {\n      className: \"animate-spin h-12 w-12 text-blue-600\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 87\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 24\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"bg-white shadow-sm border-b sticky top-0 z-30\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center py-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n              className: \"h-8 w-8 text-blue-600 mr-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-2xl font-bold text-gray-900\",\n              children: \"Bhotch CRM\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n            className: \"flex space-x-1 sm:space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setCurrentView('dashboard'),\n              className: `px-3 py-2 rounded-md text-sm font-medium flex items-center ${currentView === 'dashboard' ? 'bg-blue-100 text-blue-700' : 'text-gray-500 hover:bg-gray-100'}`,\n              children: [/*#__PURE__*/_jsxDEV(Home, {\n                className: \"w-4 h-4 mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 243\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"hidden sm:inline\",\n                children: \"Dashboard\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 276\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setCurrentView('leads'),\n              className: `px-3 py-2 rounded-md text-sm font-medium flex items-center ${currentView === 'leads' ? 'bg-blue-100 text-blue-700' : 'text-gray-500 hover:bg-gray-100'}`,\n              children: [/*#__PURE__*/_jsxDEV(ClipboardList, {\n                className: \"w-4 h-4 mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 235\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"hidden sm:inline\",\n                children: \"Leads\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 277\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setCurrentView('map'),\n              className: `px-3 py-2 rounded-md text-sm font-medium flex items-center ${currentView === 'map' ? 'bg-blue-100 text-blue-700' : 'text-gray-500 hover:bg-gray-100'}`,\n              children: [/*#__PURE__*/_jsxDEV(Map, {\n                className: \"w-4 h-4 mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 231\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"hidden sm:inline\",\n                children: \"Map\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 263\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setCurrentView('calendar'),\n              className: `px-3 py-2 rounded-md text-sm font-medium flex items-center ${currentView === 'calendar' ? 'bg-blue-100 text-blue-700' : 'text-gray-500 hover:bg-gray-100'}`,\n              children: [/*#__PURE__*/_jsxDEV(Calendar, {\n                className: \"w-4 h-4 mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 241\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"hidden sm:inline\",\n                children: \"Calendar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 278\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: onLogout,\n              className: \"p-2 bg-red-100 text-red-700 rounded-md hover:bg-red-200\",\n              children: /*#__PURE__*/_jsxDEV(XCircle, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 116\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed top-20 right-5 w-80 z-50\",\n      children: notifications.map(n => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `p-3 rounded-md mb-2 shadow-lg animate-fade-in-right flex items-start ${n.type === 'success' ? 'bg-green-100 text-green-800' : n.type === 'error' ? 'bg-red-100 text-red-800' : 'bg-blue-100 text-blue-800'}`,\n        children: [n.type === 'success' && /*#__PURE__*/_jsxDEV(CheckCircle, {\n          className: \"w-5 h-5 mr-2 mt-0.5 shrink-0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 36\n        }, this), n.type === 'error' && /*#__PURE__*/_jsxDEV(AlertCircle, {\n          className: \"w-5 h-5 mr-2 mt-0.5 shrink-0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 34\n        }, this), n.type === 'info' && /*#__PURE__*/_jsxDEV(Clock, {\n          className: \"w-5 h-5 mr-2 mt-0.5 shrink-0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm\",\n          children: n.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this)]\n      }, n.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\",\n      children: [currentView === 'dashboard' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(ConnectionStatus, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 43\n        }, this), /*#__PURE__*/_jsxDEV(DashboardView, {\n          stats: dashboardStats,\n          leads: leads\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 63\n        }, this)]\n      }, void 0, true), currentView === 'leads' && /*#__PURE__*/_jsxDEV(LeadsView, {\n        leads: leads,\n        onAddLead: () => setShowAddForm(true),\n        onEditLead: setEditingLead,\n        onDeleteLead: deleteLead,\n        onRefreshLeads: refreshLeads,\n        onSelectLead: setSelectedDetailLead\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 37\n      }, this), currentView === 'map' && /*#__PURE__*/_jsxDEV(MapView, {\n        leads: leads,\n        onLeadClick: setSelectedDetailLead\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 35\n      }, this), currentView === 'calendar' && /*#__PURE__*/_jsxDEV(CalendarView, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 40\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), showAddForm && /*#__PURE__*/_jsxDEV(LeadFormModal, {\n      onSubmit: handleAddSubmit,\n      onCancel: () => setShowAddForm(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 23\n    }, this), editingLead && /*#__PURE__*/_jsxDEV(LeadFormModal, {\n      initialData: editingLead,\n      onSubmit: handleUpdateSubmit,\n      onCancel: () => setEditingLead(null),\n      isEdit: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 23\n    }, this), selectedDetailLead && /*#__PURE__*/_jsxDEV(LeadDetailModal, {\n      lead: selectedDetailLead,\n      onClose: () => setSelectedDetailLead(null),\n      onEdit: () => {\n        setEditingLead(selectedDetailLead);\n        setSelectedDetailLead(null);\n      },\n      onDelete: () => {\n        deleteLead(selectedDetailLead.id);\n        setSelectedDetailLead(null);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 30\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n\n// --- Main App Component ---\n_s(CrmApplication, \"BONXbRDqX36fmHrKnHrKKoDE31o=\", false, function () {\n  return [useNotifications, useLeads];\n});\n_c = CrmApplication;\nexport default function App() {\n  _s2();\n  const [isAuthenticated, setIsAuthenticated] = useState(!!sessionStorage.getItem('isAuthenticated'));\n  const configError = [process.env.REACT_APP_FIREBASE_API_KEY, process.env.REACT_APP_GAS_WEB_APP_URL, process.env.REACT_APP_GOOGLE_MAPS_API_KEY].some(key => !key) ? \"One or more critical environment variables (Firebase, GAS URL, Maps API) are not set.\" : null;\n  if (configError) {\n    return /*#__PURE__*/_jsxDEV(ConfigErrorDisplay, {\n      error: configError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 12\n    }, this);\n  }\n  if (!isAuthenticated) {\n    return /*#__PURE__*/_jsxDEV(LoginForm, {\n      onLogin: () => setIsAuthenticated(true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(CrmApplication, {\n    onLogout: () => {\n      sessionStorage.removeItem('isAuthenticated');\n      setIsAuthenticated(false);\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 10\n  }, this);\n}\n_s2(App, \"XwJTq2EyvJ+8Nb6ya0GpXoCvtaw=\");\n_c2 = App;\nvar _c, _c2;\n$RefreshReg$(_c, \"CrmApplication\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMemo","Home","ClipboardList","Map","Calendar","XCircle","DollarSign","Loader2","CheckCircle","AlertCircle","Clock","useLeads","useNotifications","LoginForm","DashboardView","LeadsView","MapView","CalendarView","LeadFormModal","LeadDetailModal","ConnectionStatus","ConfigErrorDisplay","jsxDEV","_jsxDEV","Fragment","_Fragment","CrmApplication","onLogout","_s","notifications","addNotification","leads","loading","refreshLeads","addLead","updateLead","deleteLead","currentView","setCurrentView","editingLead","setEditingLead","showAddForm","setShowAddForm","selectedDetailLead","setSelectedDetailLead","dashboardStats","totalLeads","length","hotLeads","filter","l","quality","quotedLeads","disposition","totalQuoteValue","reduce","sum","lead","parseFloat","String","dabellaQuote","replace","handleAddSubmit","leadData","handleUpdateSubmit","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","n","type","message","id","stats","onAddLead","onEditLead","onDeleteLead","onRefreshLeads","onSelectLead","onLeadClick","onSubmit","onCancel","initialData","isEdit","onClose","onEdit","onDelete","_c","App","_s2","isAuthenticated","setIsAuthenticated","sessionStorage","getItem","configError","process","env","REACT_APP_FIREBASE_API_KEY","REACT_APP_GAS_WEB_APP_URL","REACT_APP_GOOGLE_MAPS_API_KEY","some","key","error","onLogin","removeItem","_c2","$RefreshReg$"],"sources":["C:/Users/PC_User/Desktop/free-crm/bhotch-crm/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback, useMemo } from 'react';\r\nimport { Home, ClipboardList, Map, Calendar, XCircle, DollarSign, Loader2, CheckCircle, AlertCircle, Clock } from 'lucide-react';\r\n\r\n// Import hooks\r\nimport { useLeads } from './hooks/useLeads';\r\nimport { useNotifications } from './hooks/useNotifications';\r\n\r\n// Import features and components\r\nimport { LoginForm } from './features/auth/LoginForm';\r\nimport { DashboardView } from './features/dashboard/DashboardView';\r\nimport { LeadsView } from './features/leads/LeadsView';\r\nimport { MapView } from './features/map/MapView';\r\nimport { CalendarView } from './features/calendar/CalendarView';\r\nimport { LeadFormModal } from './features/leads/LeadFormModal';\r\nimport { LeadDetailModal } from './features/leads/LeadDetailModal';\r\nimport { ConnectionStatus } from './components/ConnectionStatus';\r\nimport { ConfigErrorDisplay } from './components/ConfigErrorDisplay';\r\n\r\nfunction CrmApplication({ onLogout }) {\r\n  const { notifications, addNotification } = useNotifications();\r\n  const { leads, loading, refreshLeads, addLead, updateLead, deleteLead } = useLeads(addNotification);\r\n  \r\n  const [currentView, setCurrentView] = useState('dashboard');\r\n  const [editingLead, setEditingLead] = useState(null);\r\n  const [showAddForm, setShowAddForm] = useState(false);\r\n  const [selectedDetailLead, setSelectedDetailLead] = useState(null);\r\n\r\n  const dashboardStats = useMemo(() => ({\r\n    totalLeads: leads.length,\r\n    hotLeads: leads.filter(l => l.quality === 'Hot').length,\r\n    quotedLeads: leads.filter(l => l.disposition === 'Quoted').length,\r\n    totalQuoteValue: leads.reduce((sum, lead) => sum + (parseFloat(String(lead.dabellaQuote).replace(/[$,]/g, '')) || 0), 0)\r\n  }), [leads]);\r\n\r\n  const handleAddSubmit = async (leadData) => {\r\n    await addLead(leadData);\r\n    setShowAddForm(false);\r\n  };\r\n  \r\n  const handleUpdateSubmit = async (leadData) => {\r\n    await updateLead(leadData);\r\n    setEditingLead(null);\r\n  };\r\n\r\n  if (loading) return (<div className=\"min-h-screen flex items-center justify-center\"><Loader2 className=\"animate-spin h-12 w-12 text-blue-600\"/></div>);\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      <header className=\"bg-white shadow-sm border-b sticky top-0 z-30\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n            <div className=\"flex justify-between items-center py-4\">\r\n                <div className=\"flex items-center\">\r\n                    <DollarSign className=\"h-8 w-8 text-blue-600 mr-3\" />\r\n                    <h1 className=\"text-2xl font-bold text-gray-900\">Bhotch CRM</h1>\r\n                </div>\r\n                <nav className=\"flex space-x-1 sm:space-x-2\">\r\n                    <button onClick={() => setCurrentView('dashboard')} className={`px-3 py-2 rounded-md text-sm font-medium flex items-center ${currentView === 'dashboard' ? 'bg-blue-100 text-blue-700' : 'text-gray-500 hover:bg-gray-100'}`}><Home className=\"w-4 h-4 mr-1\" /><span className=\"hidden sm:inline\">Dashboard</span></button>\r\n                    <button onClick={() => setCurrentView('leads')} className={`px-3 py-2 rounded-md text-sm font-medium flex items-center ${currentView === 'leads' ? 'bg-blue-100 text-blue-700' : 'text-gray-500 hover:bg-gray-100'}`}><ClipboardList className=\"w-4 h-4 mr-1\" /><span className=\"hidden sm:inline\">Leads</span></button>\r\n                    <button onClick={() => setCurrentView('map')} className={`px-3 py-2 rounded-md text-sm font-medium flex items-center ${currentView === 'map' ? 'bg-blue-100 text-blue-700' : 'text-gray-500 hover:bg-gray-100'}`}><Map className=\"w-4 h-4 mr-1\" /><span className=\"hidden sm:inline\">Map</span></button>\r\n                    <button onClick={() => setCurrentView('calendar')} className={`px-3 py-2 rounded-md text-sm font-medium flex items-center ${currentView === 'calendar' ? 'bg-blue-100 text-blue-700' : 'text-gray-500 hover:bg-gray-100'}`}><Calendar className=\"w-4 h-4 mr-1\" /><span className=\"hidden sm:inline\">Calendar</span></button>\r\n                    <button onClick={onLogout} className=\"p-2 bg-red-100 text-red-700 rounded-md hover:bg-red-200\"><XCircle className=\"w-5 h-5\"/></button>\r\n                </nav>\r\n            </div>\r\n        </div>\r\n      </header>\r\n\r\n      {/* Notification Panel */}\r\n      <div className=\"fixed top-20 right-5 w-80 z-50\">\r\n        {notifications.map(n => (\r\n          <div key={n.id} className={`p-3 rounded-md mb-2 shadow-lg animate-fade-in-right flex items-start ${n.type==='success'?'bg-green-100 text-green-800':n.type==='error'?'bg-red-100 text-red-800':'bg-blue-100 text-blue-800'}`}>\r\n            {n.type==='success' && <CheckCircle className=\"w-5 h-5 mr-2 mt-0.5 shrink-0\"/>}\r\n            {n.type==='error' && <AlertCircle className=\"w-5 h-5 mr-2 mt-0.5 shrink-0\"/>}\r\n            {n.type==='info' && <Clock className=\"w-5 h-5 mr-2 mt-0.5 shrink-0\"/>}\r\n            <span className=\"text-sm\">{n.message}</span>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\r\n        {currentView === 'dashboard' && <><ConnectionStatus /><DashboardView stats={dashboardStats} leads={leads} /></>}\r\n        {currentView === 'leads' && <LeadsView leads={leads} onAddLead={()=>setShowAddForm(true)} onEditLead={setEditingLead} onDeleteLead={deleteLead} onRefreshLeads={refreshLeads} onSelectLead={setSelectedDetailLead} />}\r\n        {currentView === 'map' && <MapView leads={leads} onLeadClick={setSelectedDetailLead}/>}\r\n        {currentView === 'calendar' && <CalendarView />}\r\n      </main>\r\n\r\n      {/* Modals */}\r\n      {showAddForm && <LeadFormModal onSubmit={handleAddSubmit} onCancel={()=>setShowAddForm(false)}/>}\r\n      {editingLead && <LeadFormModal initialData={editingLead} onSubmit={handleUpdateSubmit} onCancel={()=>setEditingLead(null)} isEdit={true}/>}\r\n      {selectedDetailLead && <LeadDetailModal lead={selectedDetailLead} onClose={()=>setSelectedDetailLead(null)} onEdit={()=>{setEditingLead(selectedDetailLead);setSelectedDetailLead(null);}} onDelete={()=>{deleteLead(selectedDetailLead.id);setSelectedDetailLead(null);}}/>}\r\n    </div>\r\n  );\r\n}\r\n\r\n// --- Main App Component ---\r\nexport default function App() {\r\n  const [isAuthenticated, setIsAuthenticated] = useState(!!sessionStorage.getItem('isAuthenticated'));\r\n  \r\n  const configError = [\r\n      process.env.REACT_APP_FIREBASE_API_KEY,\r\n      process.env.REACT_APP_GAS_WEB_APP_URL,\r\n      process.env.REACT_APP_GOOGLE_MAPS_API_KEY\r\n  ].some(key => !key) ? \"One or more critical environment variables (Firebase, GAS URL, Maps API) are not set.\" : null;\r\n\r\n  if (configError) {\r\n    return <ConfigErrorDisplay error={configError} />;\r\n  }\r\n  \r\n  if (!isAuthenticated) {\r\n    return <LoginForm onLogin={() => setIsAuthenticated(true)} />;\r\n  }\r\n\r\n  return <CrmApplication onLogout={() => { sessionStorage.removeItem('isAuthenticated'); setIsAuthenticated(false); }} />;\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}