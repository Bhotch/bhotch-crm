{"ast":null,"code":"import _objectSpread from\"c:/Users/PC_User/Desktop/free-crm/bhotch-crm/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useMemo,useCallback,useEffect}from'react';import{Plus,Edit2,Eye,RefreshCw,Search,Calendar,Calculator,Users,TrendingUp,ChevronUp,ChevronDown,Filter,X,ChevronLeft,ChevronRight,Settings,Save}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function JobCountView(_ref){let{jobCounts,onAddJobCount,onEditJobCount,onDeleteJobCount,onRefreshJobCounts,onSelectJobCount}=_ref;const[searchTerm,setSearchTerm]=useState('');const[filterDate,setFilterDate]=useState('');const[sortConfig,setSortConfig]=useState({key:null,direction:'asc'});const[columnFilters,setColumnFilters]=useState({});const[showFilters,setShowFilters]=useState(false);const[currentPage,setCurrentPage]=useState(1);const[itemsPerPage,setItemsPerPage]=useState(25);const[showColumnSettings,setShowColumnSettings]=useState(false);// Default column visibility settings\nconst defaultVisibleColumns={date:true,customer:true,phone:true,address:true,email:false,sqFt:true,ridgeLf:true,valleyLf:true,eavesLf:false,quote:true,quality:true,disposition:true,leadSource:true,roofAge:false,roofType:false,ridgeVents:false,turbine:false,rimeFlow:false,highProfileRidgeCap:false,valleyMetal:false,pipes1Half:false,pipes2:false,pipes3:false,pipes4:false,gables:false,turtleBacks:false,satellite:false,chimney:false,solar:false,swampCooler:false,guttersLf:false,downspouts:false,gutterGuardLf:false,permanentLighting:false};// Load saved column preferences from localStorage\nconst loadSavedColumns=()=>{try{const saved=localStorage.getItem('jobCountVisibleColumns');if(saved){return JSON.parse(saved);}}catch(error){console.error('Error loading saved columns:',error);}return defaultVisibleColumns;};const[visibleColumns,setVisibleColumns]=useState(loadSavedColumns);const[tempVisibleColumns,setTempVisibleColumns]=useState(loadSavedColumns);// Save column preferences to localStorage when save button is clicked\nconst handleSaveColumns=useCallback(()=>{try{localStorage.setItem('jobCountVisibleColumns',JSON.stringify(tempVisibleColumns));setVisibleColumns(tempVisibleColumns);setShowColumnSettings(false);}catch(error){console.error('Error saving columns:',error);}},[tempVisibleColumns]);const formatNumber=useCallback(value=>{if(!value||value==='0'||value==='-')return'-';return Number(value).toLocaleString();},[]);const formatDate=useCallback(dateString=>{if(!dateString)return'-';try{return new Date(dateString).toLocaleDateString();}catch(_unused){return dateString;}},[]);const formatPhone=useCallback(phone=>{if(!phone)return'-';const cleaned=phone.toString().replace(/\\D/g,'');if(cleaned.length===10){return\"(\".concat(cleaned.slice(0,3),\") \").concat(cleaned.slice(3,6),\"-\").concat(cleaned.slice(6));}return phone;},[]);const handleSort=useCallback(key=>{setSortConfig(prevConfig=>({key,direction:prevConfig.key===key&&prevConfig.direction==='asc'?'desc':'asc'}));},[]);const availableColumns=useMemo(()=>[{key:'date',label:'Date',type:'date',category:'Basic'},{key:'customer',label:'Customer',type:'text',category:'Basic'},{key:'phone',label:'Phone',type:'text',category:'Basic'},{key:'email',label:'Email',type:'text',category:'Basic'},{key:'address',label:'Address',type:'text',category:'Basic'},{key:'quality',label:'Quality',type:'text',category:'Job Info'},{key:'disposition',label:'Disposition',type:'text',category:'Job Info'},{key:'leadSource',label:'Lead Source',type:'text',category:'Job Info'},{key:'roofAge',label:'Roof Age',type:'text',category:'Job Info'},{key:'roofType',label:'Roof Type',type:'text',category:'Job Info'},{key:'sqFt',label:'SQ FT',type:'number',category:'Measurements'},{key:'ridgeLf',label:'Ridge LF',type:'number',category:'Measurements'},{key:'valleyLf',label:'Valley LF',type:'number',category:'Measurements'},{key:'eavesLf',label:'Eaves LF',type:'number',category:'Measurements'},{key:'quote',label:'Quote',type:'number',category:'Financial'},{key:'ridgeVents',label:'Ridge Vents',type:'number',category:'Ventilation'},{key:'turbine',label:'Turbine',type:'number',category:'Ventilation'},{key:'rimeFlow',label:'Rime Flow',type:'number',category:'Ventilation'},{key:'highProfileRidgeCap',label:'High Profile Ridge Cap',type:'number',category:'Components'},{key:'valleyMetal',label:'Valley Metal',type:'number',category:'Components'},{key:'pipes1Half',label:'Pipes 1.5\"',type:'number',category:'Pipes'},{key:'pipes2',label:'Pipes 2\"',type:'number',category:'Pipes'},{key:'pipes3',label:'Pipes 3\"',type:'number',category:'Pipes'},{key:'pipes4',label:'Pipes 4\"',type:'number',category:'Pipes'},{key:'gables',label:'Gables',type:'number',category:'Features'},{key:'turtleBacks',label:'Turtle Backs',type:'number',category:'Features'},{key:'satellite',label:'Satellite',type:'number',category:'Features'},{key:'chimney',label:'Chimney',type:'number',category:'Features'},{key:'solar',label:'Solar',type:'number',category:'Features'},{key:'swampCooler',label:'Swamp Cooler',type:'number',category:'Features'},{key:'guttersLf',label:'Gutters LF',type:'number',category:'Gutters'},{key:'downspouts',label:'Downspouts',type:'number',category:'Gutters'},{key:'gutterGuardLf',label:'Gutter Guard LF',type:'number',category:'Gutters'},{key:'permanentLighting',label:'Permanent Lighting',type:'number',category:'Additional'}],[]);const getSortValue=useCallback((job,key)=>{const column=availableColumns.find(col=>col.key===key);if(key==='customer'){return job.customerName||\"\".concat(job.firstName||'',\" \").concat(job.lastName||'').trim()||'Unknown';}if(key==='phone'){return job.phoneNumber||'';}if(key==='quote'){return parseFloat(job.dabellaQuote)||0;}if((column===null||column===void 0?void 0:column.type)==='number'){return parseFloat(job[key])||0;}return job[key]||'';},[availableColumns]);const toggleColumnVisibility=useCallback(columnKey=>{setTempVisibleColumns(prev=>_objectSpread(_objectSpread({},prev),{},{[columnKey]:!prev[columnKey]}));},[]);const updateColumnFilter=useCallback((column,value)=>{setColumnFilters(prev=>{const newFilters=_objectSpread({},prev);if(value===''||value===null||value===undefined){delete newFilters[column];}else{newFilters[column]=value;}setCurrentPage(1);// Reset to first page when filtering\nreturn newFilters;});},[]);const clearAllFilters=useCallback(()=>{setColumnFilters({});setSearchTerm('');setFilterDate('');setCurrentPage(1);},[]);const filteredAndSortedJobCounts=useMemo(()=>{let filtered=jobCounts.filter(job=>{var _job$phoneNumber;// Global search filter\nconst matchesSearch=!searchTerm||[job.firstName,job.lastName,job.customerName,(_job$phoneNumber=job.phoneNumber)===null||_job$phoneNumber===void 0?void 0:_job$phoneNumber.toString(),job.address,job.quality,job.disposition,job.leadSource].some(field=>field===null||field===void 0?void 0:field.toLowerCase().includes(searchTerm.toLowerCase()));// Date filter\nconst matchesDate=!filterDate||job.date===filterDate;// Column-specific filters\nconst matchesColumnFilters=Object.entries(columnFilters).every(_ref2=>{let[column,filterValue]=_ref2;if(!filterValue)return true;let jobValue;if(column==='customer'){jobValue=job.customerName||\"\".concat(job.firstName||'',\" \").concat(job.lastName||'').trim();}else if(column==='phone'){var _job$phoneNumber2;jobValue=((_job$phoneNumber2=job.phoneNumber)===null||_job$phoneNumber2===void 0?void 0:_job$phoneNumber2.toString())||'';}else if(column==='quote'){jobValue=parseFloat(job.dabellaQuote)||0;}else{const columnConfig=availableColumns.find(col=>col.key===column);if((columnConfig===null||columnConfig===void 0?void 0:columnConfig.type)==='number'){jobValue=parseFloat(job[column])||0;}else{jobValue=job[column]||'';}}const columnConfig=availableColumns.find(col=>col.key===column);if((columnConfig===null||columnConfig===void 0?void 0:columnConfig.type)==='number'){return jobValue>=parseFloat(filterValue);}else{return jobValue.toString().toLowerCase().includes(filterValue.toLowerCase());}});return matchesSearch&&matchesDate&&matchesColumnFilters;});if(sortConfig.key){filtered.sort((a,b)=>{const aValue=getSortValue(a,sortConfig.key);const bValue=getSortValue(b,sortConfig.key);if(typeof aValue==='string'&&typeof bValue==='string'){const comparison=aValue.toLowerCase().localeCompare(bValue.toLowerCase());return sortConfig.direction==='asc'?comparison:-comparison;}else{const comparison=aValue-bValue;return sortConfig.direction==='asc'?comparison:-comparison;}});}return filtered;},[jobCounts,searchTerm,filterDate,columnFilters,sortConfig,getSortValue,availableColumns]);const paginatedJobCounts=useMemo(()=>{const startIndex=(currentPage-1)*itemsPerPage;const endIndex=startIndex+itemsPerPage;return filteredAndSortedJobCounts.slice(startIndex,endIndex);},[filteredAndSortedJobCounts,currentPage,itemsPerPage]);const totalPages=Math.ceil(filteredAndSortedJobCounts.length/itemsPerPage);const hasActiveFilters=useMemo(()=>{return searchTerm||filterDate||Object.keys(columnFilters).length>0;},[searchTerm,filterDate,columnFilters]);const summaryStats=useMemo(()=>{return filteredAndSortedJobCounts.reduce((stats,job)=>{stats.totalJobs+=1;stats.totalSqFt+=parseFloat(job.sqFt)||0;stats.totalRidgeLf+=parseFloat(job.ridgeLf)||0;stats.totalValleyLf+=parseFloat(job.valleyLf)||0;return stats;},{totalJobs:0,totalSqFt:0,totalRidgeLf:0,totalValleyLf:0});},[filteredAndSortedJobCounts]);const SortableHeader=_ref3=>{var _availableColumns$fin;let{sortKey,children,className=\"\"}=_ref3;const hasFilter=columnFilters[sortKey];return/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider \".concat(className),children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between cursor-pointer hover:bg-gray-100 transition-colors select-none p-1 rounded\",onClick:()=>handleSort(sortKey),children:[/*#__PURE__*/_jsx(\"span\",{className:hasFilter?'text-blue-600 font-semibold':'',children:children}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1\",children:[hasFilter&&/*#__PURE__*/_jsx(Filter,{className:\"w-3 h-3 text-blue-600\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(ChevronUp,{className:\"w-3 h-3 \".concat(sortConfig.key===sortKey&&sortConfig.direction==='asc'?'text-blue-600':'text-gray-300')}),/*#__PURE__*/_jsx(ChevronDown,{className:\"w-3 h-3 -mt-1 \".concat(sortConfig.key===sortKey&&sortConfig.direction==='desc'?'text-blue-600':'text-gray-300')})]})]})]}),showFilters&&/*#__PURE__*/_jsx(ColumnFilter,{column:sortKey,value:columnFilters[sortKey]||'',onChange:value=>updateColumnFilter(sortKey,value),type:((_availableColumns$fin=availableColumns.find(col=>col.key===sortKey))===null||_availableColumns$fin===void 0?void 0:_availableColumns$fin.type)||'text'})]})});};const ColumnFilter=_ref4=>{let{column,value,onChange,type}=_ref4;const placeholder=type==='number'?'Min value...':'Filter...';return/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:type==='number'?'number':type==='date'?'date':'text',value:value,onChange:e=>onChange(e.target.value),placeholder:placeholder,className:\"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500\",onClick:e=>e.stopPropagation()}),value&&/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();onChange('');},className:\"absolute right-1 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(X,{className:\"w-3 h-3\"})})]});};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-gray-900\",children:\"Job Count Management\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-1\",children:\"Track roofing job counts, measurements, and customer information\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:onRefreshJobCounts,className:\"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors\",children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"w-4 h-4 mr-2\"}),\"Refresh\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:onAddJobCount,className:\"inline-flex items-center px-4 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors\",children:[/*#__PURE__*/_jsx(Plus,{className:\"w-4 h-4 mr-2\"}),\"Add Job Count\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-lg shadow-sm border\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative md:col-span-2\",children:[/*#__PURE__*/_jsx(Search,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search across all fields...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"pl-10 pr-4 py-3 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:filterDate,onChange:e=>setFilterDate(e.target.value),className:\"pl-10 pr-4 py-3 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowFilters(!showFilters),className:\"inline-flex items-center px-3 py-2 border rounded-lg text-sm font-medium transition-colors \".concat(showFilters?'border-blue-500 text-blue-700 bg-blue-50':'border-gray-300 text-gray-700 bg-white hover:bg-gray-50'),children:[/*#__PURE__*/_jsx(Filter,{className:\"w-4 h-4 mr-2\"}),\"Column Filters\",Object.keys(columnFilters).length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full\",children:Object.keys(columnFilters).length})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowColumnSettings(!showColumnSettings),className:\"inline-flex items-center px-3 py-2 border rounded-lg text-sm font-medium transition-colors \".concat(showColumnSettings?'border-purple-500 text-purple-700 bg-purple-50':'border-gray-300 text-gray-700 bg-white hover:bg-gray-50'),children:[/*#__PURE__*/_jsx(Settings,{className:\"w-4 h-4 mr-2\"}),\"Manage Columns\",/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded-full\",children:Object.values(visibleColumns).filter(Boolean).length})]}),hasActiveFilters&&/*#__PURE__*/_jsxs(\"button\",{onClick:clearAllFilters,className:\"inline-flex items-center px-3 py-2 border border-red-300 rounded-lg text-sm font-medium text-red-700 bg-red-50 hover:bg-red-100 transition-colors\",children:[/*#__PURE__*/_jsx(X,{className:\"w-4 h-4 mr-2\"}),\"Clear All Filters\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"select\",{value:itemsPerPage,onChange:e=>{setItemsPerPage(Number(e.target.value));setCurrentPage(1);},className:\"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:10,children:\"10 per page\"}),/*#__PURE__*/_jsx(\"option\",{value:25,children:\"25 per page\"}),/*#__PURE__*/_jsx(\"option\",{value:50,children:\"50 per page\"}),/*#__PURE__*/_jsx(\"option\",{value:100,children:\"100 per page\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[\"Showing \",filteredAndSortedJobCounts.length===0?0:(currentPage-1)*itemsPerPage+1,\"-\",Math.min(currentPage*itemsPerPage,filteredAndSortedJobCounts.length),\" of \",filteredAndSortedJobCounts.length]})]})]})]})}),showColumnSettings&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-sm border\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Manage Visible Columns\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setTempVisibleColumns(visibleColumns);setShowColumnSettings(false);},className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(X,{className:\"w-5 h-5\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4 mb-6\",children:availableColumns.map(column=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-2 p-2 rounded hover:bg-gray-50 cursor-pointer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:tempVisibleColumns[column.key],onChange:()=>toggleColumnVisibility(column.key),className:\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:column.label})]},column.key))}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 pt-4 border-t\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setTempVisibleColumns(visibleColumns);setShowColumnSettings(false);},className:\"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors\",children:\"Cancel\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleSaveColumns,className:\"inline-flex items-center px-4 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors\",children:[/*#__PURE__*/_jsx(Save,{className:\"w-4 h-4 mr-2\"}),\"Save Column Selection\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-sm border p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(Users,{className:\"h-8 w-8 text-blue-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Total Jobs\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:summaryStats.totalJobs})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-sm border p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(Calculator,{className:\"h-8 w-8 text-green-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Total SQ FT\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:formatNumber(summaryStats.totalSqFt)})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-sm border p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(TrendingUp,{className:\"h-8 w-8 text-purple-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Total Ridge LF\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:formatNumber(summaryStats.totalRidgeLf)})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-sm border p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(TrendingUp,{className:\"h-8 w-8 text-orange-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Total Valley LF\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:formatNumber(summaryStats.totalValleyLf)})]})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-lg border border-gray-200 overflow-hidden\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"overflow-x-auto\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gradient-to-r from-gray-50 to-gray-100\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[availableColumns.filter(col=>visibleColumns[col.key]).map(column=>/*#__PURE__*/_jsx(SortableHeader,{sortKey:column.key,children:column.label},column.key)),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-100\",children:paginatedJobCounts.map((job,index)=>/*#__PURE__*/_jsxs(\"tr\",{className:\"cursor-pointer transition-all duration-200 hover:bg-blue-50 hover:shadow-md transform hover:-translate-y-0.5 \".concat(index%2===0?'bg-white':'bg-gray-50'),onClick:()=>onSelectJobCount(job),children:[availableColumns.filter(col=>visibleColumns[col.key]).map(column=>{const renderCellContent=()=>{if(column.key==='date'){return/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:formatDate(job.date)});}if(column.key==='customer'){return/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-semibold text-gray-900\",children:job.customerName||\"\".concat(job.firstName||'',\" \").concat(job.lastName||'').trim()||'Unknown'});}if(column.key==='phone'){return/*#__PURE__*/_jsx(\"a\",{href:\"tel:\".concat(job.phoneNumber),onClick:e=>e.stopPropagation(),className:\"text-sm font-medium text-blue-600 hover:text-blue-800 hover:underline transition-colors\",children:formatPhone(job.phoneNumber)});}if(column.key==='email'){return job.email?/*#__PURE__*/_jsx(\"a\",{href:\"mailto:\".concat(job.email),onClick:e=>e.stopPropagation(),className:\"text-sm text-blue-600 hover:text-blue-800 hover:underline transition-colors\",children:job.email}):'-';}if(column.key==='address'){return/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-700 truncate max-w-xs\",children:job.address||'-'});}if(column.key==='quote'){return job.dabellaQuote?/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm bg-green-100 text-green-800 px-3 py-1 rounded-full font-medium\",children:[\"$\",formatNumber(job.dabellaQuote)]}):'-';}if(column.type==='number'){const value=job[column.key];return value?/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:formatNumber(value)}):'-';}return/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-900\",children:job[column.key]||'-'});};return/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-5 whitespace-nowrap\",children:renderCellContent()},column.key);}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-5 whitespace-nowrap text-sm font-medium\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();onSelectJobCount(job);},className:\"text-blue-600 hover:text-blue-900 p-2 rounded-lg hover:bg-blue-100 transition-all duration-200 hover:scale-110\",title:\"View Details\",children:/*#__PURE__*/_jsx(Eye,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();onEditJobCount(job);},className:\"text-orange-600 hover:text-orange-900 p-2 rounded-lg hover:bg-orange-100 transition-all duration-200 hover:scale-110\",title:\"Edit\",children:/*#__PURE__*/_jsx(Edit2,{className:\"w-4 h-4\"})})]})})]},job.id||index))})]}),filteredAndSortedJobCounts.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(Calculator,{className:\"mx-auto h-12 w-12 text-gray-400\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"mt-2 text-sm font-medium text-gray-900\",children:\"No job counts found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500\",children:hasActiveFilters?'Try adjusting your search or filter criteria.':'Get started by adding your first job count.'})]})]})}),filteredAndSortedJobCounts.length>0&&totalPages>1&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-4 rounded-lg shadow-sm border\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(1),disabled:currentPage===1,className:\"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\",children:\"First\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentPage(prev=>Math.max(1,prev-1)),disabled:currentPage===1,className:\"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\",children:[/*#__PURE__*/_jsx(ChevronLeft,{className:\"w-4 h-4 mr-1\"}),\"Previous\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-1\",children:Array.from({length:Math.min(7,totalPages)},(_,i)=>{let pageNum;if(totalPages<=7){pageNum=i+1;}else if(currentPage<=4){pageNum=i+1;}else if(currentPage>=totalPages-3){pageNum=totalPages-6+i;}else{pageNum=currentPage-3+i;}return/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(pageNum),className:\"px-3 py-2 text-sm font-medium rounded-lg \".concat(currentPage===pageNum?'bg-blue-600 text-white':'text-gray-700 bg-white border border-gray-300 hover:bg-gray-50'),children:pageNum},pageNum);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentPage(prev=>Math.min(totalPages,prev+1)),disabled:currentPage===totalPages,className:\"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\",children:[\"Next\",/*#__PURE__*/_jsx(ChevronRight,{className:\"w-4 h-4 ml-1\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(totalPages),disabled:currentPage===totalPages,className:\"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\",children:\"Last\"})]})]})})]});}export default JobCountView;","map":{"version":3,"names":["React","useState","useMemo","useCallback","useEffect","Plus","Edit2","Eye","RefreshCw","Search","Calendar","Calculator","Users","TrendingUp","ChevronUp","ChevronDown","Filter","X","ChevronLeft","ChevronRight","Settings","Save","jsx","_jsx","jsxs","_jsxs","JobCountView","_ref","jobCounts","onAddJobCount","onEditJobCount","onDeleteJobCount","onRefreshJobCounts","onSelectJobCount","searchTerm","setSearchTerm","filterDate","setFilterDate","sortConfig","setSortConfig","key","direction","columnFilters","setColumnFilters","showFilters","setShowFilters","currentPage","setCurrentPage","itemsPerPage","setItemsPerPage","showColumnSettings","setShowColumnSettings","defaultVisibleColumns","date","customer","phone","address","email","sqFt","ridgeLf","valleyLf","eavesLf","quote","quality","disposition","leadSource","roofAge","roofType","ridgeVents","turbine","rimeFlow","highProfileRidgeCap","valleyMetal","pipes1Half","pipes2","pipes3","pipes4","gables","turtleBacks","satellite","chimney","solar","swampCooler","guttersLf","downspouts","gutterGuardLf","permanentLighting","loadSavedColumns","saved","localStorage","getItem","JSON","parse","error","console","visibleColumns","setVisibleColumns","tempVisibleColumns","setTempVisibleColumns","handleSaveColumns","setItem","stringify","formatNumber","value","Number","toLocaleString","formatDate","dateString","Date","toLocaleDateString","_unused","formatPhone","cleaned","toString","replace","length","concat","slice","handleSort","prevConfig","availableColumns","label","type","category","getSortValue","job","column","find","col","customerName","firstName","lastName","trim","phoneNumber","parseFloat","dabellaQuote","toggleColumnVisibility","columnKey","prev","_objectSpread","updateColumnFilter","newFilters","undefined","clearAllFilters","filteredAndSortedJobCounts","filtered","filter","_job$phoneNumber","matchesSearch","some","field","toLowerCase","includes","matchesDate","matchesColumnFilters","Object","entries","every","_ref2","filterValue","jobValue","_job$phoneNumber2","columnConfig","sort","a","b","aValue","bValue","comparison","localeCompare","paginatedJobCounts","startIndex","endIndex","totalPages","Math","ceil","hasActiveFilters","keys","summaryStats","reduce","stats","totalJobs","totalSqFt","totalRidgeLf","totalValleyLf","SortableHeader","_ref3","_availableColumns$fin","sortKey","children","className","hasFilter","onClick","ColumnFilter","onChange","_ref4","placeholder","e","target","stopPropagation","values","Boolean","min","map","checked","index","renderCellContent","href","title","id","disabled","max","Array","from","_","i","pageNum"],"sources":["c:/Users/PC_User/Desktop/free-crm/bhotch-crm/src/features/jobcount/JobCountView.jsx"],"sourcesContent":["import React, { useState, useMemo, useCallback, useEffect } from 'react';\r\nimport { Plus, Edit2, Eye, RefreshCw, Search, Calendar, Calculator, Users, TrendingUp, ChevronUp, ChevronDown, Filter, X, ChevronLeft, ChevronRight, Settings, Save } from 'lucide-react';\r\n\r\nfunction JobCountView({ jobCounts, onAddJobCount, onEditJobCount, onDeleteJobCount, onRefreshJobCounts, onSelectJobCount }) {\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [filterDate, setFilterDate] = useState('');\r\n    const [sortConfig, setSortConfig] = useState({ key: null, direction: 'asc' });\r\n    const [columnFilters, setColumnFilters] = useState({});\r\n    const [showFilters, setShowFilters] = useState(false);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [itemsPerPage, setItemsPerPage] = useState(25);\r\n    const [showColumnSettings, setShowColumnSettings] = useState(false);\r\n\r\n    // Default column visibility settings\r\n    const defaultVisibleColumns = {\r\n        date: true,\r\n        customer: true,\r\n        phone: true,\r\n        address: true,\r\n        email: false,\r\n        sqFt: true,\r\n        ridgeLf: true,\r\n        valleyLf: true,\r\n        eavesLf: false,\r\n        quote: true,\r\n        quality: true,\r\n        disposition: true,\r\n        leadSource: true,\r\n        roofAge: false,\r\n        roofType: false,\r\n        ridgeVents: false,\r\n        turbine: false,\r\n        rimeFlow: false,\r\n        highProfileRidgeCap: false,\r\n        valleyMetal: false,\r\n        pipes1Half: false,\r\n        pipes2: false,\r\n        pipes3: false,\r\n        pipes4: false,\r\n        gables: false,\r\n        turtleBacks: false,\r\n        satellite: false,\r\n        chimney: false,\r\n        solar: false,\r\n        swampCooler: false,\r\n        guttersLf: false,\r\n        downspouts: false,\r\n        gutterGuardLf: false,\r\n        permanentLighting: false\r\n    };\r\n\r\n    // Load saved column preferences from localStorage\r\n    const loadSavedColumns = () => {\r\n        try {\r\n            const saved = localStorage.getItem('jobCountVisibleColumns');\r\n            if (saved) {\r\n                return JSON.parse(saved);\r\n            }\r\n        } catch (error) {\r\n            console.error('Error loading saved columns:', error);\r\n        }\r\n        return defaultVisibleColumns;\r\n    };\r\n\r\n    const [visibleColumns, setVisibleColumns] = useState(loadSavedColumns);\r\n    const [tempVisibleColumns, setTempVisibleColumns] = useState(loadSavedColumns);\r\n\r\n    // Save column preferences to localStorage when save button is clicked\r\n    const handleSaveColumns = useCallback(() => {\r\n        try {\r\n            localStorage.setItem('jobCountVisibleColumns', JSON.stringify(tempVisibleColumns));\r\n            setVisibleColumns(tempVisibleColumns);\r\n            setShowColumnSettings(false);\r\n        } catch (error) {\r\n            console.error('Error saving columns:', error);\r\n        }\r\n    }, [tempVisibleColumns]);\r\n\r\n    const formatNumber = useCallback((value) => {\r\n        if (!value || value === '0' || value === '-') return '-';\r\n        return Number(value).toLocaleString();\r\n    }, []);\r\n\r\n    const formatDate = useCallback((dateString) => {\r\n        if (!dateString) return '-';\r\n        try {\r\n            return new Date(dateString).toLocaleDateString();\r\n        } catch {\r\n            return dateString;\r\n        }\r\n    }, []);\r\n\r\n    const formatPhone = useCallback((phone) => {\r\n        if (!phone) return '-';\r\n        const cleaned = phone.toString().replace(/\\D/g, '');\r\n        if (cleaned.length === 10) {\r\n            return `(${cleaned.slice(0, 3)}) ${cleaned.slice(3, 6)}-${cleaned.slice(6)}`;\r\n        }\r\n        return phone;\r\n    }, []);\r\n\r\n    const handleSort = useCallback((key) => {\r\n        setSortConfig(prevConfig => ({\r\n            key,\r\n            direction: prevConfig.key === key && prevConfig.direction === 'asc' ? 'desc' : 'asc'\r\n        }));\r\n    }, []);\r\n\r\n    const availableColumns = useMemo(() => [\r\n        { key: 'date', label: 'Date', type: 'date', category: 'Basic' },\r\n        { key: 'customer', label: 'Customer', type: 'text', category: 'Basic' },\r\n        { key: 'phone', label: 'Phone', type: 'text', category: 'Basic' },\r\n        { key: 'email', label: 'Email', type: 'text', category: 'Basic' },\r\n        { key: 'address', label: 'Address', type: 'text', category: 'Basic' },\r\n        { key: 'quality', label: 'Quality', type: 'text', category: 'Job Info' },\r\n        { key: 'disposition', label: 'Disposition', type: 'text', category: 'Job Info' },\r\n        { key: 'leadSource', label: 'Lead Source', type: 'text', category: 'Job Info' },\r\n        { key: 'roofAge', label: 'Roof Age', type: 'text', category: 'Job Info' },\r\n        { key: 'roofType', label: 'Roof Type', type: 'text', category: 'Job Info' },\r\n        { key: 'sqFt', label: 'SQ FT', type: 'number', category: 'Measurements' },\r\n        { key: 'ridgeLf', label: 'Ridge LF', type: 'number', category: 'Measurements' },\r\n        { key: 'valleyLf', label: 'Valley LF', type: 'number', category: 'Measurements' },\r\n        { key: 'eavesLf', label: 'Eaves LF', type: 'number', category: 'Measurements' },\r\n        { key: 'quote', label: 'Quote', type: 'number', category: 'Financial' },\r\n        { key: 'ridgeVents', label: 'Ridge Vents', type: 'number', category: 'Ventilation' },\r\n        { key: 'turbine', label: 'Turbine', type: 'number', category: 'Ventilation' },\r\n        { key: 'rimeFlow', label: 'Rime Flow', type: 'number', category: 'Ventilation' },\r\n        { key: 'highProfileRidgeCap', label: 'High Profile Ridge Cap', type: 'number', category: 'Components' },\r\n        { key: 'valleyMetal', label: 'Valley Metal', type: 'number', category: 'Components' },\r\n        { key: 'pipes1Half', label: 'Pipes 1.5\"', type: 'number', category: 'Pipes' },\r\n        { key: 'pipes2', label: 'Pipes 2\"', type: 'number', category: 'Pipes' },\r\n        { key: 'pipes3', label: 'Pipes 3\"', type: 'number', category: 'Pipes' },\r\n        { key: 'pipes4', label: 'Pipes 4\"', type: 'number', category: 'Pipes' },\r\n        { key: 'gables', label: 'Gables', type: 'number', category: 'Features' },\r\n        { key: 'turtleBacks', label: 'Turtle Backs', type: 'number', category: 'Features' },\r\n        { key: 'satellite', label: 'Satellite', type: 'number', category: 'Features' },\r\n        { key: 'chimney', label: 'Chimney', type: 'number', category: 'Features' },\r\n        { key: 'solar', label: 'Solar', type: 'number', category: 'Features' },\r\n        { key: 'swampCooler', label: 'Swamp Cooler', type: 'number', category: 'Features' },\r\n        { key: 'guttersLf', label: 'Gutters LF', type: 'number', category: 'Gutters' },\r\n        { key: 'downspouts', label: 'Downspouts', type: 'number', category: 'Gutters' },\r\n        { key: 'gutterGuardLf', label: 'Gutter Guard LF', type: 'number', category: 'Gutters' },\r\n        { key: 'permanentLighting', label: 'Permanent Lighting', type: 'number', category: 'Additional' }\r\n    ], []);\r\n\r\n    const getSortValue = useCallback((job, key) => {\r\n        const column = availableColumns.find(col => col.key === key);\r\n\r\n        if (key === 'customer') {\r\n            return job.customerName || `${job.firstName || ''} ${job.lastName || ''}`.trim() || 'Unknown';\r\n        }\r\n        if (key === 'phone') {\r\n            return job.phoneNumber || '';\r\n        }\r\n        if (key === 'quote') {\r\n            return parseFloat(job.dabellaQuote) || 0;\r\n        }\r\n\r\n        if (column?.type === 'number') {\r\n            return parseFloat(job[key]) || 0;\r\n        }\r\n\r\n        return job[key] || '';\r\n    }, [availableColumns]);\r\n\r\n    const toggleColumnVisibility = useCallback((columnKey) => {\r\n        setTempVisibleColumns(prev => ({\r\n            ...prev,\r\n            [columnKey]: !prev[columnKey]\r\n        }));\r\n    }, []);\r\n\r\n    const updateColumnFilter = useCallback((column, value) => {\r\n        setColumnFilters(prev => {\r\n            const newFilters = { ...prev };\r\n            if (value === '' || value === null || value === undefined) {\r\n                delete newFilters[column];\r\n            } else {\r\n                newFilters[column] = value;\r\n            }\r\n            setCurrentPage(1); // Reset to first page when filtering\r\n            return newFilters;\r\n        });\r\n    }, []);\r\n\r\n    const clearAllFilters = useCallback(() => {\r\n        setColumnFilters({});\r\n        setSearchTerm('');\r\n        setFilterDate('');\r\n        setCurrentPage(1);\r\n    }, []);\r\n\r\n    const filteredAndSortedJobCounts = useMemo(() => {\r\n        let filtered = jobCounts.filter(job => {\r\n            // Global search filter\r\n            const matchesSearch = !searchTerm || [\r\n                job.firstName,\r\n                job.lastName,\r\n                job.customerName,\r\n                job.phoneNumber?.toString(),\r\n                job.address,\r\n                job.quality,\r\n                job.disposition,\r\n                job.leadSource\r\n            ].some(field => field?.toLowerCase().includes(searchTerm.toLowerCase()));\r\n\r\n            // Date filter\r\n            const matchesDate = !filterDate || job.date === filterDate;\r\n\r\n            // Column-specific filters\r\n            const matchesColumnFilters = Object.entries(columnFilters).every(([column, filterValue]) => {\r\n                if (!filterValue) return true;\r\n\r\n                let jobValue;\r\n                if (column === 'customer') {\r\n                    jobValue = job.customerName || `${job.firstName || ''} ${job.lastName || ''}`.trim();\r\n                } else if (column === 'phone') {\r\n                    jobValue = job.phoneNumber?.toString() || '';\r\n                } else if (column === 'quote') {\r\n                    jobValue = parseFloat(job.dabellaQuote) || 0;\r\n                } else {\r\n                    const columnConfig = availableColumns.find(col => col.key === column);\r\n                    if (columnConfig?.type === 'number') {\r\n                        jobValue = parseFloat(job[column]) || 0;\r\n                    } else {\r\n                        jobValue = job[column] || '';\r\n                    }\r\n                }\r\n\r\n                const columnConfig = availableColumns.find(col => col.key === column);\r\n                if (columnConfig?.type === 'number') {\r\n                    return jobValue >= parseFloat(filterValue);\r\n                } else {\r\n                    return jobValue.toString().toLowerCase().includes(filterValue.toLowerCase());\r\n                }\r\n            });\r\n\r\n            return matchesSearch && matchesDate && matchesColumnFilters;\r\n        });\r\n\r\n        if (sortConfig.key) {\r\n            filtered.sort((a, b) => {\r\n                const aValue = getSortValue(a, sortConfig.key);\r\n                const bValue = getSortValue(b, sortConfig.key);\r\n\r\n                if (typeof aValue === 'string' && typeof bValue === 'string') {\r\n                    const comparison = aValue.toLowerCase().localeCompare(bValue.toLowerCase());\r\n                    return sortConfig.direction === 'asc' ? comparison : -comparison;\r\n                } else {\r\n                    const comparison = aValue - bValue;\r\n                    return sortConfig.direction === 'asc' ? comparison : -comparison;\r\n                }\r\n            });\r\n        }\r\n\r\n        return filtered;\r\n    }, [jobCounts, searchTerm, filterDate, columnFilters, sortConfig, getSortValue, availableColumns]);\r\n\r\n    const paginatedJobCounts = useMemo(() => {\r\n        const startIndex = (currentPage - 1) * itemsPerPage;\r\n        const endIndex = startIndex + itemsPerPage;\r\n        return filteredAndSortedJobCounts.slice(startIndex, endIndex);\r\n    }, [filteredAndSortedJobCounts, currentPage, itemsPerPage]);\r\n\r\n    const totalPages = Math.ceil(filteredAndSortedJobCounts.length / itemsPerPage);\r\n\r\n    const hasActiveFilters = useMemo(() => {\r\n        return searchTerm || filterDate || Object.keys(columnFilters).length > 0;\r\n    }, [searchTerm, filterDate, columnFilters]);\r\n\r\n    const summaryStats = useMemo(() => {\r\n        return filteredAndSortedJobCounts.reduce((stats, job) => {\r\n            stats.totalJobs += 1;\r\n            stats.totalSqFt += parseFloat(job.sqFt) || 0;\r\n            stats.totalRidgeLf += parseFloat(job.ridgeLf) || 0;\r\n            stats.totalValleyLf += parseFloat(job.valleyLf) || 0;\r\n            return stats;\r\n        }, { totalJobs: 0, totalSqFt: 0, totalRidgeLf: 0, totalValleyLf: 0 });\r\n    }, [filteredAndSortedJobCounts]);\r\n\r\n    const SortableHeader = ({ sortKey, children, className = \"\" }) => {\r\n        const hasFilter = columnFilters[sortKey];\r\n        return (\r\n            <th className={`px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ${className}`}>\r\n                <div className=\"space-y-2\">\r\n                    <div\r\n                        className=\"flex items-center justify-between cursor-pointer hover:bg-gray-100 transition-colors select-none p-1 rounded\"\r\n                        onClick={() => handleSort(sortKey)}\r\n                    >\r\n                        <span className={hasFilter ? 'text-blue-600 font-semibold' : ''}>{children}</span>\r\n                        <div className=\"flex items-center space-x-1\">\r\n                            {hasFilter && <Filter className=\"w-3 h-3 text-blue-600\" />}\r\n                            <div className=\"flex flex-col\">\r\n                                <ChevronUp\r\n                                    className={`w-3 h-3 ${sortConfig.key === sortKey && sortConfig.direction === 'asc' ? 'text-blue-600' : 'text-gray-300'}`}\r\n                                />\r\n                                <ChevronDown\r\n                                    className={`w-3 h-3 -mt-1 ${sortConfig.key === sortKey && sortConfig.direction === 'desc' ? 'text-blue-600' : 'text-gray-300'}`}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    {showFilters && (\r\n                        <ColumnFilter\r\n                            column={sortKey}\r\n                            value={columnFilters[sortKey] || ''}\r\n                            onChange={(value) => updateColumnFilter(sortKey, value)}\r\n                            type={availableColumns.find(col => col.key === sortKey)?.type || 'text'}\r\n                        />\r\n                    )}\r\n                </div>\r\n            </th>\r\n        );\r\n    };\r\n\r\n    const ColumnFilter = ({ column, value, onChange, type }) => {\r\n        const placeholder = type === 'number' ? 'Min value...' : 'Filter...';\r\n        return (\r\n            <div className=\"relative\">\r\n                <input\r\n                    type={type === 'number' ? 'number' : type === 'date' ? 'date' : 'text'}\r\n                    value={value}\r\n                    onChange={(e) => onChange(e.target.value)}\r\n                    placeholder={placeholder}\r\n                    className=\"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500\"\r\n                    onClick={(e) => e.stopPropagation()}\r\n                />\r\n                {value && (\r\n                    <button\r\n                        onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            onChange('');\r\n                        }}\r\n                        className=\"absolute right-1 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600\"\r\n                    >\r\n                        <X className=\"w-3 h-3\" />\r\n                    </button>\r\n                )}\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            {/* Header */}\r\n            <div className=\"flex justify-between items-center\">\r\n                <div>\r\n                    <h2 className=\"text-3xl font-bold text-gray-900\">Job Count Management</h2>\r\n                    <p className=\"text-gray-600 mt-1\">Track roofing job counts, measurements, and customer information</p>\r\n                </div>\r\n                <div className=\"flex items-center space-x-3\">\r\n                    <button\r\n                        onClick={onRefreshJobCounts}\r\n                        className=\"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors\"\r\n                    >\r\n                        <RefreshCw className=\"w-4 h-4 mr-2\" />\r\n                        Refresh\r\n                    </button>\r\n                    <button\r\n                        onClick={onAddJobCount}\r\n                        className=\"inline-flex items-center px-4 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors\"\r\n                    >\r\n                        <Plus className=\"w-4 h-4 mr-2\" />\r\n                        Add Job Count\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Search and Filters */}\r\n            <div className=\"bg-white p-6 rounded-lg shadow-sm border\">\r\n                <div className=\"space-y-4\">\r\n                    {/* Main Search and Date Filter */}\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                        <div className=\"relative md:col-span-2\">\r\n                            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5\" />\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"Search across all fields...\"\r\n                                value={searchTerm}\r\n                                onChange={(e) => setSearchTerm(e.target.value)}\r\n                                className=\"pl-10 pr-4 py-3 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"relative\">\r\n                            <Calendar className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5\" />\r\n                            <input\r\n                                type=\"date\"\r\n                                value={filterDate}\r\n                                onChange={(e) => setFilterDate(e.target.value)}\r\n                                className=\"pl-10 pr-4 py-3 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Filter Controls */}\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div className=\"flex items-center space-x-4\">\r\n                            <button\r\n                                onClick={() => setShowFilters(!showFilters)}\r\n                                className={`inline-flex items-center px-3 py-2 border rounded-lg text-sm font-medium transition-colors ${\r\n                                    showFilters\r\n                                        ? 'border-blue-500 text-blue-700 bg-blue-50'\r\n                                        : 'border-gray-300 text-gray-700 bg-white hover:bg-gray-50'\r\n                                }`}\r\n                            >\r\n                                <Filter className=\"w-4 h-4 mr-2\" />\r\n                                Column Filters\r\n                                {Object.keys(columnFilters).length > 0 && (\r\n                                    <span className=\"ml-2 bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full\">\r\n                                        {Object.keys(columnFilters).length}\r\n                                    </span>\r\n                                )}\r\n                            </button>\r\n\r\n                            <button\r\n                                onClick={() => setShowColumnSettings(!showColumnSettings)}\r\n                                className={`inline-flex items-center px-3 py-2 border rounded-lg text-sm font-medium transition-colors ${\r\n                                    showColumnSettings\r\n                                        ? 'border-purple-500 text-purple-700 bg-purple-50'\r\n                                        : 'border-gray-300 text-gray-700 bg-white hover:bg-gray-50'\r\n                                }`}\r\n                            >\r\n                                <Settings className=\"w-4 h-4 mr-2\" />\r\n                                Manage Columns\r\n                                <span className=\"ml-2 bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded-full\">\r\n                                    {Object.values(visibleColumns).filter(Boolean).length}\r\n                                </span>\r\n                            </button>\r\n\r\n                            {hasActiveFilters && (\r\n                                <button\r\n                                    onClick={clearAllFilters}\r\n                                    className=\"inline-flex items-center px-3 py-2 border border-red-300 rounded-lg text-sm font-medium text-red-700 bg-red-50 hover:bg-red-100 transition-colors\"\r\n                                >\r\n                                    <X className=\"w-4 h-4 mr-2\" />\r\n                                    Clear All Filters\r\n                                </button>\r\n                            )}\r\n                        </div>\r\n\r\n                        <div className=\"flex items-center space-x-3\">\r\n                            <select\r\n                                value={itemsPerPage}\r\n                                onChange={(e) => {\r\n                                    setItemsPerPage(Number(e.target.value));\r\n                                    setCurrentPage(1);\r\n                                }}\r\n                                className=\"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                            >\r\n                                <option value={10}>10 per page</option>\r\n                                <option value={25}>25 per page</option>\r\n                                <option value={50}>50 per page</option>\r\n                                <option value={100}>100 per page</option>\r\n                            </select>\r\n\r\n                            <div className=\"text-sm text-gray-600\">\r\n                                Showing {filteredAndSortedJobCounts.length === 0 ? 0 : ((currentPage - 1) * itemsPerPage) + 1}-{Math.min(currentPage * itemsPerPage, filteredAndSortedJobCounts.length)} of {filteredAndSortedJobCounts.length}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Column Settings Panel */}\r\n            {showColumnSettings && (\r\n                <div className=\"bg-white p-6 rounded-lg shadow-sm border\">\r\n                    <div className=\"flex justify-between items-center mb-4\">\r\n                        <h3 className=\"text-lg font-semibold text-gray-900\">Manage Visible Columns</h3>\r\n                        <button\r\n                            onClick={() => {\r\n                                setTempVisibleColumns(visibleColumns);\r\n                                setShowColumnSettings(false);\r\n                            }}\r\n                            className=\"text-gray-400 hover:text-gray-600\"\r\n                        >\r\n                            <X className=\"w-5 h-5\" />\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4 mb-6\">\r\n                        {availableColumns.map(column => (\r\n                            <label\r\n                                key={column.key}\r\n                                className=\"flex items-center space-x-2 p-2 rounded hover:bg-gray-50 cursor-pointer\"\r\n                            >\r\n                                <input\r\n                                    type=\"checkbox\"\r\n                                    checked={tempVisibleColumns[column.key]}\r\n                                    onChange={() => toggleColumnVisibility(column.key)}\r\n                                    className=\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\r\n                                />\r\n                                <span className=\"text-sm text-gray-700\">{column.label}</span>\r\n                            </label>\r\n                        ))}\r\n                    </div>\r\n                    <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n                        <button\r\n                            onClick={() => {\r\n                                setTempVisibleColumns(visibleColumns);\r\n                                setShowColumnSettings(false);\r\n                            }}\r\n                            className=\"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors\"\r\n                        >\r\n                            Cancel\r\n                        </button>\r\n                        <button\r\n                            onClick={handleSaveColumns}\r\n                            className=\"inline-flex items-center px-4 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors\"\r\n                        >\r\n                            <Save className=\"w-4 h-4 mr-2\" />\r\n                            Save Column Selection\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Summary Statistics */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n                <div className=\"bg-white rounded-lg shadow-sm border p-6\">\r\n                    <div className=\"flex items-center\">\r\n                        <div className=\"flex-shrink-0\">\r\n                            <Users className=\"h-8 w-8 text-blue-600\" />\r\n                        </div>\r\n                        <div className=\"ml-4\">\r\n                            <p className=\"text-sm font-medium text-gray-600\">Total Jobs</p>\r\n                            <p className=\"text-2xl font-bold text-gray-900\">{summaryStats.totalJobs}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"bg-white rounded-lg shadow-sm border p-6\">\r\n                    <div className=\"flex items-center\">\r\n                        <div className=\"flex-shrink-0\">\r\n                            <Calculator className=\"h-8 w-8 text-green-600\" />\r\n                        </div>\r\n                        <div className=\"ml-4\">\r\n                            <p className=\"text-sm font-medium text-gray-600\">Total SQ FT</p>\r\n                            <p className=\"text-2xl font-bold text-gray-900\">{formatNumber(summaryStats.totalSqFt)}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"bg-white rounded-lg shadow-sm border p-6\">\r\n                    <div className=\"flex items-center\">\r\n                        <div className=\"flex-shrink-0\">\r\n                            <TrendingUp className=\"h-8 w-8 text-purple-600\" />\r\n                        </div>\r\n                        <div className=\"ml-4\">\r\n                            <p className=\"text-sm font-medium text-gray-600\">Total Ridge LF</p>\r\n                            <p className=\"text-2xl font-bold text-gray-900\">{formatNumber(summaryStats.totalRidgeLf)}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"bg-white rounded-lg shadow-sm border p-6\">\r\n                    <div className=\"flex items-center\">\r\n                        <div className=\"flex-shrink-0\">\r\n                            <TrendingUp className=\"h-8 w-8 text-orange-600\" />\r\n                        </div>\r\n                        <div className=\"ml-4\">\r\n                            <p className=\"text-sm font-medium text-gray-600\">Total Valley LF</p>\r\n                            <p className=\"text-2xl font-bold text-gray-900\">{formatNumber(summaryStats.totalValleyLf)}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Job Counts Table */}\r\n            <div className=\"bg-white rounded-lg shadow-lg border border-gray-200 overflow-hidden\">\r\n                <div className=\"overflow-x-auto\">\r\n                    <table className=\"min-w-full divide-y divide-gray-200\">\r\n                        <thead className=\"bg-gradient-to-r from-gray-50 to-gray-100\">\r\n                            <tr>\r\n                                {availableColumns.filter(col => visibleColumns[col.key]).map(column => (\r\n                                    <SortableHeader key={column.key} sortKey={column.key}>\r\n                                        {column.label}\r\n                                    </SortableHeader>\r\n                                ))}\r\n                                <th className=\"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Actions</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody className=\"bg-white divide-y divide-gray-100\">\r\n                            {paginatedJobCounts.map((job, index) => (\r\n                                <tr\r\n                                    key={job.id || index}\r\n                                    className={`cursor-pointer transition-all duration-200 hover:bg-blue-50 hover:shadow-md transform hover:-translate-y-0.5 ${\r\n                                        index % 2 === 0 ? 'bg-white' : 'bg-gray-50'\r\n                                    }`}\r\n                                    onClick={() => onSelectJobCount(job)}\r\n                                >\r\n                                    {availableColumns.filter(col => visibleColumns[col.key]).map(column => {\r\n                                        const renderCellContent = () => {\r\n                                            if (column.key === 'date') {\r\n                                                return <div className=\"text-sm font-medium text-gray-900\">{formatDate(job.date)}</div>;\r\n                                            }\r\n                                            if (column.key === 'customer') {\r\n                                                return (\r\n                                                    <div className=\"text-sm font-semibold text-gray-900\">\r\n                                                        {job.customerName || `${job.firstName || ''} ${job.lastName || ''}`.trim() || 'Unknown'}\r\n                                                    </div>\r\n                                                );\r\n                                            }\r\n                                            if (column.key === 'phone') {\r\n                                                return (\r\n                                                    <a\r\n                                                        href={`tel:${job.phoneNumber}`}\r\n                                                        onClick={(e) => e.stopPropagation()}\r\n                                                        className=\"text-sm font-medium text-blue-600 hover:text-blue-800 hover:underline transition-colors\"\r\n                                                    >\r\n                                                        {formatPhone(job.phoneNumber)}\r\n                                                    </a>\r\n                                                );\r\n                                            }\r\n                                            if (column.key === 'email') {\r\n                                                return job.email ? (\r\n                                                    <a\r\n                                                        href={`mailto:${job.email}`}\r\n                                                        onClick={(e) => e.stopPropagation()}\r\n                                                        className=\"text-sm text-blue-600 hover:text-blue-800 hover:underline transition-colors\"\r\n                                                    >\r\n                                                        {job.email}\r\n                                                    </a>\r\n                                                ) : '-';\r\n                                            }\r\n                                            if (column.key === 'address') {\r\n                                                return <div className=\"text-sm text-gray-700 truncate max-w-xs\">{job.address || '-'}</div>;\r\n                                            }\r\n                                            if (column.key === 'quote') {\r\n                                                return job.dabellaQuote ? (\r\n                                                    <span className=\"text-sm bg-green-100 text-green-800 px-3 py-1 rounded-full font-medium\">\r\n                                                        ${formatNumber(job.dabellaQuote)}\r\n                                                    </span>\r\n                                                ) : '-';\r\n                                            }\r\n                                            if (column.type === 'number') {\r\n                                                const value = job[column.key];\r\n                                                return value ? (\r\n                                                    <div className=\"text-sm font-medium text-gray-900\">{formatNumber(value)}</div>\r\n                                                ) : '-';\r\n                                            }\r\n                                            return <div className=\"text-sm text-gray-900\">{job[column.key] || '-'}</div>;\r\n                                        };\r\n\r\n                                        return (\r\n                                            <td key={column.key} className=\"px-6 py-5 whitespace-nowrap\">\r\n                                                {renderCellContent()}\r\n                                            </td>\r\n                                        );\r\n                                    })}\r\n                                    <td className=\"px-6 py-5 whitespace-nowrap text-sm font-medium\">\r\n                                        <div className=\"flex items-center space-x-3\">\r\n                                            <button\r\n                                                onClick={(e) => { e.stopPropagation(); onSelectJobCount(job); }}\r\n                                                className=\"text-blue-600 hover:text-blue-900 p-2 rounded-lg hover:bg-blue-100 transition-all duration-200 hover:scale-110\"\r\n                                                title=\"View Details\"\r\n                                            >\r\n                                                <Eye className=\"w-4 h-4\" />\r\n                                            </button>\r\n                                            <button\r\n                                                onClick={(e) => { e.stopPropagation(); onEditJobCount(job); }}\r\n                                                className=\"text-orange-600 hover:text-orange-900 p-2 rounded-lg hover:bg-orange-100 transition-all duration-200 hover:scale-110\"\r\n                                                title=\"Edit\"\r\n                                            >\r\n                                                <Edit2 className=\"w-4 h-4\" />\r\n                                            </button>\r\n                                        </div>\r\n                                    </td>\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n                    {filteredAndSortedJobCounts.length === 0 && (\r\n                        <div className=\"text-center py-12\">\r\n                            <Calculator className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n                            <h3 className=\"mt-2 text-sm font-medium text-gray-900\">No job counts found</h3>\r\n                            <p className=\"mt-1 text-sm text-gray-500\">\r\n                                {hasActiveFilters\r\n                                    ? 'Try adjusting your search or filter criteria.'\r\n                                    : 'Get started by adding your first job count.'}\r\n                            </p>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Pagination */}\r\n            {filteredAndSortedJobCounts.length > 0 && totalPages > 1 && (\r\n                <div className=\"bg-white p-4 rounded-lg shadow-sm border\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div className=\"flex items-center space-x-2\">\r\n                            <button\r\n                                onClick={() => setCurrentPage(1)}\r\n                                disabled={currentPage === 1}\r\n                                className=\"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                            >\r\n                                First\r\n                            </button>\r\n                            <button\r\n                                onClick={() => setCurrentPage(prev => Math.max(1, prev - 1))}\r\n                                disabled={currentPage === 1}\r\n                                className=\"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                            >\r\n                                <ChevronLeft className=\"w-4 h-4 mr-1\" />\r\n                                Previous\r\n                            </button>\r\n                        </div>\r\n\r\n                        <div className=\"flex items-center space-x-1\">\r\n                            {Array.from({ length: Math.min(7, totalPages) }, (_, i) => {\r\n                                let pageNum;\r\n                                if (totalPages <= 7) {\r\n                                    pageNum = i + 1;\r\n                                } else if (currentPage <= 4) {\r\n                                    pageNum = i + 1;\r\n                                } else if (currentPage >= totalPages - 3) {\r\n                                    pageNum = totalPages - 6 + i;\r\n                                } else {\r\n                                    pageNum = currentPage - 3 + i;\r\n                                }\r\n\r\n                                return (\r\n                                    <button\r\n                                        key={pageNum}\r\n                                        onClick={() => setCurrentPage(pageNum)}\r\n                                        className={`px-3 py-2 text-sm font-medium rounded-lg ${\r\n                                            currentPage === pageNum\r\n                                                ? 'bg-blue-600 text-white'\r\n                                                : 'text-gray-700 bg-white border border-gray-300 hover:bg-gray-50'\r\n                                        }`}\r\n                                    >\r\n                                        {pageNum}\r\n                                    </button>\r\n                                );\r\n                            })}\r\n                        </div>\r\n\r\n                        <div className=\"flex items-center space-x-2\">\r\n                            <button\r\n                                onClick={() => setCurrentPage(prev => Math.min(totalPages, prev + 1))}\r\n                                disabled={currentPage === totalPages}\r\n                                className=\"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                            >\r\n                                Next\r\n                                <ChevronRight className=\"w-4 h-4 ml-1\" />\r\n                            </button>\r\n                            <button\r\n                                onClick={() => setCurrentPage(totalPages)}\r\n                                disabled={currentPage === totalPages}\r\n                                className=\"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                            >\r\n                                Last\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default JobCountView;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}